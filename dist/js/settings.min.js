angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};n?n.get(t)?e.use(n.get(t))["catch"](a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,a,i,o,r,s,l,c,u,p,d,f,h,g,m={},v=[],b=e,$=[],y=!1,w="translate-cloak",k=!1,x=".",C="2.5.2",D=function(){var e,t,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if(t=n.languages[e],t&&t.length)return t;for(e=0;e<a.length;e++)if(t=n[a[e]],t&&t.length)return t;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var T=function(){return(D()||"").split("-").join("_")};T.displayName="angular-translate/service: getLocale";var E=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},S=function(){return this.replace(/^\s+|\s+$/g,"")},O=function(e){for(var t=[],a=angular.lowercase(e),i=0,o=v.length;o>i;i++)t.push(angular.lowercase(v[i]));if(E(t,a)>-1)return e;if(n){var r;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(r=n[s],E(t,angular.lowercase(r))>-1))return r}}var u=e.split("_");return u.length>1&&E(t,angular.lowercase(u[0]))>-1?u[0]:e},M=function(e,t){if(!e&&!t)return m;if(e&&!t){if(angular.isString(e))return m[e]}else angular.isObject(m[e])||(m[e]={}),angular.extend(m[e],P(t));return this};this.translations=M,this.cloakClassName=function(e){return e?(w=e,this):w};var P=function(e,t,n,a){var i,o,r,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?P(s,t.concat(i),n,i):(o=t.length?""+t.join(x)+x+i:i,t.length&&i===a&&(r=""+t.join(x),n[r]="@:"+o),n[o]=s));return n};this.addInterpolation=function(e){return $.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return u=e,this},this.useSanitizeValueStrategy=function(e){return y=e,this},this.preferredLanguage=function(e){return A(e),this};var A=function(e){return e&&(t=e),t};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(f=e,this):f},this.translationNotFoundIndicatorRight=function(e){return e?(h=e,this):h},this.fallbackLanguage=function(e){return I(e),this};var I=function(e){return e?(angular.isString(e)?(i=!0,a=[e]):angular.isArray(e)&&(i=!1,a=e),angular.isString(t)&&E(a,t)<0&&a.push(t),this):i?a[0]:a};this.use=function(e){if(e){if(!m[e]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return o=e,this}return o};var L=function(e){return e?(b=e,void 0):l?l+b:b};this.storageKey=L,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return p=e,d=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return s=e,this},this.storagePrefix=function(e){return e?(l=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return c=e,this},this.usePostCompiling=function(e){return k=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():T();return t=v.length?O(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(v=e,t&&(n=t),this):v},this.useLoaderCache=function(e){return e===!1?g=void 0:e===!0?g=!0:"undefined"==typeof e?g="$translationCache":e&&(g=e),this},this.$get=["$log","$injector","$rootScope","$q",function(e,n,l,v){var x,D,T,U=n.get(u||"$translateDefaultInterpolation"),F=!1,N={},V={},H=function(e,n,i){if(angular.isArray(e)){var r=function(e){for(var t={},a=[],o=function(e){var a=v.defer(),o=function(n){t[e]=n,a.resolve([e,n])};return H(e,n,i).then(o,o),a.promise},r=0,s=e.length;s>r;r++)a.push(o(e[r]));return v.all(a).then(function(){return t})};return r(e)}var l=v.defer();e&&(e=S.apply(e));var c=function(){var e=t?V[t]:V[o];if(D=0,s&&!e){var n=x.get(b);if(e=V[n],a&&a.length){var i=E(a,n);D=0===i?1:0,E(a,t)<0&&a.push(t)}}return e}();return c?c.then(function(){Z(e,n,i).then(l.resolve,l.reject)},l.reject):Z(e,n,i).then(l.resolve,l.reject),l.promise},j=function(e){return f&&(e=[f,e].join(" ")),h&&(e=[e,h].join(" ")),e},R=function(e){o=e,l.$emit("$translateChangeSuccess",{language:e}),s&&x.put(H.storageKey(),o),U.setLocale(o),angular.forEach(N,function(e,t){N[t].setLocale(o)}),l.$emit("$translateChangeEnd",{language:e})},q=function(e){if(!e)throw"No language key specified for loading.";var t=v.defer();l.$emit("$translateLoadingStart",{language:e}),F=!0;var a=g;"string"==typeof a&&(a=n.get(a));var i=angular.extend({},d,{key:e,$http:angular.extend({},{cache:a},d.$http)});return n.get(p)(i).then(function(n){var a={};l.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(a,P(e))}):angular.extend(a,P(n)),F=!1,t.resolve({key:e,table:a}),l.$emit("$translateLoadingEnd",{language:e})},function(e){l.$emit("$translateLoadingError",{language:e}),t.reject(e),l.$emit("$translateLoadingEnd",{language:e})}),t.promise};if(s&&(x=n.get(s),!x.get||!x.put))throw new Error("Couldn't use storage '"+s+"', missing get() or put() method!");angular.isFunction(U.useSanitizeValueStrategy)&&U.useSanitizeValueStrategy(y),$.length&&angular.forEach($,function(e){var a=n.get(e);a.setLocale(t||o),angular.isFunction(a.useSanitizeValueStrategy)&&a.useSanitizeValueStrategy(y),N[a.getInterpolationIdentifier()]=a});var _=function(e){var t=v.defer();return Object.prototype.hasOwnProperty.call(m,e)?t.resolve(m[e]):V[e]?V[e].then(function(e){M(e.key,e.table),t.resolve(e.table)},t.reject):t.reject(),t.promise},B=function(e,t,n,a){var i=v.defer();return _(e).then(function(r){Object.prototype.hasOwnProperty.call(r,t)?(a.setLocale(e),i.resolve(a.interpolate(r[t],n)),a.setLocale(o)):i.reject()},i.reject),i.promise},W=function(e,t,n,a){var i,r=m[e];return r&&Object.prototype.hasOwnProperty.call(r,t)&&(a.setLocale(e),i=a.interpolate(r[t],n),a.setLocale(o)),i},z=function(e){if(c){var t=n.get(c)(e,o);return void 0!==t?t:e}return e},Y=function(e,t,n,i){var o=v.defer();if(e<a.length){var r=a[e];B(r,t,n,i).then(o.resolve,function(){Y(e+1,t,n,i).then(o.resolve)})}else o.resolve(z(t));return o.promise},G=function(e,t,n,i){var o;if(e<a.length){var r=a[e];o=W(r,t,n,i),o||(o=G(e+1,t,n,i))}return o},K=function(e,t,n){return Y(T>0?T:D,e,t,n)},Q=function(e,t,n){return G(T>0?T:D,e,t,n)},Z=function(e,t,n){var i=v.defer(),r=o?m[o]:m,s=n?N[n]:U;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];"@:"===l.substr(0,2)?H(l.substr(2),t,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,t))}else{var u;c&&!F&&(u=z(e)),o&&a&&a.length?K(e,t,s).then(function(e){i.resolve(e)},function(e){i.reject(j(e))}):c&&!F&&u?i.resolve(u):i.reject(j(e))}return i.promise},X=function(e,t,n){var i,r=o?m[o]:m,s=n?N[n]:U;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];i="@:"===l.substr(0,2)?X(l.substr(2),t,n):s.interpolate(l,t)}else{var u;c&&!F&&(u=z(e)),o&&a&&a.length?(D=0,i=Q(e,t,s)):i=c&&!F&&u?u:j(e)}return i};if(H.preferredLanguage=function(e){return e&&A(e),t},H.cloakClassName=function(){return w},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(I(e),p&&a&&a.length)for(var t=0,n=a.length;n>t;t++)V[a[t]]||(V[a[t]]=q(a[t]));H.use(H.use())}return i?a[0]:a},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=E(a,e);t>-1&&(T=t)}else T=0},H.proposedLanguage=function(){return r},H.storage=function(){return x},H.use=function(e){if(!e)return o;var t=v.defer();l.$emit("$translateChangeStart",{language:e});var n=O(e);return n&&(e=n),m[e]||!p||V[e]?(t.resolve(e),R(e)):(r=e,V[e]=q(e).then(function(n){return M(n.key,n.table),t.resolve(n.key),R(n.key),r===e&&(r=void 0),n},function(e){r===e&&(r=void 0),l.$emit("$translateChangeError",{language:e}),t.reject(e),l.$emit("$translateChangeEnd",{language:e})})),t.promise},H.storageKey=function(){return L()},H.isPostCompilingEnabled=function(){return k},H.refresh=function(e){function t(){i.resolve(),l.$emit("$translateRefreshEnd",{language:e})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:e})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:e}),e)m[e]?q(e).then(function(n){M(n.key,n.table),e===o&&R(o),t()},n):n();else{var r=[],s={};if(a&&a.length)for(var c=0,u=a.length;u>c;c++)r.push(q(a[c])),s[a[c]]=!0;o&&!s[o]&&r.push(q(o)),v.all(r).then(function(e){angular.forEach(e,function(e){m[e.key]&&delete m[e.key],M(e.key,e.table)}),o&&R(o),t()})}return i.promise},H.instant=function(e,n,i){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},s=0,l=e.length;l>s;s++)r[e[s]]=H.instant(e[s],n,i);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=S.apply(e));var u,p=[];t&&p.push(t),o&&p.push(o),a&&a.length&&(p=p.concat(a));for(var d=0,f=p.length;f>d;d++){var h=p[d];if(m[h]&&"undefined"!=typeof m[h][e]&&(u=X(e,n,i)),"undefined"!=typeof u)break}return u||""===u||(u=U.interpolate(e,n),c&&!F&&(u=z(e))),u},H.versionInfo=function(){return C},H.loaderCache=function(){return g},p&&(angular.equals(m,{})&&H.use(H.use()),a&&a.length))for(var J=function(e){return M(e.key,e.table),l.$emit("$translateChangeEnd",{language:e.key}),e},et=0,tt=a.length;tt>et;et++)V[a[et]]=q(a[et]).then(J);return H}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},a="default",i=null,o={escaped:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},r=function(e){var t;return t=angular.isFunction(o[i])?o[i](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return a},n.useSanitizeValueStrategy=function(e){return i=e,this},n.interpolate=function(t,n){return i&&(n=r(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,a,i,o){return{restrict:"AE",scope:!0,compile:function(t,r){var s=r.translateValues?r.translateValues:void 0,l=r.translateInterpolation?r.translateInterpolation:void 0,c=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,d,f){t.interpolateParams={},t.preText="",t.postText="";var h={},g=function(e){if(angular.equals(e,"")||!angular.isDefined(e)){var a=d.text().match(u);angular.isArray(a)?(t.preText=a[1],t.postText=a[3],h.translate=n(a[2])(t.$parent),watcherMatches=d.text().match(p),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&t.$watch(watcherMatches[2],function(e){h.translate=e,y()})):h.translate=d.text().replace(/^\s+|\s+$/g,"")}else h.translate=e;y()},m=function(e){f.$observe(e,function(t){h[e]=t,y()})};f.$observe("translate",function(e){g(e)});for(var v in f)f.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&m(v);if(f.$observe("translateDefault",function(e){t.defaultText=e}),s&&f.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),c){var b=function(e){f.$observe(e,function(n){var a=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[a]=n})};for(var $ in f)Object.prototype.hasOwnProperty.call(f,$)&&"translateValue"===$.substr(0,14)&&"translateValues"!==$&&b($)}var y=function(){for(var e in h)h.hasOwnProperty(e)&&h[e]&&w(e,h[e],t,t.interpolateParams)},w=function(t,n,a,i){e(n,i,l).then(function(e){k(e,a,!0,t)},function(e){k(e,a,!1,t)})},k=function(t,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(t=n.defaultText),d.html(n.preText+t+n.postText);var s=e.isPostCompilingEnabled(),l="undefined"!=typeof r.translateCompile,c=l&&"false"!==r.translateCompile;(s&&!l||c)&&a(d.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=f.$attr[o].substr(15);d.attr(u,t)}};t.$watch("interpolateParams",y,!0);var x=o.$on("$translateChangeSuccess",y);d.text().length&&g(""),y(),t.$on("$destroy",x)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){var a=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())},o=e.$on("$translateChangeEnd",function(){i(),o(),o=null});return a(),function(e,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){var n=function(n,a,i){return angular.isObject(a)||(a=e(a)(this)),t.instant(n,a,i)};return n.$stateful=!0,n}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var a=e.defer();return t(angular.extend({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(e){a.resolve(e)}).error(function(){a.reject(n.key)}),a.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){function n(e,a){t(angular.extend({url:[e.prefix,e.key.toLowerCase(),e.suffix].join(""),method:"GET",params:""},e.$http)).success(function(e){a.resolve(e)}).error(function(){if(e.key.indexOf("_")>=0){var t=e.key.substr(0,e.key.lastIndexOf("_")),i=angular.extend({},e,{key:t});n(i,a)}else a.resolve("{}")})}return function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=e.defer();return n(t,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(e,t,n){e.useStaticFilesLoader({prefix:t,suffix:n}),e.determinePreferredLanguage().fallbackLanguage("en")}]),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.affix"),o="object"==typeof t&&t;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.options=e.extend({},n.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),t.call(n,a)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',a=function(t){e(t).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.button"),o="object"==typeof t&&t;i||a.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();t+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=e(n.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.carousel"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t),r="string"==typeof t?t:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var a=this.$element.find(".item.active"),i=n||a[t](),o=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=e(this.$indicators.children()[this.getItemIndex(i)]);p&&p.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=e(this),o=e(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),t.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.collapse"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;t.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=e(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=e(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&e(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(r,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var a=n(e(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&e(n);return a&&a.length?a:t.parent()}function a(t){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof t&&a[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),n),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&e.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=a,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,a=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(a).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,a){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(n).is("body")?e(window):e(n),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=e(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=e(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=a)return r!=(e=o[o.length-1])&&this.activate(e);if(r&&t<=i[0])return r!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)r!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(n).parents("li").addClass("active");
a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,a){return this.each(function(){var i=e(this),o=i.data("bs.modal"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof t?o[t](a):r.show&&o.show(a)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var a=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=e(this),i=a.attr("href"),o=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(o,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,a){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,a){n[e]!=a&&(t[e]=a)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,p=i[0].offsetHeight;if(l){var d=r,f=this.$element.parent(),h=this.getPosition(f);r="bottom"==r&&c.top+c.height+p-h.scroll>h.height?"top":"top"==r&&c.top-h.scroll-p<0?"bottom":"right"==r&&c.right+u>h.width?"left":"left"==r&&c.left-u<h.left?"right":r,i.removeClass(d).addClass(r)}var g=this.getCalculatedOffset(r,c,u,p);this.applyPlacement(g,r);var m=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var p=u.left?2*u.left-i+l:2*u.top-o+c,d=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(p,a[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],a="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:a?e(window).width():t.outerWidth(),height:a?e(window).height():t.outerHeight()},a?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-n}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-r.scroll,l=t.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=t.left-o,u=t.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var a=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?r():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,a,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){a.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,a){var i=a[0],o=a[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(a?null:e.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,a,i){function o(){return s(a.btnCheckboxTrue,!0)}function r(){return s(a.btnCheckboxFalse,!1)}function s(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,o()))},n.bind(l.toggleEvent,function(){a.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})}),n.on("keypress",function(i){a.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,a){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(p.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&p.slides.length>1&&(t.$element.data(g,t.direction),p.currentSlide&&p.currentSlide.$element&&p.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?a.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,a.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),p.currentSlide=t,m=n,r())}function o(e){if(angular.isUndefined(d[e].index))return d[e];{var t;d.length}for(t=0;t<d.length;++t)if(d[t].index==e)return d[t]}function r(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&d.length?e.next():e.pause()}var c,u,p=this,d=p.slides=e.slides=[],f=angular.version.minor>=4,h="uib-noTransition",g="uib-slideDirection",m=-1;p.currentSlide=null;var v=!1;p.select=e.select=function(t,n){var a=e.indexOfSlide(t);void 0===n&&(n=a>p.getCurrentIndex()?"next":"prev"),t&&t!==p.currentSlide&&!e.$currentTransition&&i(t,a,n)},e.$on("$destroy",function(){v=!0}),p.getCurrentIndex=function(){return p.currentSlide&&angular.isDefined(p.currentSlide.index)?+p.currentSlide.index:m},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:d.indexOf(e)},e.next=function(){var t=(p.getCurrentIndex()+1)%d.length;return 0===t&&e.noWrap()?(e.pause(),void 0):p.select(o(t),"next")},e.prev=function(){var t=p.getCurrentIndex()-1<0?d.length-1:p.getCurrentIndex()-1;return e.noWrap()&&t===d.length-1?(e.pause(),void 0):p.select(o(t),"prev")},e.isActive=function(e){return p.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",s),e.play=function(){u||(u=!0,r())},e.pause=function(){e.noPause||(u=!1,s())},p.addSlide=function(t,n){t.$element=n,d.push(t),1===d.length||t.active?(p.select(d[d.length-1]),1==d.length&&e.play()):t.active=!1},p.removeSlide=function(e){angular.isDefined(e.index)&&d.sort(function(e,t){return+e.index>+t.index});var t=d.indexOf(e);d.splice(t,1),d.length>0&&e.active?t>=d.length?p.select(d[t-1]):p.select(d[t]):m>t&&m--,0===d.length&&(p.currentSlide=null)},e.$watch("noTransition",function(e){t.data(h,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var a="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,r,s){if("active"==r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",p=n.bind(this,e,u+" "+c,s);return e.addClass(c),o?o(e,{addClass:u}).start().done(p):t.addClass(e,u).then(function(){l||p(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,r,s){if("active"===r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",p=n.bind(this,e,u,s);return o?o(e,{addClass:u}).start().done(p):t.addClass(e,u).then(function(){l||p(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function a(e){var t=[],a=e.split("");return angular.forEach(r,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),a[o]="("+n.regex+")",e[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",e[r]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,r,s){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(o,"\\$&"),this.parsers[r]||(this.parsers[r]=a(r));var l=this.parsers[r],c=l.regex,u=l.map,p=n.match(c);if(p&&p.length){var d,f;angular.isDate(s)&&!isNaN(s.getTime())?d={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),d={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,g=p.length;g>h;h++){var m=u[h-1];m.apply&&m.apply.call(d,p[h])}return i(d.year,d.month,d.date)&&(f=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:d[u](),left:p[c]()};break;case"left":s={top:d[u](),left:i.left-o};break;case"bottom":s={top:d[c](),left:p[u]()};break;default:s={top:i.top-r,left:p[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),angular.forEach(["minMode","maxMode"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(n){l[a]=angular.isDefined(n)?n:t[a],e[a]=l[a],("minMode"==a&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[a])||"maxMode"==a&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[a]))&&(e.datepickerMode=l[a])}):(l[a]=r[a]||null,e[a]=l[a])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}
},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function r(e,t){for(var n,a=new Array(t),o=new Date(e),r=0;t>r;)n=new Date(o),i.fixTimeZone(n),a[r++]=n,o.setDate(o.getDate()+1);return a}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var p=r(u,42),d=0;42>d;d++)p[d]=angular.extend(i.createDateObject(p[d],i.formatDay),{secondary:p[d].getMonth()!==a,uid:t.uniqueId+"-"+d});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(p[f].date,i.formatDayHeader),full:e(p[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(p,7),t.showWeeks){t.weekNumbers=[];for(var h=(11-i.startingDay)%7,g=t.rows.length,m=0;g>m;m++)t.weekNumbers.push(s(t.rows[m][h].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),o=i.activeDate.getFullYear(),r=0;12>r;r++)n=new Date(o,r,1),i.fixTimeZone(n),a[r]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(a,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=t,a._refreshView=function(){for(var t,n=new Array(o),r=0,s=i(a.activeDate.getFullYear());o>r;r++)t=new Date(s+r,0,1),a.fixTimeZone(t),n[r]=angular.extend(a.createDateObject(t,a.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=a.split(n,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,a,i,o,r,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,p,d){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,m,c.date);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(!p.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,m);return!isNaN(a)}return!1}return!0}var m,v=angular.isDefined(p.closeOnDateSelection)?c.$parent.$eval(p.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(p.datepickerAppendToBody)?c.$parent.$eval(p.datepickerAppendToBody):s.appendToBody,$=angular.isDefined(p.onOpenFocus)?c.$parent.$eval(p.onOpenFocus):s.onOpenFocus,y=angular.isDefined(p.datepickerPopupTemplateUrl)?p.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(p.datepickerTemplateUrl)?p.datepickerTemplateUrl:s.datepickerTemplateUrl,k={};c.showButtonBar=angular.isDefined(p.showButtonBar)?c.$parent.$eval(p.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,k.minDate)<0||c.watchData.maxDate&&c.compare(e,k.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var x=!1;if(s.html5Types[p.type]?(m=s.html5Types[p.type],x=!0):(m=p.datepickerPopup||s.datepickerPopup,p.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==m&&(m=t,d.$modelValue=null,!m))throw new Error("datepickerPopup must have a date format specified.")})),!m)throw new Error("datepickerPopup must have a date format specified.");if(x&&p.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var C=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":y});var D=angular.element(C.children()[0]);if(D.attr("template-url",w),x&&"month"===p.type&&(D.attr("datepicker-mode",'"month"'),D.attr("min-mode","month")),p.datepickerOptions){var T=c.$parent.$eval(p.datepickerOptions);T&&T.initDate&&(c.initDate=T.initDate,D.attr("init-date","initDate"),delete T.initDate),angular.forEach(T,function(e,t){D.attr(f(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(p[e]){var n=t(p[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(k[e]=new Date(t))}),D.attr(f(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(a)&&e!==t&&a(c.$parent,e)})}}}),p.dateDisabled&&D.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),p.showWeeks&&D.attr("show-weeks",p.showWeeks),p.customClass&&D.attr("custom-class","customClass({ date: date, mode: mode })"),x?d.$formatters.push(function(e){return c.date=e,e}):(d.$$parserName="date",d.$validators.date=g,d.$parsers.unshift(h),d.$formatters.push(function(e){return c.date=e,d.$isEmpty(e)?e:o(e,m)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?o(c.date,m):null;u.val(t),d.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},d.$viewChangeListeners.push(function(){c.date=r.parse(d.$viewValue,m,c.date)});var E=function(e){!c.isOpen||u[0].contains(e.target)||C[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},S=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",S),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=b?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){$&&c.$broadcast("datepicker.focus"),n.bind("click",E)},0,!1)):n.unbind("click",E)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var O=e(C)(c);C.remove(),b?n.find("body").append(O):u.after(O),c.$on("$destroy",function(){c.isOpen===!0&&(a.$$phase||c.$apply(function(){c.isOpen=!1})),O.remove(),u.unbind("keydown",S),n.unbind("click",E)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",a),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",a),e.unbind("keydown",i))};var a=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,s,l,c){var u,p,d=this,f=e.$new(),h=a.openClass,g=angular.noop,m=t.onToggle?n(t.onToggle):angular.noop,v=!1,b=!1,$=s.find("body");this.init=function(a){d.$element=a,t.isOpen&&(p=n(t.isOpen),g=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),b=angular.isDefined(t.keyboardNav),v&&d.dropdownMenu&&($.append(d.dropdownMenu),$.addClass("dropdown"),a.on("$destroy",function(){d.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return d.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return d.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var t=d.dropdownMenu?angular.element(d.dropdownMenu).find("a"):angular.element(d.$element).find("ul").eq(0).find("a");switch(e){case 40:d.selectedOption=angular.isNumber(d.selectedOption)?d.selectedOption===t.length-1?d.selectedOption:d.selectedOption+1:0;break;case 38:d.selectedOption=angular.isNumber(d.selectedOption)?0===d.selectedOption?0:d.selectedOption-1:t.length-1}t[d.selectedOption].focus()},f.getDropdownElement=function(){return d.dropdownMenu},f.focusToggleElement=function(){d.toggleElement&&d.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&d.dropdownMenu){var a=r.positionElements(d.$element,d.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:t?"block":"none"},p=d.dropdownMenu.hasClass("dropdown-menu-right");p?(s.left="auto",s.right=window.innerWidth-(a.left+d.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),d.dropdownMenu.css(s)}var b=v?$:d.$element;if(o[t?"addClass":"removeClass"](b,h).then(function(){angular.isDefined(t)&&t!==n&&m(e,{open:!!t})}),t)d.dropdownMenuTemplateUrl&&c(d.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;d.dropdownMenu.replaceWith(t),d.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(d.dropdownMenuTemplateUrl){u&&u.$destroy();var y=angular.element('<ul class="dropdown-menu"></ul>');d.dropdownMenu.replaceWith(y),d.dropdownMenu=y}i.close(f),d.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var y=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",y)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,a){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:t.length-1}t[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function a(t,a,o){o.modalInClass&&(i?i(a,{addClass:o.modalInClass}).start():e.addClass(a,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();i?i(a,{removeClass:o.modalInClass}).start().then(r):e.removeClass(a,o.modalInClass).then(r)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,a){var i=null;return a.has("$animateCss")&&(i=a.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowClass||""),a.size=r.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var s=t.defer();r.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i?i(o,{addClass:r.modalInClass}).start():n.addClass(o,r.modalInClass),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();i?i(o,{removeClass:r.modalInClass}).start().then(a):n.removeClass(o,r.modalInClass).then(a)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,a,i,o,r,s,l){function c(){for(var e=-1,t=$.keys(),n=0;n<t.length;n++)$.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var a=n.find("body").eq(0),i=$.get(e).value;$.remove(e),d(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;y.remove(t,e),a.toggleClass(t,y.hasKey(t))}),p(),t&&t.focus?t.focus():a.focus()}function p(){if(g&&-1==c()){var e=m;d(g,m,function(){e=null}),g=void 0,m=void 0}}function d(t,n,a){function i(){i.done||(i.done=!0,h?h(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),a&&a())}var r,s=null,l=function(){return r||(r=o.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var h=null;r.has("$animateCss")&&(h=r.get("$animateCss"));var g,m,v,b="modal-open",$=l.createNew(),y=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){m&&(m.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=$.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,r=t.openedClass||b;$.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),y.put(r,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!g){m=i.$new(!0),m.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),g=a(u)(m),s.append(g)}var p=angular.element('<div modal-window="modal-window"></div>');p.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:$.length()-1,animate:"animate"}).html(t.content),t.animation&&p.attr("modal-animation","true");var d=a(p)(t.scope);$.top().value.modalDomEl=d,$.top().value.modalOpener=o,s.append(d),s.addClass(r),w.clearFocusListCache()},w.close=function(e,t){var n=$.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=$.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return $.top()},w.modalRendered=function(e){var t=$.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],k=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(x))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,a,i,o,r){function s(e){return e.template?a.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(a.when(t.invoke(e))):angular.isString(e)?n.push(a.when(t.get(e))):n.push(a.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var i=a.defer(),c=a.defer(),p=a.defer(),d={result:i.promise,opened:c.promise,rendered:p.promise,close:function(e){return r.close(d,e)},dismiss:function(e){return r.dismiss(d,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,h=a.all([s(t)].concat(l(t.resolve)));return f=u=a.all([u]).then(function(){return h},function(){return h}).then(function(e){var a=(t.scope||n).$new();a.$close=d.close,a.$dismiss=d.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=a,l.$modalInstance=d,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,a),a[t.controllerAs]=s)),r.open(d,{scope:a,deferred:i,renderDeferred:p,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),i.reject(e)}).finally(function(){u===f&&(u=null)}),d},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,s){i=r,this.config=s,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var a=!e.ngDisabled||!n;a&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,a,i,o){function r(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,o=angular.isDefined(u)&&t>u;o&&(p?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=r(s,s,s===e);n.push(l)}if(o&&!p){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(t>i){var d=r(i+1,"...",!1);n.push(d)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,p=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var d=l.render;l.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,a,i){var o=i[0],r=i[1];r&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,o.init(r,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,r,s,l,c,u,p){return function(i,d,f,h){function g(e){var t=(e||h.trigger||f).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}h=angular.extend({},t,a,h);var m=e(i),v=c.startSymbol(),b=c.endSymbol(),$="<div "+m+'-popup title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o($);return function(t,n,a){function o(){I.isOpen?f():c()}function c(){(!A||t.$eval(a[d+"Enable"]))&&(y(),I.popupDelay?S||(S=r(m,I.popupDelay,!1)):m())}function f(){v(),u.$$phase||u.$digest()}function m(){return S=null,E&&(r.cancel(E),E=null),(h.useContentExp?I.contentExp():I.content)?(b(),I.isOpen=!0,U&&U.assign(I.origScope,I.isOpen),u.$$phase||I.$apply(),D.css({display:"block"}),F(),void 0):angular.noop}function v(){I.isOpen=!1,U&&U.assign(I.origScope,I.isOpen),r.cancel(S),S=null,r.cancel(O),O=null,I.animation?E||(E=r($,500)):$()}function b(){D&&$(),T=I.$new(),D=e(T,function(e){M?s.find("body").append(e):n.after(e)}),h.useContentExp&&(T.$watch("contentExp()",function(e){!e&&I.isOpen&&v()}),T.$watch(function(){L||(L=!0,T.$$postDigest(function(){L=!1,I.isOpen&&F()}))}))}function $(){E=null,D&&(D.remove(),D=null),T&&(T.$destroy(),T=null)}function y(){w(),k(),x()}function w(){I.popupClass=a[d+"Class"]}function k(){var e=a[d+"Placement"];I.placement=angular.isDefined(e)?e:h.placement}function x(){var e=a[d+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?h.popupDelay:t}function C(){var e=a[d+"Trigger"];N(),P=g(e),"none"!==P.show&&P.show.forEach(function(e,t){e===P.hide[t]?n[0].addEventListener(e,o):e&&(n[0].addEventListener(e,c),n[0].addEventListener(P.hide[t],f))})}var D,T,E,S,O,M=angular.isDefined(h.appendToBody)?h.appendToBody:!1,P=g(void 0),A=angular.isDefined(a[d+"Enable"]),I=t.$new(!0),L=!1,U=angular.isDefined(a[d+"IsOpen"])?p(a[d+"IsOpen"]):!1,F=function(){D&&(O||(O=r(function(){D.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(D),t=l.positionElements(n,D,I.placement,M);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",D.css(t),O=null},0,!1)))};I.origScope=t,I.isOpen=!1,I.contentExp=function(){return t.$eval(a[i])},h.useContentExp||a.$observe(i,function(e){I.content=e,!e&&I.isOpen?v():F()}),a.$observe("disabled",function(e){S&&e&&(r.cancel(S),S=null),e&&I.isOpen&&v()}),a.$observe(d+"Title",function(e){I.title=e,F()}),a.$observe(d+"Placement",function(){I.isOpen&&(k(),F())}),U&&t.$watch(U,function(e){e!==I.isOpen&&o()});var N=function(){P.show.forEach(function(e){n.unbind(e,c)}),P.hide.forEach(function(e){n.unbind(e,f)})};C();var V=t.$eval(a[d+"Animation"]);I.animation=angular.isDefined(V)?!!V:h.animation;var H=t.$eval(a[d+"AppendToBody"]);M=angular.isDefined(H)?H:M,M&&t.$on("$locationChangeSuccess",function(){I.isOpen&&v()}),t.$on("$destroy",function(){r.cancel(E),r.cancel(S),r.cancel(O),N(),$(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var s,l,c,u=i.$eval(r.tooltipTemplateTranscludeScope),p=0,d=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(r.tooltipTemplateTransclude),function(t){var r=++p;t?(a(t,!0).then(function(a){if(r===p){var i=u.$new(),l=a,f=n(l)(i,function(t){d(),e.enter(t,o)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){r===p&&(d(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):d()}),i.$on("$destroy",d)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")
}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,a,i,o){t&&e.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,a)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(a.$viewValue===t?0:t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,a,i,o,r){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,o){function r(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===m[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),g.$setViewValue(new Date(h)),p(e)}function u(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function p(t){var n=h.getHours(),a=h.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(a)),e.meridian=h.getHours()<12?m[0]:m[1]}function d(e,t){var n=new Date(e.getTime()+6e4*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes()),a}function f(e){h=d(h,e),c()}var h=new Date,g={$setViewValue:angular.noop},m=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),r=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,r),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var b=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){b=parseInt(e,10)});var $;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);$=isNaN(t)?void 0:t});var y;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);y=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=d(h,60*v);return e>y||h>e&&$>e},e.noDecrementHours=function(){var e=d(h,60*-v);return $>e||e>h&&e>y},e.noIncrementMinutes=function(){var e=d(h,b);return e>y||h>e&&$>e},e.noDecrementMinutes=function(){var e=d(h,-b);return $>e||e>h&&e>y},e.noToggleMeridian=function(){return h.getHours()<13?d(h,720)>y:d(h,-720)<$},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(h.setHours(n),c())}else p()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var a=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=r(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(h.setHours(e),$>h||h>y?a(!0):c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=r();angular.isDefined(e)&&angular.isDefined(t)?(h.setMinutes(e),$>h||h>y?a(void 0,!0):c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(h=t),$>h||h>y?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),p())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,a,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(a,i,o){o=o||{};var s=e.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=o(l),r.animationEndEventName=o(c),r}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,a,i,o,r,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(p,d,f,h){function g(){F.moveInProgress||(F.moveInProgress=!0,F.$digest()),B&&a.cancel(B),B=a(function(){F.matches.length&&m(),F.moveInProgress=!1,F.$digest()},u)}function m(){F.position=O?s.offset(d):s.position(d),F.position.top+=d.prop("offsetHeight")}var v=h[0],b=h[1],$=p.$eval(f.typeaheadMinLength);$||0===$||($=1);var y,w,k=p.$eval(f.typeaheadWaitMs)||0,x=p.$eval(f.typeaheadEditable)!==!1,C=t(f.typeaheadLoading).assign||angular.noop,D=t(f.typeaheadOnSelect),T=angular.isDefined(f.typeaheadSelectOnBlur)?p.$eval(f.typeaheadSelectOnBlur):!1,E=t(f.typeaheadNoResults).assign||angular.noop,S=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,O=f.typeaheadAppendToBody?p.$eval(f.typeaheadAppendToBody):!1,M=p.$eval(f.typeaheadFocusFirst)!==!1,P=f.typeaheadSelectOnExact?p.$eval(f.typeaheadSelectOnExact):!1,A=t(f.ngModel),I=t(f.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(A(p))&&b&&b.$options&&b.$options.getterSetter?I(e,{$$$p:t}):A.assign(e,t)},U=l.parse(f.typeahead),F=p.$new(),N=p.$on("$destroy",function(){F.$destroy()});F.$on("$destroy",N);var V="typeahead-"+F.$id+"-"+Math.floor(1e4*Math.random());d.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var H=angular.element("<div typeahead-popup></div>");H.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&H.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var j=function(){F.matches=[],F.activeIdx=-1,d.attr("aria-expanded",!1)},R=function(e){return V+"-option-"+e};F.$watch("activeIdx",function(e){0>e?d.removeAttr("aria-activedescendant"):d.attr("aria-activedescendant",R(e))});var q=function(e,t){return F.matches.length>t&&e?e.toUpperCase()===F.matches[t].label.toUpperCase():!1},_=function(e){var t={$viewValue:e};C(p,!0),E(p,!1),n.when(U.source(p,t)).then(function(n){var a=e===v.$viewValue;if(a&&y)if(n&&n.length>0){F.activeIdx=M?0:-1,E(p,!1),F.matches.length=0;for(var i=0;i<n.length;i++)t[U.itemName]=n[i],F.matches.push({id:R(i),label:U.viewMapper(F,t),model:n[i]});F.query=e,m(),d.attr("aria-expanded",!0),P&&1===F.matches.length&&q(e,0)&&F.select(0)}else j(),E(p,!0);a&&C(p,!1)},function(){j(),C(p,!1),E(p,!0)})};O&&(angular.element(o).bind("resize",g),i.find("body").bind("scroll",g));var B;F.moveInProgress=!1,j(),F.query=void 0;var W,z=function(e){W=a(function(){_(e)},k)},Y=function(){W&&a.cancel(W)};v.$parsers.unshift(function(e){return y=!0,0===$||e&&e.length>=$?k>0?(Y(),z(e)):_(e):(C(p,!1),Y(),j()),x?e:e?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,a={};return x||v.$setValidity("editable",!0),S?(a.$model=e,S(p,a)):(a[U.itemName]=e,t=U.viewMapper(p,a),a[U.itemName]=void 0,n=U.viewMapper(p,a),t!==n?t:e)}),F.select=function(e){var t,n,i={};w=!0,i[U.itemName]=n=F.matches[e].model,t=U.modelMapper(p,i),L(p,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),D(p,{$item:n,$model:t,$label:U.viewMapper(p,i)}),j(),F.$eval(f.typeaheadFocusOnSelect)!==!1&&a(function(){d[0].focus()},0,!1)},d.bind("keydown",function(e){if(0!==F.matches.length&&-1!==c.indexOf(e.which)){if(-1===F.activeIdx&&(9===e.which||13===e.which))return j(),F.$digest(),void 0;e.preventDefault(),40===e.which?(F.activeIdx=(F.activeIdx+1)%F.matches.length,F.$digest()):38===e.which?(F.activeIdx=(F.activeIdx>0?F.activeIdx:F.matches.length)-1,F.$digest()):13===e.which||9===e.which?F.$apply(function(){F.select(F.activeIdx)}):27===e.which&&(e.stopPropagation(),j(),F.$digest())}}),d.bind("blur",function(){T&&F.matches.length&&-1!==F.activeIdx&&!w&&(w=!0,F.$apply(function(){F.select(F.activeIdx)})),y=!1,w=!1});var G=function(e){d[0]!==e.target&&3!==e.which&&0!==F.matches.length&&(j(),r.$$phase||F.$digest())};i.bind("click",G),p.$on("$destroy",function(){i.unbind("click",G),O&&K.remove(),H.remove()});var K=e(H)(F);O?i.find("body").append(K):d.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')
}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(e){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:e.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(e){try{e=angular.module("risevision.widget.common.widget-button-toolbar")}catch(t){e=angular.module("risevision.widget.common.widget-button-toolbar",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(e,t){t.addClass("fa"),t.addClass("fa-question-circle"),t.addClass("fa-lg")}}}])}(),function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(e,t){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:e.get("_angular/url-field/url-field.html"),link:function(e,n,a,i){function o(e,t){var n,a=e.toLowerCase();switch(t){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==e.fileType&&"undefined"!==e.url&&"image"===e.fileType){var t=new Image;t.onload=function(){e.valid=!0,e.$apply()},t.onerror=function(){e.valid=!1,e.invalidType=e.fileType,e.$apply()},t.src=e.url}}function s(t){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===t.indexOf("://")&&(t="http://"+t),a=n.test(t),a&&"undefined"!=typeof e.fileType?(a=o(t,e.fileType),a||(e.invalidType=e.fileType)):e.invalidType="url",a&&r(),a}e.doValidation=!0,e.forcedValid=!1,e.valid=!0,e.invalidType="url",e.allowInitEmpty="undefined"!=typeof a.initEmpty,e.blur=function(){e.$emit("urlFieldBlur")},e.$watch("url",function(t){"undefined"!=typeof t&&null!==t&&(""!==t&&e.allowInitEmpty&&(e.allowInitEmpty=!1),e.doValidation&&!e.allowInitEmpty&&(e.valid=s(e.url)))}),e.$watch("valid",function(e){i&&(t.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",e))}),e.$watch("doValidation",function(t){"undefined"!=typeof e.url&&(t?(e.forcedValid=!1,e.allowInitEmpty||(e.valid=s(e.url))):(e.forcedValid=!0,e.valid=!0))})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.url-field")}catch(t){e=angular.module("risevision.widget.common.url-field",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod"};angular.module("risevision.widget.web-page.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.widget-button-toolbar","risevision.widget.common.tooltip","risevision.widget.common.url-field"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(e,t,n,a){e.settings={params:{},additionalParams:{}},e.alerts=[],e.getAdditionalParam=function(t,n){var a=e.settings.additionalParams[t];return angular.isUndefined(a)?n:a},e.setAdditionalParam=function(t,n){e.settings.additionalParams[t]=n},e.loadAdditionalParams=function(){n.getAdditionalParams().then(function(t){e.settings.additionalParams=t,e.$broadcast("loadAdditionalParams",t)},function(e){alert(e)})},e.setAdditionalParams=function(t,n){e.settings.additionalParams[t]=n},e.saveSettings=function(){e.alerts=[],e.$broadcast("collectAdditionalParams"),t.saveSettings(e.settings).then(function(){},function(t){e.alerts=t.alerts})},e.closeSettings=function(){a.closeSettings().then(function(){},function(t){e.alerts=t.alerts})},e.settings.params=n.getParams(),e.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(e,t){e.$watchCollection("alerts",function(e,n){e.length>0&&0===n.length&&$("body").animate({scrollTop:t.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(e,t,n){var a={getStorageUrlData:function(e){function a(e){return-1!==e.indexOf(t)?"file":-1!==e.indexOf(n)?"folder":null}function i(e){var t=e.split("risemedialibrary-");return t[1].slice(0,t[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(e))o=e.split(t)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(e),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(e)){s=e.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(e),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(e){return e.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(e,t){function n(){for(var e="",n="",a="",o=[],r=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)e=i[u],-1===c.indexOf(e)&&(a=l+e,t.loadCSS(a),o.push(a),/\s/.test(e)&&(r=!0),n+=r?e+"='"+e+"'"+s:e+"="+e+s);return{fonts:n,urls:o}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(e){if(e.data&&e.data.items){for(var t=0,a=e.data.items.length;a>t;t++)i.push(e.data.items[t].family);return n()}}):n()},a.getFontsUsed=function(e){var t=[];return angular.forEach(i,function(n){-1!==e.indexOf(n)&&t.push(n)}),t},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(e,t){var n=t.defer();e.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(e.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(e){var t={isImage:function(t){var n=e.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=t,n.promise}};return t}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(e,t,n,a){function i(e){var t=angular.copy(e);return delete t.params.id,delete t.params.companyId,delete t.params.rsW,delete t.params.rsH,t}this.saveSettings=function(o,r){var s=e.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(t.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(e){t.debug("encoded settings",JSON.stringify(e)),t.debug("Settings saved. ",o),s.resolve(e)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(e,t,n,a,i,o){this.getAdditionalParams=function(){var i=e.defer(),r=o.additionalParams||{};return t.rpc.call("","rscmd_getAdditionalParams",function(e){e=e?a.parseAdditionalParams(e):{},n.debug("getAdditionalParams returns ",e),i.resolve($.extend(!0,r,e))}),i.promise},this.getParams=function(){var e=o.params||{};return angular.extend(e,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function e(e){return 0===e.indexOf("up_")?e.slice(3):null}this.parseAdditionalParams=function(e){return e?JSON.parse(e):{}},this.encodeAdditionalParams=function(e){return JSON.stringify(e)},this.encodeParams=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a;a="object"==typeof e[n]?JSON.stringify(e[n]):e[n],t.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return t.join("&")},this.parseParams=function(t){"?"===t[0]&&(t=t.slice(1));for(var n={},a=t.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=e(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(e,t,n){this.closeSettings=function(){var t=e.defer();return n.rpc.call("","rscmd_closeSettings",function(){t.resolve(!0)}),t.promise}}]).value("defaultSettings",{}),function(e){"use strict";e.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(e,t){var n,a=e.defer(),i={get:function(){return n||(n=a.promise,t.google.visualization?a.resolve(t.google.visualization):t.google.setOnLoadCallback(function(){a.resolve(t.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.web-page.settings").controller("webPageSettingsController",["$scope",function(){}]).value("defaultSettings",{params:{},additionalParams:{url:""}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJORVNURURfT0JKRUNUX0RFTElNSVRFUiIsInZlcnNpb24iLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIndpbmRvdyIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImxvY2FsZSIsImxvd2VyY2FzZSIsIm4iLCJwdXNoIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwidmFsIiwiY29uY2F0IiwiYWRkSW50ZXJwb2xhdGlvbiIsImZhY3RvcnkiLCJ1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIsInVzZUludGVycG9sYXRpb24iLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ2YWx1ZSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsIkVycm9yIiwidXNlVXJsTG9hZGVyIiwidXJsIiwib3B0aW9ucyIsInVzZUxvYWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwibG9hZGVyRmFjdG9yeSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVN0b3JhZ2UiLCJ1c2VDb29raWVTdG9yYWdlIiwic3RvcmFnZUZhY3RvcnkiLCJzdG9yYWdlUHJlZml4IiwicHJlZml4IiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIiLCJ1c2VQb3N0Q29tcGlsaW5nIiwiZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UiLCJmbiIsImlzRnVuY3Rpb24iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwiJGdldCIsIiRsb2ciLCIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJ0cmFuc2xhdGVBbGwiLCJ0cmFuc2xhdGlvbklkcyIsInJlc3VsdHMiLCJwcm9taXNlcyIsInRyYW5zbGF0ZSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWdhcmRsZXNzIiwicmVzb2x2ZSIsInRoZW4iLCJwcm9taXNlIiwiYyIsImFsbCIsImFwcGx5IiwicHJvbWlzZVRvV2FpdEZvciIsImluZGV4IiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJyZWplY3QiLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwiJGVtaXQiLCJzZXRMb2NhbGUiLCJmb3JFYWNoIiwiaW50ZXJwb2xhdG9yIiwiaWQiLCJsb2FkQXN5bmMiLCJsb2FkZXJPcHRpb25zIiwiJGh0dHAiLCJ0YWJsZSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCIsInRyYW5zbGF0ZUJ5SGFuZGxlciIsInJlc3VsdFN0cmluZyIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZUluZGV4IiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50IiwiZmFsbGJhY2tUcmFuc2xhdGlvbiIsImZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRpb24iLCJzdWJzdHIiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJyZWZyZXNoIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwiaXNVbmRlZmluZWQiLCJwb3NzaWJsZUxhbmdLZXlzIiwiaiIsImQiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImVxdWFscyIsInByb2Nlc3NBc3luY1Jlc3VsdCIsIiRpbnRlcnBvbGF0ZSIsIiRsb2NhbGUiLCIkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIiwiJGlkZW50aWZpZXIiLCIkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMiLCJlc2NhcGVkIiwicGFyYW1zIiwiZWxlbWVudCIsInRleHQiLCJodG1sIiwic2FuaXRpemVQYXJhbXMiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsInN1ZmZpeCIsIm1ldGhvZCIsInN1Y2Nlc3MiLCJlcnJvciIsImxvYWRUcmFuc2xhdGlvbkZpbGUiLCJ0b0xvd2VyQ2FzZSIsImxhc3RJbmRleE9mIiwib3B0cyIsImNvbmZpZyIsIiR0cmFuc2xhdGVQcm92aWRlciIsIkxPQ0FMRVNfUFJFRklYIiwiTE9DQUxFU19TVUZJWCIsIiQiLCJQbHVnaW4iLCJvcHRpb24iLCJlYWNoIiwiJHRoaXMiLCJBZmZpeCIsIkRFRkFVTFRTIiwiJHRhcmdldCIsInRhcmdldCIsIm9uIiwicHJveHkiLCJjaGVja1Bvc2l0aW9uIiwiY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AiLCIkZWxlbWVudCIsImFmZml4ZWQiLCJ1bnBpbiIsInBpbm5lZE9mZnNldCIsIlZFUlNJT04iLCJSRVNFVCIsIm9mZnNldCIsImdldFBpbm5lZE9mZnNldCIsInNjcm9sbFRvcCIsInBvc2l0aW9uIiwidG9wIiwic2V0VGltZW91dCIsImlzIiwic2Nyb2xsSGVpZ2h0IiwiZG9jdW1lbnQiLCJoZWlnaHQiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJib3R0b20iLCJhZmZpeCIsImNzcyIsImFmZml4VHlwZSIsImUiLCJFdmVudCIsInRyaWdnZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJvbGQiLCJDb25zdHJ1Y3RvciIsIm5vQ29uZmxpY3QiLCIkc3B5IiwialF1ZXJ5IiwiQWxlcnQiLCJkaXNtaXNzIiwiZWwiLCJjbG9zZSIsInJlbW92ZUVsZW1lbnQiLCJkZXRhY2giLCJyZW1vdmUiLCJzZWxlY3RvciIsInByZXZlbnREZWZhdWx0IiwiaGFzQ2xhc3MiLCJwYXJlbnQiLCJzdXBwb3J0IiwidHJhbnNpdGlvbiIsIm9uZSIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiYWxlcnQiLCJCdXR0b24iLCJ0b2dnbGUiLCJzZXRTdGF0ZSIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0Iiwic3RhdGUiLCIkZWwiLCJyZXNldFRleHQiLCJyZW1vdmVBdHRyIiwiY2hhbmdlZCIsImNsb3Nlc3QiLCIkaW5wdXQiLCJmaW5kIiwicHJvcCIsInRvZ2dsZUNsYXNzIiwiYnV0dG9uIiwiJGJ0biIsIkNhcm91c2VsIiwiYWN0aW9uIiwic2xpZGUiLCJ0byIsImludGVydmFsIiwicGF1c2UiLCJjeWNsZSIsImtleWRvd24iLCIkaW5kaWNhdG9ycyIsInBhdXNlZCIsInNsaWRpbmciLCIkYWN0aXZlIiwiJGl0ZW1zIiwid3JhcCIsIndoaWNoIiwicHJldiIsIm5leHQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRJdGVtSW5kZXgiLCJpdGVtIiwiY2hpbGRyZW4iLCJwb3MiLCJ0aGF0IiwiYWN0aXZlSW5kZXgiLCJlbmQiLCJ0eXBlIiwiJG5leHQiLCJpc0N5Y2xpbmciLCJkaXJlY3Rpb24iLCJmYWxsYmFjayIsInJlbGF0ZWRUYXJnZXQiLCJzbGlkZUV2ZW50IiwiJG5leHRJbmRpY2F0b3IiLCJzbGlkRXZlbnQiLCJvZmZzZXRXaWR0aCIsImNhcm91c2VsIiwiaHJlZiIsInNsaWRlSW5kZXgiLCIkY2Fyb3VzZWwiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsInNob3ciLCJzdGFydEV2ZW50IiwiYWN0aXZlcyIsImhhc0RhdGEiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiY29sbGFwc2UiLCJub3QiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJnZXRQYXJlbnQiLCJ0ZXN0IiwiRHJvcGRvd24iLCJpc0FjdGl2ZSIsImRvY3VtZW50RWxlbWVudCIsImluc2VydEFmdGVyIiwia2V5Q29kZSIsInN0b3BQcm9wYWdhdGlvbiIsImRlc2MiLCJlcSIsImRyb3Bkb3duIiwiVGFiIiwiJHVsIiwicHJldmlvdXMiLCJhY3RpdmF0ZSIsImNvbnRhaW5lciIsImNhbGxiYWNrIiwidGFiIiwidHJhbnNpdGlvbkVuZCIsImNyZWF0ZUVsZW1lbnQiLCJ0cmFuc0VuZEV2ZW50TmFtZXMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwic3R5bGUiLCJkdXJhdGlvbiIsImNhbGxlZCIsImV2ZW50Iiwic3BlY2lhbCIsImJzVHJhbnNpdGlvbkVuZCIsImJpbmRUeXBlIiwiZGVsZWdhdGVUeXBlIiwiaGFuZGxlIiwiaGFuZGxlT2JqIiwiaGFuZGxlciIsImFyZ3VtZW50cyIsIlNjcm9sbFNweSIsInByb2Nlc3MiLCIkYm9keSIsIiRzY3JvbGxFbGVtZW50Iiwib2Zmc2V0cyIsInRhcmdldHMiLCJhY3RpdmVUYXJnZXQiLCJnZXRTY3JvbGxIZWlnaHQiLCJNYXRoIiwibWF4Iiwib2Zmc2V0TWV0aG9kIiwib2Zmc2V0QmFzZSIsImlzV2luZG93Iiwic2VsZiIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCJib2R5IiwiJGJhY2tkcm9wIiwiaXNTaG93biIsInNjcm9sbGJhcldpZHRoIiwicmVtb3RlIiwibG9hZCIsImtleWJvYXJkIiwiY2hlY2tTY3JvbGxiYXIiLCJzZXRTY3JvbGxiYXIiLCJlc2NhcGUiLCJhcHBlbmRUbyIsImVuZm9yY2VGb2N1cyIsInJlc2V0U2Nyb2xsYmFyIiwib2ZmIiwiaGlkZU1vZGFsIiwiaGFzIiwicmVtb3ZlQmFja2Ryb3AiLCJhbmltYXRlIiwiZG9BbmltYXRlIiwiY3VycmVudFRhcmdldCIsImZvY3VzIiwiY2FsbGJhY2tSZW1vdmUiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJtZWFzdXJlU2Nyb2xsYmFyIiwiYm9keVBhZCIsInBhcnNlSW50Iiwic2Nyb2xsRGl2IiwiY2xhc3NOYW1lIiwiYXBwZW5kIiwicmVtb3ZlQ2hpbGQiLCJtb2RhbCIsInNob3dFdmVudCIsIlRvb2x0aXAiLCJlbmFibGVkIiwidGltZW91dCIsImhvdmVyU3RhdGUiLCJpbml0IiwiYW5pbWF0aW9uIiwicGxhY2VtZW50IiwidGVtcGxhdGUiLCJ0aXRsZSIsImRlbGF5Iiwidmlld3BvcnQiLCJwYWRkaW5nIiwiZ2V0T3B0aW9ucyIsIiR2aWV3cG9ydCIsInRyaWdnZXJzIiwiZXZlbnRJbiIsImV2ZW50T3V0IiwiZW50ZXIiLCJsZWF2ZSIsIl9vcHRpb25zIiwiZml4VGl0bGUiLCJnZXREZWZhdWx0cyIsImdldERlbGVnYXRlT3B0aW9ucyIsImRlZmF1bHRzIiwib2JqIiwiY29uc3RydWN0b3IiLCJjbGVhclRpbWVvdXQiLCJoYXNDb250ZW50IiwiaW5Eb20iLCJjb250YWlucyIsIiR0aXAiLCJ0aXAiLCJ0aXBJZCIsImdldFVJRCIsInNldENvbnRlbnQiLCJhdXRvVG9rZW4iLCJhdXRvUGxhY2UiLCJsZWZ0IiwiZGlzcGxheSIsImdldFBvc2l0aW9uIiwiYWN0dWFsV2lkdGgiLCJhY3R1YWxIZWlnaHQiLCJvcmdQbGFjZW1lbnQiLCJwYXJlbnREaW0iLCJzY3JvbGwiLCJyaWdodCIsIndpZHRoIiwiY2FsY3VsYXRlZE9mZnNldCIsImdldENhbGN1bGF0ZWRPZmZzZXQiLCJhcHBseVBsYWNlbWVudCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJpc05hTiIsInNldE9mZnNldCIsInVzaW5nIiwicHJvcHMiLCJyb3VuZCIsImRlbHRhIiwiZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhIiwiYXJyb3dEZWx0YSIsImFycm93UG9zaXRpb24iLCJhcnJvd09mZnNldFBvc2l0aW9uIiwicmVwbGFjZUFycm93IiwiYXJyb3ciLCJnZXRUaXRsZSIsIiRlIiwiaXNCb2R5IiwidGFnTmFtZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsInZpZXdwb3J0UGFkZGluZyIsInZpZXdwb3J0RGltZW5zaW9ucyIsInRvcEVkZ2VPZmZzZXQiLCJib3R0b21FZGdlT2Zmc2V0IiwibGVmdEVkZ2VPZmZzZXQiLCJyaWdodEVkZ2VPZmZzZXQiLCJvIiwicmFuZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCIkYXJyb3ciLCJ2YWxpZGF0ZSIsInBhcmVudE5vZGUiLCJlbmFibGUiLCJkaXNhYmxlIiwidG9nZ2xlRW5hYmxlZCIsImRlc3Ryb3kiLCJyZW1vdmVEYXRhIiwidG9vbHRpcCIsIlBvcG92ZXIiLCJjb250ZW50IiwiZ2V0Q29udGVudCIsImVtcHR5IiwicG9wb3ZlciIsIiRhbmltYXRlIiwibGluayIsImF0dHJzIiwiZXhwYW5kIiwiZXhwYW5kRG9uZSIsImNvbGxhcHNlRG9uZSIsInNob3VsZENvbGxhcHNlIiwiY2xvc2VPdGhlcnMiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJGF0dHJzIiwiYWNjb3JkaW9uQ29uZmlnIiwiZ3JvdXBzIiwib3Blbkdyb3VwIiwiJGV2YWwiLCJncm91cCIsImlzT3BlbiIsImFkZEdyb3VwIiwiZ3JvdXBTY29wZSIsInJlbW92ZUdyb3VwIiwic3BsaWNlIiwiY29udHJvbGxlckFzIiwidHJhbnNjbHVkZSIsInRlbXBsYXRlVXJsIiwicmVxdWlyZSIsImhlYWRpbmciLCJpc0Rpc2FibGVkIiwic2V0SGVhZGluZyIsImFjY29yZGlvbkN0cmwiLCJvcGVuQ2xhc3MiLCJwYW5lbENsYXNzIiwidG9nZ2xlT3BlbiIsIiRldmVudCIsImFjY29yZGlvbkdyb3VwQ3RybCIsIm5vb3AiLCJhY2NvcmRpb25UcmFuc2NsdWRlIiwiY2xvc2VhYmxlIiwiJHRpbWVvdXQiLCJhbGVydEN0cmwiLCJkaXNtaXNzT25UaW1lb3V0IiwiJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwid2FybiIsImJpbmRIdG1sVW5zYWZlIiwiYWN0aXZlQ2xhc3MiLCJ0b2dnbGVFdmVudCIsImJ1dHRvbkNvbmZpZyIsImN0cmxzIiwiYnV0dG9uc0N0cmwiLCJuZ01vZGVsQ3RybCIsIiRyZW5kZXIiLCIkbW9kZWxWYWx1ZSIsImJ0blJhZGlvIiwiYmluZCIsImRpc2FibGVkIiwidW5jaGVja2FibGUiLCIkYXBwbHkiLCIkc2V0Vmlld1ZhbHVlIiwiJGRvY3VtZW50IiwiZ2V0VHJ1ZVZhbHVlIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsImJ0bkNoZWNrYm94VHJ1ZSIsImdldEZhbHNlVmFsdWUiLCJidG5DaGVja2JveEZhbHNlIiwiYXR0cmlidXRlVmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJhY3RpdmVFbGVtZW50IiwiJGludGVydmFsIiwiZ29OZXh0IiwiZGVzdHJveWVkIiwiY3VycmVudFNsaWRlIiwibm9UcmFuc2l0aW9uIiwiJGN1cnJlbnRUcmFuc2l0aW9uIiwic2xpZGVzIiwiU0xJREVfRElSRUNUSU9OIiwiTkVXX0FOSU1BVEUiLCJwaGFzZSIsImN1cnJlbnRJbmRleCIsInJlc3RhcnRUaW1lciIsImdldFNsaWRlQnlJbmRleCIsInJlc2V0VGltZXIiLCJjdXJyZW50SW50ZXJ2YWwiLCJ0aW1lckZuIiwiY2FuY2VsIiwiaXNQbGF5aW5nIiwibWlub3IiLCJOT19UUkFOU0lUSU9OIiwic2VsZWN0IiwibmV4dFNsaWRlIiwibmV4dEluZGV4IiwiaW5kZXhPZlNsaWRlIiwiZ2V0Q3VycmVudEluZGV4IiwibmV3SW5kZXgiLCJub1dyYXAiLCJwbGF5Iiwibm9QYXVzZSIsImFkZFNsaWRlIiwicmVtb3ZlU2xpZGUiLCJhY3R1YWwiLCJjYXJvdXNlbEN0cmwiLCIkYW5pbWF0ZUNzcyIsImJlZm9yZUFkZENsYXNzIiwiZG9uZSIsInN0b3BwZWQiLCJkaXJlY3Rpb25DbGFzcyIsInJlbW92ZUNsYXNzRm4iLCJzdGFydCIsImJlZm9yZVJlbW92ZUNsYXNzIiwic2VydmljZSIsIm9yZGVyQnlGaWx0ZXIiLCJjcmVhdGVQYXJzZXIiLCJmb3JtYXQiLCJyZWdleCIsImZvcm1hdENvZGVUb1JlZ2V4IiwiY29kZSIsIlJlZ0V4cCIsImlzVmFsaWQiLCJ5ZWFyIiwibW9udGgiLCJkYXRlIiwiU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCIsInBhcnNlcnMiLCJ5eXl5IiwieXkiLCJ5IiwiTU1NTSIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJNT05USCIsIk1NTSIsIlNIT1JUTU9OVEgiLCJNTSIsIk0iLCJkZCIsIkVFRUUiLCJEQVkiLCJFRUUiLCJTSE9SVERBWSIsIkhIIiwiaG91cnMiLCJoaCIsIkgiLCJoIiwibW0iLCJtaW51dGVzIiwibSIsInNzcyIsIm1pbGxpc2Vjb25kcyIsInNzIiwic2Vjb25kcyIsInMiLCJBTVBNUyIsInBhcnNlIiwiaW5wdXQiLCJiYXNlRGF0ZSIsInBhcnNlciIsImZpZWxkcyIsImR0IiwiaXNEYXRlIiwiZ2V0VGltZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsIm1hcHBlciIsIkRhdGUiLCIkd2luZG93IiwiZ2V0U3R5bGUiLCJjc3Nwcm9wIiwiY3VycmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImlzU3RhdGljUG9zaXRpb25lZCIsInBhcmVudE9mZnNldEVsIiwiZG9jRG9tRWwiLCJvZmZzZXRQYXJlbnQiLCJlbEJDUiIsIm9mZnNldFBhcmVudEJDUiIsIm9mZnNldFBhcmVudEVsIiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsInNjcm9sbExlZnQiLCJib3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWU9mZnNldCIsInBhZ2VYT2Zmc2V0IiwicG9zaXRpb25FbGVtZW50cyIsImhvc3RFbCIsInRhcmdldEVsIiwicG9zaXRpb25TdHIiLCJhcHBlbmRUb0JvZHkiLCJob3N0RWxQb3MiLCJ0YXJnZXRFbFdpZHRoIiwidGFyZ2V0RWxIZWlnaHQiLCJ0YXJnZXRFbFBvcyIsInBvc2l0aW9uU3RyUGFydHMiLCJwb3MwIiwicG9zMSIsInNoaWZ0V2lkdGgiLCJjZW50ZXIiLCJzaGlmdEhlaWdodCIsImZvcm1hdERheSIsImZvcm1hdE1vbnRoIiwiZm9ybWF0WWVhciIsImZvcm1hdERheUhlYWRlciIsImZvcm1hdERheVRpdGxlIiwiZm9ybWF0TW9udGhUaXRsZSIsImRhdGVwaWNrZXJNb2RlIiwibWluTW9kZSIsIm1heE1vZGUiLCJzaG93V2Vla3MiLCJzdGFydGluZ0RheSIsInllYXJSYW5nZSIsIm1pbkRhdGUiLCJtYXhEYXRlIiwic2hvcnRjdXRQcm9wYWdhdGlvbiIsImRhdGVGaWx0ZXIiLCJkYXRlcGlja2VyQ29uZmlnIiwiJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yIiwibW9kZXMiLCJyZWZyZXNoVmlldyIsInVuaXF1ZUlkIiwiJGlkIiwiZmxvb3IiLCJpbml0RGF0ZSIsImFjdGl2ZURhdGUiLCIkaXNFbXB0eSIsIiRpbnZhbGlkIiwiZGF0ZU9iamVjdCIsImNvbXBhcmUiLCJhY3RpdmVEYXRlSWQiLCJ1aWQiLCJuZ01vZGVsQ3RybF8iLCJyZW5kZXIiLCIkdmlld1ZhbHVlIiwiX3JlZnJlc2hWaWV3IiwiJHNldFZhbGlkaXR5IiwiY3JlYXRlRGF0ZU9iamVjdCIsIm1vZGVsIiwibGFiZWwiLCJzZWxlY3RlZCIsImN1cnJlbnQiLCJjdXN0b21DbGFzcyIsImRhdGVEaXNhYmxlZCIsIm1vZGUiLCJhcnIiLCJzaXplIiwiYXJyYXlzIiwiZml4VGltZVpvbmUiLCJzZXRIb3VycyIsInNldEZ1bGxZZWFyIiwibW92ZSIsInN0ZXAiLCJ5ZWFycyIsIm1vbnRocyIsInRvZ2dsZU1vZGUiLCJrZXlzIiwxMywzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCwiZm9jdXNFbGVtZW50IiwiZXZ0Iiwic2hpZnRLZXkiLCJhbHRLZXkiLCJjdHJsS2V5IiwiaGFuZGxlS2V5RG93biIsImRhdGVwaWNrZXJDdHJsIiwiY3RybCIsImdldERheXNJbk1vbnRoIiwiREFZU19JTl9NT05USCIsImdldERhdGVzIiwic3RhcnREYXRlIiwiZGF0ZXMiLCJBcnJheSIsInNldERhdGUiLCJnZXRJU084NjAxV2Vla051bWJlciIsImNoZWNrRGF0ZSIsImdldERheSIsInRpbWUiLCJzZXRNb250aCIsImZpcnN0RGF5T2ZNb250aCIsImRpZmZlcmVuY2UiLCJudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCIsImZpcnN0RGF0ZSIsImRheXMiLCJzZWNvbmRhcnkiLCJsYWJlbHMiLCJhYmJyIiwiZnVsbCIsInJvd3MiLCJ3ZWVrTnVtYmVycyIsInRodXJzZGF5SW5kZXgiLCJudW1XZWVrcyIsImN1cldlZWsiLCJkYXRlMSIsImRhdGUyIiwibWluIiwiZ2V0U3RhcnRpbmdZZWFyIiwicmFuZ2UiLCJkYXRlcGlja2VyUG9wdXAiLCJkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCIsImRhdGVwaWNrZXJUZW1wbGF0ZVVybCIsImh0bWw1VHlwZXMiLCJkYXRldGltZS1sb2NhbCIsImN1cnJlbnRUZXh0IiwiY2xlYXJUZXh0IiwiY2xvc2VUZXh0IiwiY2xvc2VPbkRhdGVTZWxlY3Rpb24iLCJzaG93QnV0dG9uQmFyIiwib25PcGVuRm9jdXMiLCIkcG9zaXRpb24iLCJkYXRlUGFyc2VyIiwiZGF0ZXBpY2tlclBvcHVwQ29uZmlnIiwibmdNb2RlbCIsImNhbWVsdG9EYXNoIiwiJDEiLCJwYXJzZURhdGUiLCJ2aWV3VmFsdWUiLCJpc051bWJlciIsImRhdGVGb3JtYXQiLCJ2YWxpZGF0b3IiLCJtb2RlbFZhbHVlIiwibmdSZXF1aXJlZCIsImRhdGVwaWNrZXJBcHBlbmRUb0JvZHkiLCJnZXRUZXh0Iiwid2F0Y2hEYXRhIiwiaXNIdG1sNURhdGVJbnB1dCIsIm5ld0RhdGVGb3JtYXQiLCJwb3B1cEVsIiwibmctbW9kZWwiLCJuZy1jaGFuZ2UiLCJ0ZW1wbGF0ZS11cmwiLCJkYXRlcGlja2VyRWwiLCJkYXRlcGlja2VyT3B0aW9ucyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImFzc2lnbiIsIm9sZHZhbHVlIiwiJGZvcm1hdHRlcnMiLCIkJHBhcnNlck5hbWUiLCIkdmFsaWRhdG9ycyIsIiRwYXJzZXJzIiwidW5zaGlmdCIsImRhdGVTZWxlY3Rpb24iLCIkdmlld0NoYW5nZUxpc3RlbmVycyIsImRvY3VtZW50Q2xpY2tCaW5kIiwiaW5wdXRLZXlkb3duQmluZCIsIiRicm9hZGNhc3QiLCJ0b2RheSIsIiRwb3B1cCIsImFmdGVyIiwiJCRwaGFzZSIsIm9wZW5TY29wZSIsIm9wZW4iLCJkcm9wZG93blNjb3BlIiwiY2xvc2VEcm9wZG93biIsImtleWJpbmRGaWx0ZXIiLCJnZXRBdXRvQ2xvc2UiLCJ0b2dnbGVFbGVtZW50IiwiZ2V0VG9nZ2xlRWxlbWVudCIsImRyb3Bkb3duRWxlbWVudCIsImdldERyb3Bkb3duRWxlbWVudCIsImZvY3VzVG9nZ2xlRWxlbWVudCIsImlzS2V5bmF2RW5hYmxlZCIsImZvY3VzRHJvcGRvd25FbnRyeSIsImRyb3Bkb3duQ29uZmlnIiwiZHJvcGRvd25TZXJ2aWNlIiwiJHRlbXBsYXRlUmVxdWVzdCIsInRlbXBsYXRlU2NvcGUiLCJnZXRJc09wZW4iLCIkbmV3Iiwic2V0SXNPcGVuIiwidG9nZ2xlSW52b2tlciIsIm9uVG9nZ2xlIiwia2V5bmF2RW5hYmxlZCIsImRyb3Bkb3duQXBwZW5kVG9Cb2R5Iiwia2V5Ym9hcmROYXYiLCJkcm9wZG93bk1lbnUiLCJhdXRvQ2xvc2UiLCJnZXRFbGVtZW50IiwiZWxlbXMiLCJzZWxlY3RlZE9wdGlvbiIsIndhc09wZW4iLCJyaWdodGFsaWduIiwib3BlbkNvbnRhaW5lciIsImRyb3Bkb3duTWVudVRlbXBsYXRlVXJsIiwidHBsQ29udGVudCIsIm5ld0VsIiwicmVwbGFjZVdpdGgiLCIkZGVzdHJveSIsIm9mZkRlc3Ryb3kiLCJkcm9wZG93bkN0cmwiLCJ0cGxVcmwiLCJ0b2dnbGVEcm9wZG93biIsImFyaWEtaGFzcG9wdXAiLCJhcmlhLWV4cGFuZGVkIiwiY3JlYXRlTmV3Iiwic3RhY2siLCJhZGQiLCJpZHgiLCJyZW1vdmVUb3AiLCJlbnRyaWVzIiwiaGFzS2V5IiwidmFsdWVzIiwiJG1vZGFsU3RhY2siLCJsaW5rRm4iLCJtb2RhbEluQ2xhc3MiLCJOT1dfQ0xPU0lOR19FVkVOVCIsInNldElzQXN5bmMiLCJ0QXR0cnMiLCJiYWNrZHJvcENsYXNzIiwid2luZG93Q2xhc3MiLCJnZXRUb3AiLCIkaXNSZW5kZXJlZCIsIm1vZGFsUmVuZGVyRGVmZXJPYmoiLCJhbmltYXRpb25Qcm9taXNlIiwid2hlbiIsImlucHV0c1dpdGhBdXRvZm9jdXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibW9kYWxSZW5kZXJlZCIsIm1vZGFsQW5pbWF0aW9uIiwibW9kYWxBbmltYXRpb25DbGFzcyIsIiR0cmFuc2NsdWRlIiwiY2xvbmUiLCIkJG11bHRpTWFwIiwiJCRzdGFja2VkTWFwIiwiYmFja2Ryb3BJbmRleCIsInRvcEJhY2tkcm9wSW5kZXgiLCJvcGVuZWQiLCJvcGVuZWRXaW5kb3dzIiwicmVtb3ZlTW9kYWxXaW5kb3ciLCJtb2RhbEluc3RhbmNlIiwiZWxlbWVudFRvUmVjZWl2ZUZvY3VzIiwibW9kYWxXaW5kb3ciLCJyZW1vdmVBZnRlckFuaW1hdGUiLCJtb2RhbERvbUVsIiwibW9kYWxTY29wZSIsIm1vZGFsQm9keUNsYXNzIiwib3BlbmVkQ2xhc3MiLCJPUEVORURfTU9EQUxfQ0xBU1MiLCJvcGVuZWRDbGFzc2VzIiwiY2hlY2tSZW1vdmVCYWNrZHJvcCIsImJhY2tkcm9wRG9tRWwiLCJiYWNrZHJvcFNjb3BlUmVmIiwiYmFja2Ryb3BTY29wZSIsImRvbUVsIiwiYWZ0ZXJBbmltYXRpbmciLCJhc3luY0RlZmVycmVkIiwiYXN5bmNQcm9taXNlIiwiYnJvYWRjYXN0Q2xvc2luZyIsInJlc3VsdE9yUmVhc29uIiwiY2xvc2luZyIsImRlZmF1bHRQcmV2ZW50ZWQiLCJmb2N1c2FibGVFbGVtZW50TGlzdCIsImZvY3VzSW5kZXgiLCJ0YWJhYmJsZVNlbGVjdG9yIiwibmV3QmFja2Ryb3BJbmRleCIsImxvYWRGb2N1c0VsZW1lbnRMaXN0IiwiZm9jdXNDaGFuZ2VkIiwiaXNGb2N1c0luRmlyc3RJdGVtIiwiZm9jdXNMYXN0Rm9jdXNhYmxlRWxlbWVudCIsImlzRm9jdXNJbkxhc3RJdGVtIiwiZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQiLCJtb2RhbE9wZW5lciIsInJlbmRlckRlZmVycmVkIiwiY3VyckJhY2tkcm9wSW5kZXgiLCJhbmd1bGFyQmFja2dyb3VuZERvbUVsIiwiYW5ndWxhckRvbUVsIiwid2luZG93VGVtcGxhdGVVcmwiLCJ3aW5kb3ctY2xhc3MiLCJjbGVhckZvY3VzTGlzdENhY2hlIiwiJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCIsInJlYXNvbiIsImRpc21pc3NBbGwiLCJ0b3BNb2RhbCIsInNyY0VsZW1lbnQiLCJsZW5ndGgwIiwibW9kYWxEb21FMSIsIiRtb2RhbFByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCJnZXRUZW1wbGF0ZVByb21pc2UiLCJnZXRSZXNvbHZlUHJvbWlzZXMiLCJyZXNvbHZlcyIsInByb21pc2VzQXJyIiwiaW52b2tlIiwiJG1vZGFsIiwicHJvbWlzZUNoYWluIiwiZ2V0UHJvbWlzZUNoYWluIiwibW9kYWxPcHRpb25zIiwibW9kYWxSZXN1bHREZWZlcnJlZCIsIm1vZGFsT3BlbmVkRGVmZXJyZWQiLCJtb2RhbFJlbmRlckRlZmVycmVkIiwicmVuZGVyZWQiLCJzYW1lUHJvbWlzZSIsInRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UiLCJ0cGxBbmRWYXJzIiwiJGNsb3NlIiwiJGRpc21pc3MiLCJjdHJsSW5zdGFuY2UiLCJjdHJsTG9jYWxzIiwicmVzb2x2ZUl0ZXIiLCIkbW9kYWxJbnN0YW5jZSIsImJpbmRUb0NvbnRyb2xsZXIiLCJmaW5hbGx5Iiwic2V0TnVtUGFnZXMiLCJudW1QYWdlcyIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJjYWxjdWxhdGVUb3RhbFBhZ2VzIiwicGFnZSIsInNlbGVjdFBhZ2UiLCJjZWlsIiwidG90YWxJdGVtcyIsImNsaWNrQWxsb3dlZCIsIm5nRGlzYWJsZWQiLCJibHVyIiwibm9QcmV2aW91cyIsIm5vTmV4dCIsImJvdW5kYXJ5TGlua3MiLCJkaXJlY3Rpb25MaW5rcyIsImZpcnN0VGV4dCIsInByZXZpb3VzVGV4dCIsIm5leHRUZXh0IiwibGFzdFRleHQiLCJyb3RhdGUiLCJwYWdpbmF0aW9uQ29uZmlnIiwibWFrZVBhZ2UiLCJudW1iZXIiLCJnZXRQYWdlcyIsImN1cnJlbnRQYWdlIiwicGFnZXMiLCJzdGFydFBhZ2UiLCJlbmRQYWdlIiwiaXNNYXhTaXplZCIsIm1heFNpemUiLCJwcmV2aW91c1BhZ2VTZXQiLCJuZXh0UGFnZVNldCIsInBhZ2luYXRpb25DdHJsIiwib3JpZ2luYWxSZW5kZXIiLCJhbGlnbiIsInBhZ2VyQ29uZmlnIiwic25ha2VfY2FzZSIsInJlZ2V4cCIsInNlcGFyYXRvciIsImxldHRlciIsImRlZmF1bHRPcHRpb25zIiwicG9wdXBEZWxheSIsInVzZUNvbnRlbnRFeHAiLCJ0cmlnZ2VyTWFwIiwibW91c2VlbnRlciIsImNsaWNrIiwibm9uZSIsImdsb2JhbE9wdGlvbnMiLCJzZXRUcmlnZ2VycyIsImRlZmF1bHRUcmlnZ2VyU2hvdyIsImdldFRyaWdnZXJzIiwiZGlyZWN0aXZlTmFtZSIsInN0YXJ0U3ltIiwiZW5kU3ltIiwidG9vbHRpcExpbmtlciIsInRvZ2dsZVRvb2x0aXBCaW5kIiwidHRTY29wZSIsImhpZGVUb29sdGlwQmluZCIsInNob3dUb29sdGlwQmluZCIsImhhc0VuYWJsZUV4cCIsInByZXBhcmVUb29sdGlwIiwicG9wdXBUaW1lb3V0IiwiJGRpZ2VzdCIsInRyYW5zaXRpb25UaW1lb3V0IiwiY29udGVudEV4cCIsImNyZWF0ZVRvb2x0aXAiLCJpc09wZW5FeHAiLCJvcmlnU2NvcGUiLCJwb3NpdGlvblRvb2x0aXAiLCJwb3NpdGlvblRpbWVvdXQiLCJyZW1vdmVUb29sdGlwIiwidG9vbHRpcExpbmtlZFNjb3BlIiwicmVwb3NpdGlvblNjaGVkdWxlZCIsIiQkcG9zdERpZ2VzdCIsInByZXBQb3B1cENsYXNzIiwicHJlcFBsYWNlbWVudCIsInByZXBQb3B1cERlbGF5IiwicG9wdXBDbGFzcyIsInByZXBUcmlnZ2VycyIsInVucmVnaXN0ZXJUcmlnZ2VycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0dEJveCIsInR0Q3NzIiwiYXBwZW5kVG9Cb2R5VmFsIiwiJHNjZSIsImVsZW0iLCJjdXJyZW50U2NvcGUiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsInRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwicGFyc2VBc1Jlc291cmNlVXJsIiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSIsInNyYyIsInRoaXNDaGFuZ2VJZCIsInJlc3BvbnNlIiwibmV3U2NvcGUiLCJ0b29sdGlwQW5pbWF0aW9uQ2xhc3MiLCIkdG9vbHRpcCIsIm9yaWdpblNjb3BlIiwidG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQiLCJwcm9ncmVzc0NvbmZpZyIsImJhcnMiLCJhZGRCYXIiLCJiYXIiLCJyZWNhbGN1bGF0ZVBlcmNlbnRhZ2UiLCJwZXJjZW50IiwidG9GaXhlZCIsInRvdGFsUGVyY2VudGFnZSIsInJlZHVjZSIsInRvdGFsIiwicmVtb3ZlQmFyIiwiJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nIiwicHJvZ3Jlc3NDdHJsIiwic3RhdGVPbiIsInN0YXRlT2ZmIiwidGl0bGVzIiwicmF0aW5nQ29uZmlnIiwidG1wVGl0bGVzIiwicmF0aW5nU3RhdGVzIiwiYnVpbGRUZW1wbGF0ZU9iamVjdHMiLCJzdGF0ZXMiLCJyYXRlIiwicmVhZG9ubHkiLCJvbkhvdmVyIiwicmVzZXQiLCJvbkxlYXZlIiwib25LZXlkb3duIiwicmF0aW5nQ3RybCIsInRhYnMiLCJzZWxlY3RlZFRhYiIsIm9uRGVzZWxlY3QiLCJzZWxlY3RDYWxsZWQiLCJvblNlbGVjdCIsImFkZFRhYiIsInJlbW92ZVRhYiIsIm5ld0FjdGl2ZUluZGV4IiwidmVydGljYWwiLCJqdXN0aWZpZWQiLCJlbG0iLCJ0YWJzZXRDdHJsIiwiJHRyYW5zY2x1ZGVGbiIsImlzVGFiSGVhZGluZyIsIm5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJ0YWJDb250ZW50VHJhbnNjbHVkZSIsImhlYWRpbmdFbGVtZW50IiwiaG91clN0ZXAiLCJtaW51dGVTdGVwIiwic2hvd01lcmlkaWFuIiwibWVyaWRpYW5zIiwicmVhZG9ubHlJbnB1dCIsIm1vdXNld2hlZWwiLCJhcnJvd2tleXMiLCJzaG93U3Bpbm5lcnMiLCJ0aW1lcGlja2VyQ29uZmlnIiwiZ2V0SG91cnNGcm9tVGVtcGxhdGUiLCJ2YWxpZCIsIm1lcmlkaWFuIiwiZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSIsInBhZCIsInRvU3RyaW5nIiwia2V5Ym9hcmRDaGFuZ2UiLCJtYWtlVmFsaWQiLCJ1cGRhdGVUZW1wbGF0ZSIsImludmFsaWRIb3VycyIsImludmFsaWRNaW51dGVzIiwiYWRkTWludXRlcyIsIm5ld0RhdGUiLCJhZGRNaW51dGVzVG9TZWxlY3RlZCIsImlucHV0cyIsImhvdXJzSW5wdXRFbCIsIm1pbnV0ZXNJbnB1dEVsIiwic2V0dXBNb3VzZXdoZWVsRXZlbnRzIiwic2V0dXBBcnJvd2tleUV2ZW50cyIsInNldHVwSW5wdXRFdmVudHMiLCJub0luY3JlbWVudEhvdXJzIiwiaW5jcmVtZW50ZWRTZWxlY3RlZCIsIm5vRGVjcmVtZW50SG91cnMiLCJkZWNyZW1lbnRlZFNlbGVjdGVkIiwibm9JbmNyZW1lbnRNaW51dGVzIiwibm9EZWNyZW1lbnRNaW51dGVzIiwibm9Ub2dnbGVNZXJpZGlhbiIsIiRlcnJvciIsImlzU2Nyb2xsaW5nVXAiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsImRlbHRhWSIsImRldGFpbCIsImluY3JlbWVudEhvdXJzIiwiZGVjcmVtZW50SG91cnMiLCJpbmNyZW1lbnRNaW51dGVzIiwiZGVjcmVtZW50TWludXRlcyIsInVwZGF0ZUhvdXJzIiwidXBkYXRlTWludXRlcyIsImludmFsaWRhdGUiLCJzZXRNaW51dGVzIiwidG9nZ2xlTWVyaWRpYW4iLCJ0aW1lcGlja2VyQ3RybCIsIiR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkIiwiZmluZEVuZEV2ZW50TmFtZSIsImVuZEV2ZW50TmFtZXMiLCJ0cmFuc0VsZW1lbnQiLCIkdHJhbnNpdGlvbiIsImVuZEV2ZW50TmFtZSIsInRyYW5zaXRpb25FbmRIYW5kbGVyIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMiLCJhbmltYXRpb25FbmRFdmVudE5hbWVzIiwidHJhbnNpdGlvbkVuZEV2ZW50TmFtZSIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZSIsIlRZUEVBSEVBRF9SRUdFWFAiLCJpdGVtTmFtZSIsInNvdXJjZSIsInZpZXdNYXBwZXIiLCJtb2RlbE1hcHBlciIsInR5cGVhaGVhZFBhcnNlciIsIkhPVF9LRVlTIiwiZXZlbnREZWJvdW5jZVRpbWUiLCJvcmlnaW5hbFNjb3BlIiwiZmlyZVJlY2FsY3VsYXRpbmciLCJtb3ZlSW5Qcm9ncmVzcyIsInRpbWVvdXRFdmVudFByb21pc2UiLCJtYXRjaGVzIiwicmVjYWxjdWxhdGVQb3NpdGlvbiIsIm1vZGVsQ3RybCIsIm5nTW9kZWxPcHRpb25zIiwibWluTGVuZ3RoIiwidHlwZWFoZWFkTWluTGVuZ3RoIiwiaGFzRm9jdXMiLCJ3YWl0VGltZSIsInR5cGVhaGVhZFdhaXRNcyIsImlzRWRpdGFibGUiLCJ0eXBlYWhlYWRFZGl0YWJsZSIsImlzTG9hZGluZ1NldHRlciIsInR5cGVhaGVhZExvYWRpbmciLCJvblNlbGVjdENhbGxiYWNrIiwidHlwZWFoZWFkT25TZWxlY3QiLCJpc1NlbGVjdE9uQmx1ciIsInR5cGVhaGVhZFNlbGVjdE9uQmx1ciIsImlzTm9SZXN1bHRzU2V0dGVyIiwidHlwZWFoZWFkTm9SZXN1bHRzIiwiaW5wdXRGb3JtYXR0ZXIiLCJ0eXBlYWhlYWRJbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZEFwcGVuZFRvQm9keSIsImZvY3VzRmlyc3QiLCJ0eXBlYWhlYWRGb2N1c0ZpcnN0Iiwic2VsZWN0T25FeGFjdCIsInR5cGVhaGVhZFNlbGVjdE9uRXhhY3QiLCJwYXJzZWRNb2RlbCIsImludm9rZU1vZGVsU2V0dGVyIiwiJHNldE1vZGVsVmFsdWUiLCIkb3B0aW9ucyIsImdldHRlclNldHRlciIsIiQkJHAiLCJwYXJzZXJSZXN1bHQiLCJ0eXBlYWhlYWQiLCJwb3B1cElkIiwiYXJpYS1hdXRvY29tcGxldGUiLCJhcmlhLW93bnMiLCJwb3BVcEVsIiwibW92ZS1pbi1wcm9ncmVzcyIsInF1ZXJ5IiwidHlwZWFoZWFkVGVtcGxhdGVVcmwiLCJ0eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsIiwicmVzZXRNYXRjaGVzIiwiYWN0aXZlSWR4IiwiZ2V0TWF0Y2hJZCIsImlucHV0SXNFeGFjdE1hdGNoIiwiaW5wdXRWYWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0TWF0Y2hlc0FzeW5jIiwibG9jYWxzIiwib25DdXJyZW50UmVxdWVzdCIsInRpbWVvdXRQcm9taXNlIiwic2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCIsImNhbmNlbFByZXZpb3VzVGltZW91dCIsImNhbmRpZGF0ZVZpZXdWYWx1ZSIsImVtcHR5Vmlld1ZhbHVlIiwiJG1vZGVsIiwiJGl0ZW0iLCIkbGFiZWwiLCJ0eXBlYWhlYWRGb2N1c09uU2VsZWN0IiwiZGlzbWlzc0NsaWNrSGFuZGxlciIsInBvcHVwVGVtcGxhdGVVcmwiLCJtYXRjaElkeCIsInNlbGVjdEFjdGl2ZSIsInNlbGVjdE1hdGNoIiwiY2xvbmVkRWxlbWVudCIsImVzY2FwZVJlZ2V4cCIsInF1ZXJ5VG9Fc2NhcGUiLCJjb250YWluc0h0bWwiLCJtYXRjaEl0ZW0iLCJpc1Nhbml0aXplUHJlc2VudCIsInRydXN0QXNIdG1sIiwiJHRlbXBsYXRlQ2FjaGUiLCIkJGNzcCIsInByZXBlbmQiLCJzYXZlIiwiZGlzYWJsZVNhdmUiLCJlcnIiLCJoaWRlTGFiZWwiLCJmaWxlVHlwZSIsImhhc1ZhbGlkRXh0ZW5zaW9uIiwiZXh0ZW5zaW9ucyIsInRlc3RVcmwiLCJ0ZXN0SW1hZ2UiLCJpbWFnZSIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsImludmFsaWRUeXBlIiwidXJsUmVnRXhwIiwiZG9WYWxpZGF0aW9uIiwiZm9yY2VkVmFsaWQiLCJhbGxvd0luaXRFbXB0eSIsImluaXRFbXB0eSIsImluZm8iLCJTVE9SQUdFX0VOViIsInNldHRpbmdzU2F2ZXIiLCJzZXR0aW5nc0dldHRlciIsInNldHRpbmdzQ2xvc2VyIiwic2V0dGluZ3MiLCJhZGRpdGlvbmFsUGFyYW1zIiwiYWxlcnRzIiwiZ2V0QWRkaXRpb25hbFBhcmFtIiwiZGVmYXVsdFZhbCIsInNldEFkZGl0aW9uYWxQYXJhbSIsImxvYWRBZGRpdGlvbmFsUGFyYW1zIiwiZ2V0QWRkaXRpb25hbFBhcmFtcyIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJzYXZlU2V0dGluZ3MiLCJjbG9zZVNldHRpbmdzIiwiZ2V0UGFyYW1zIiwiJGVsbSIsIiR3YXRjaENvbGxlY3Rpb24iLCJuZXdBbGVydHMiLCJvbGRBbGVydHMiLCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0UiLCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSIsImdldFN0b3JhZ2VVcmxEYXRhIiwiZ2V0U3RvcmFnZVR5cGUiLCJzdG9yYWdlVXJsIiwiZ2V0Q29tcGFueUlkIiwicCIsInN0ciIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb21wYW55SWQiLCJmaWxlTmFtZSIsInBvcCIsImZvbGRlciIsImdhZGdldHMiLCJhbmd1bGFyTG9hZCIsImxvYWRGb250cyIsImZhbWlseSIsImZvbnRzIiwidXJscyIsInNwYWNlcyIsImZvbnRCYXNlVXJsIiwiZXhjbHVkZSIsImFsbEZvbnRzIiwibG9hZENTUyIsImdldEdvb2dsZUZvbnRzIiwicmVzcCIsIml0ZW1zIiwiZ2V0Rm9udHNVc2VkIiwiZmFtaWx5TGlzdCIsImZvbnRzVXNlZCIsImkxOG4iLCJmYWxsYmFja0xuZyIsInJlc0dldFBhdGgiLCJpc0ltYWdlIiwiZ2FkZ2V0c0FwaSIsInNldHRpbmdzUGFyc2VyIiwicHJvY2Vzc1NldHRpbmdzIiwibmV3U2V0dGluZ3MiLCJjb3B5IiwicnNXIiwicnNIIiwiZGVidWciLCJsYXlvdXRVUkwiLCJlbmNvZGVQYXJhbXMiLCJhZGRpdGlvbmFsUGFyYW1zU3RyIiwiZW5jb2RlQWRkaXRpb25hbFBhcmFtcyIsInJwYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWZhdWx0U2V0dGluZ3MiLCJkZWZhdWx0QWRkaXRpb25hbFBhcmFtcyIsInBhcnNlQWRkaXRpb25hbFBhcmFtcyIsImRlZmF1bHRQYXJhbXMiLCJwYXJzZVBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RyaXBQcmVmaXgiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXNTdHIiLCJ2YXJzIiwiZ29vZ2xlIiwidmlzdWFsaXphdGlvbiIsInNldE9uTG9hZENhbGxiYWNrIl0sIm1hcHBpbmdzIjoi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cmFuc2xhdGUgLSB2Mi41LjIgLSAyMDE0LTEyLTEwXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXRyYW5zbGF0ZS9hbmd1bGFyLXRyYW5zbGF0ZVxuICogQ29weXJpZ2h0IChjKSAyMDE0IDsgTGljZW5zZWQgTUlUXG4gKi9cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWFpbiBtb2R1bGUgd2hpY2ggaG9sZHMgZXZlcnl0aGluZyB0b2dldGhlci5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnLCBbJ25nJ10pXG5cbi5ydW4oWyckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCR0cmFuc2xhdGUpIHtcblxuICB2YXIga2V5ID0gJHRyYW5zbGF0ZS5zdG9yYWdlS2V5KCksXG4gICAgICBzdG9yYWdlID0gJHRyYW5zbGF0ZS5zdG9yYWdlKCk7XG5cbiAgdmFyIGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcmVmZXJyZWQgPSAkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCk7XG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcocHJlZmVycmVkKSkge1xuICAgICAgJHRyYW5zbGF0ZS51c2UocHJlZmVycmVkKTtcbiAgICAgIC8vICR0cmFuc2xhdGUudXNlKCkgd2lsbCBhbHNvIHJlbWVtYmVyIHRoZSBsYW5ndWFnZS5cbiAgICAgIC8vIFNvLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgc3RvcmFnZS5wdXQoKSBoZXJlLlxuICAgIH0gZWxzZSB7XG4gICAgICBzdG9yYWdlLnB1dChrZXksICR0cmFuc2xhdGUudXNlKCkpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoc3RvcmFnZSkge1xuICAgIGlmICghc3RvcmFnZS5nZXQoa2V5KSkge1xuICAgICAgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICR0cmFuc2xhdGUudXNlKHN0b3JhZ2UuZ2V0KGtleSkpWydjYXRjaCddKGZhbGxiYWNrRnJvbUluY29ycmVjdFN0b3JhZ2VWYWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKSkge1xuICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKSk7XG4gIH1cbn1dKTtcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogJHRyYW5zbGF0ZVByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIHJlZ2lzdGVyIHRyYW5zbGF0aW9uLXRhYmxlcywgYXN5bmNocm9ub3VzIGxvYWRlcnNcbiAqIGFuZCBzaW1pbGFyIHRvIGNvbmZpZ3VyZSB0cmFuc2xhdGlvbiBiZWhhdmlvciBkaXJlY3RseSBpbnNpZGUgb2YgYSBtb2R1bGUuXG4gKlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLnByb3ZpZGVyKCckdHJhbnNsYXRlJywgWyckU1RPUkFHRV9LRVknLCBmdW5jdGlvbiAoJFNUT1JBR0VfS0VZKSB7XG5cbiAgdmFyICR0cmFuc2xhdGlvblRhYmxlID0ge30sXG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UsXG4gICAgICAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gW10sXG4gICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzLFxuICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UsXG4gICAgICAkZmFsbGJhY2tXYXNTdHJpbmcsXG4gICAgICAkdXNlcyxcbiAgICAgICRuZXh0TGFuZyxcbiAgICAgICRzdG9yYWdlRmFjdG9yeSxcbiAgICAgICRzdG9yYWdlS2V5ID0gJFNUT1JBR0VfS0VZLFxuICAgICAgJHN0b3JhZ2VQcmVmaXgsXG4gICAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnksXG4gICAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnksXG4gICAgICAkaW50ZXJwb2xhdG9yRmFjdG9yaWVzID0gW10sXG4gICAgICAkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5ID0gZmFsc2UsXG4gICAgICAkbG9hZGVyRmFjdG9yeSxcbiAgICAgICRjbG9ha0NsYXNzTmFtZSA9ICd0cmFuc2xhdGUtY2xvYWsnLFxuICAgICAgJGxvYWRlck9wdGlvbnMsXG4gICAgICAkbm90Rm91bmRJbmRpY2F0b3JMZWZ0LFxuICAgICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQsXG4gICAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmYWxzZSxcbiAgICAgIE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSID0gJy4nLFxuICAgICAgbG9hZGVyQ2FjaGU7XG5cbiAgdmFyIHZlcnNpb24gPSAnMi41LjInO1xuXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbGFuZ3VhZ2VcbiAgdmFyIGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBuYXYgPSB3aW5kb3cubmF2aWdhdG9yLFxuICAgICAgICBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMgPSBbJ2xhbmd1YWdlJywgJ2Jyb3dzZXJMYW5ndWFnZScsICdzeXN0ZW1MYW5ndWFnZScsICd1c2VyTGFuZ3VhZ2UnXSxcbiAgICAgICAgaSxcbiAgICAgICAgbGFuZ3VhZ2U7XG5cbiAgICAvLyBzdXBwb3J0IGZvciBIVE1MIDUuMSBcIm5hdmlnYXRvci5sYW5ndWFnZXNcIlxuICAgIGlmIChhbmd1bGFyLmlzQXJyYXkobmF2Lmxhbmd1YWdlcykpIHtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuYXYubGFuZ3VhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxhbmd1YWdlID0gbmF2Lmxhbmd1YWdlc1tpXTtcbiAgICAgICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgZm9yIG90aGVyIHdlbGwga25vd24gcHJvcGVydGllcyBpbiBicm93c2Vyc1xuICAgIGZvciAoaSA9IDA7IGkgPCBicm93c2VyTGFuZ3VhZ2VQcm9wZXJ0eUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxhbmd1YWdlID0gbmF2W2Jyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5c1tpXV07XG4gICAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBsYW5ndWFnZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbiAgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UnO1xuXG4gIC8vIHRyaWVzIHRvIGRldGVybWluZSB0aGUgYnJvd3NlcnMgbG9jYWxlXG4gIHZhciBnZXRMb2NhbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSgpIHx8ICcnKS5zcGxpdCgnLScpLmpvaW4oJ18nKTtcbiAgfTtcbiAgZ2V0TG9jYWxlLmRpc3BsYXlOYW1lID0gJ2FuZ3VsYXItdHJhbnNsYXRlL3NlcnZpY2U6IGdldExvY2FsZSc7XG5cbiAgLyoqXG4gICAqIEBuYW1lIGluZGV4T2ZcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGluZGV4T2YgcG9seWZpbGwuIEtpbmRhIHNvcnRhLlxuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBhcnJheSBBcnJheSB0byBzZWFyY2ggaW4uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hFbGVtZW50IEVsZW1lbnQgdG8gc2VhcmNoIGZvci5cbiAgICpcbiAgICogQHJldHVybnMge2ludH0gSW5kZXggb2Ygc2VhcmNoIGVsZW1lbnQuXG4gICAqL1xuICB2YXIgaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBzZWFyY2hFbGVtZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlbaV0gPT09IHNlYXJjaEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvKipcbiAgICogQG5hbWUgdHJpbVxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogdHJpbSBwb2x5ZmlsbFxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgc3RyaW5nIHN0cmlwcGVkIG9mIHdoaXRlc3BhY2UgZnJvbSBib3RoIGVuZHNcbiAgICovXG4gIHZhciB0cmltID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9O1xuXG4gIHZhciBuZWdvdGlhdGVMb2NhbGUgPSBmdW5jdGlvbiAocHJlZmVycmVkKSB7XG5cbiAgICB2YXIgYXZhaWwgPSBbXSxcbiAgICAgICAgbG9jYWxlID0gYW5ndWxhci5sb3dlcmNhc2UocHJlZmVycmVkKSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIG4gPSAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzLmxlbmd0aDtcblxuICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBhdmFpbC5wdXNoKGFuZ3VsYXIubG93ZXJjYXNlKCRhdmFpbGFibGVMYW5ndWFnZUtleXNbaV0pKTtcbiAgICB9XG5cbiAgICBpZiAoaW5kZXhPZihhdmFpbCwgbG9jYWxlKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcHJlZmVycmVkO1xuICAgIH1cblxuICAgIGlmICgkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XG4gICAgICB2YXIgYWxpYXM7XG4gICAgICBmb3IgKHZhciBsYW5nS2V5QWxpYXMgaW4gJGxhbmd1YWdlS2V5QWxpYXNlcykge1xuICAgICAgICB2YXIgaGFzV2lsZGNhcmRLZXkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhc0V4YWN0S2V5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCRsYW5ndWFnZUtleUFsaWFzZXMsIGxhbmdLZXlBbGlhcykgJiZcbiAgICAgICAgICBhbmd1bGFyLmxvd2VyY2FzZShsYW5nS2V5QWxpYXMpID09PSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpO1xuXG4gICAgICAgIGlmIChsYW5nS2V5QWxpYXMuc2xpY2UoLTEpID09PSAnKicpIHtcbiAgICAgICAgICBoYXNXaWxkY2FyZEtleSA9IGxhbmdLZXlBbGlhcy5zbGljZSgwLCAtMSkgPT09IHByZWZlcnJlZC5zbGljZSgwLCBsYW5nS2V5QWxpYXMubGVuZ3RoLTEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNFeGFjdEtleSB8fCBoYXNXaWxkY2FyZEtleSkge1xuICAgICAgICAgIGFsaWFzID0gJGxhbmd1YWdlS2V5QWxpYXNlc1tsYW5nS2V5QWxpYXNdO1xuICAgICAgICAgIGlmIChpbmRleE9mKGF2YWlsLCBhbmd1bGFyLmxvd2VyY2FzZShhbGlhcykpID4gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGlhcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFydHMgPSBwcmVmZXJyZWQuc3BsaXQoJ18nKTtcblxuICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKHBhcnRzWzBdKSkgPiAtMSkge1xuICAgICAgcmV0dXJuIHBhcnRzWzBdO1xuICAgIH1cblxuICAgIC8vIElmIGV2ZXJ5dGhpbmcgZmFpbHMsIGp1c3QgcmV0dXJuIHRoZSBwcmVmZXJyZWQsIHVuY2hhbmdlZC5cbiAgICByZXR1cm4gcHJlZmVycmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25zXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgbmV3IHRyYW5zbGF0aW9uIHRhYmxlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqIFRvIHJlZ2lzdGVyIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlLCBwYXNzIGEgZGVmaW5lZCBsYW5ndWFnZVxuICAgKiBrZXkgYXMgZmlyc3QgcGFyYW1ldGVyLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgLy8gcmVnaXN0ZXIgdHJhbnNsYXRpb24gdGFibGUgZm9yIGxhbmd1YWdlOiAnZGVfREUnXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdkZV9ERScsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hhbGxvIFdlbHQhJ1xuICAgKiAgfSk7XG4gICAqXG4gICAqICAvLyByZWdpc3RlciBhbm90aGVyIG9uZVxuICAgKiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW5fVVMnLCB7XG4gICAqICAgICdHUkVFVElORyc6ICdIZWxsbyB3b3JsZCEnXG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIFdoZW4gcmVnaXN0ZXJpbmcgbXVsdGlwbGUgdHJhbnNsYXRpb24gdGFibGVzIGZvciBmb3IgdGhlIHNhbWUgbGFuZ3VhZ2Uga2V5LFxuICAgKiB0aGUgYWN0dWFsIHRyYW5zbGF0aW9uIHRhYmxlIGdldHMgZXh0ZW5kZWQuIFRoaXMgYWxsb3dzIHlvdSB0byBkZWZpbmUgbW9kdWxlXG4gICAqIHNwZWNpZmljIHRyYW5zbGF0aW9uIHdoaWNoIG9ubHkgZ2V0IGFkZGVkLCBvbmNlIGEgc3BlY2lmaWMgbW9kdWxlIGlzIGxvYWRlZCBpblxuICAgKiB5b3VyIGFwcC5cbiAgICpcbiAgICogSW52b2tpbmcgdGhpcyBtZXRob2Qgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdGFibGUgd2hpY2ggd2FzXG4gICAqIHJlZ2lzdGVyZWQgd2l0aCBubyBsYW5ndWFnZSBrZXkuIEludm9raW5nIGl0IHdpdGggYSBsYW5ndWFnZSBrZXkgcmV0dXJucyB0aGVcbiAgICogcmVsYXRlZCB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGxhbmd1YWdlIGtleS5cbiAgICogQHBhcmFtIHtvYmplY3R9IHRyYW5zbGF0aW9uVGFibGUgQSBwbGFpbiBvbGQgSmF2YVNjcmlwdCBvYmplY3QgdGhhdCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gdGFibGUuXG4gICAqXG4gICAqL1xuICB2YXIgdHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uVGFibGUpIHtcblxuICAgIGlmICghbGFuZ0tleSAmJiAhdHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgcmV0dXJuICR0cmFuc2xhdGlvblRhYmxlO1xuICAgIH1cblxuICAgIGlmIChsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhsYW5nS2V5KSkge1xuICAgICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghYW5ndWxhci5pc09iamVjdCgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSkpIHtcbiAgICAgICAgJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldLCBmbGF0T2JqZWN0KHRyYW5zbGF0aW9uVGFibGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgdGhpcy50cmFuc2xhdGlvbnMgPSB0cmFuc2xhdGlvbnM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNjbG9ha0NsYXNzTmFtZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIExldCdzIHlvdSBjaGFuZ2UgdGhlIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICogRGVmYXVsdCBjbGFzcyBuYW1lIGlzIGB0cmFuc2xhdGUtY2xvYWtgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0cmFuc2xhdGUtY2xvYWsgY2xhc3MgbmFtZVxuICAgKi9cbiAgdGhpcy5jbG9ha0NsYXNzTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKCFuYW1lKSB7XG4gICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgIH1cbiAgICAkY2xvYWtDbGFzc05hbWUgPSBuYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSBmbGF0T2JqZWN0XG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBGbGF0cyBhbiBvYmplY3QuIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBmbGF0dGVuIGdpdmVuIHRyYW5zbGF0aW9uIGRhdGEgd2l0aFxuICAgKiBuYW1lc3BhY2VzLCBzbyB0aGV5IGFyZSBsYXRlciBhY2Nlc3NpYmxlIHZpYSBkb3Qgbm90YXRpb24uXG4gICAqL1xuICB2YXIgZmxhdE9iamVjdCA9IGZ1bmN0aW9uIChkYXRhLCBwYXRoLCByZXN1bHQsIHByZXZLZXkpIHtcbiAgICB2YXIga2V5LCBrZXlXaXRoUGF0aCwga2V5V2l0aFNob3J0UGF0aCwgdmFsO1xuXG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICBwYXRoID0gW107XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSB7fTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IGRhdGFba2V5XTtcbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgZmxhdE9iamVjdCh2YWwsIHBhdGguY29uY2F0KGtleSksIHJlc3VsdCwga2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleVdpdGhQYXRoID0gcGF0aC5sZW5ndGggPyAoJycgKyBwYXRoLmpvaW4oTkVTVEVEX09CSkVDVF9ERUxJTUlURVIpICsgTkVTVEVEX09CSkVDVF9ERUxJTUlURVIgKyBrZXkpIDoga2V5O1xuICAgICAgICBpZihwYXRoLmxlbmd0aCAmJiBrZXkgPT09IHByZXZLZXkpe1xuICAgICAgICAgIC8vIENyZWF0ZSBzaG9ydGN1dCBwYXRoIChmb28uYmFyID09IGZvby5iYXIuYmFyKVxuICAgICAgICAgIGtleVdpdGhTaG9ydFBhdGggPSAnJyArIHBhdGguam9pbihORVNURURfT0JKRUNUX0RFTElNSVRFUik7XG4gICAgICAgICAgLy8gTGluayBpdCB0byBvcmlnaW5hbCBwYXRoXG4gICAgICAgICAgcmVzdWx0W2tleVdpdGhTaG9ydFBhdGhdID0gJ0A6JyArIGtleVdpdGhQYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXlXaXRoUGF0aF0gPSB2YWw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNhZGRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWRkcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2VzIHRvIGFuZ3VsYXItdHJhbnNsYXRlLCBzbyBpdCBjYW4gbWFuYWdlIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBmYWN0b3J5XG4gICAqL1xuICB0aGlzLmFkZEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMucHVzaChmYWN0b3J5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGludGVycG9sYXRpb24gZnVuY3Rpb25hbGl0eSBvZiBtZXNzYWdlZm9ybWF0LmpzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGhhdmluZyBoaWdoIGxldmVsIHBsdXJhbGl6YXRpb24gYW5kIGdlbmRlciBzZWxlY3Rpb24uXG4gICAqL1xuICB0aGlzLnVzZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZUludGVycG9sYXRpb24oJyR0cmFuc2xhdGVNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbicpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlSW50ZXJwb2xhdGlvblxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGludGVycG9sYXRpb24gc3R5bGUgdG8gdXNlIGFzIGRlZmF1bHQsIGFwcGxpY2F0aW9uLXdpZGUuXG4gICAqIFNpbXBseSBwYXNzIGEgZmFjdG9yeS9zZXJ2aWNlIG5hbWUuIFRoZSBpbnRlcnBvbGF0aW9uIHNlcnZpY2UgaGFzIHRvIGltcGxlbWVudFxuICAgKiB0aGUgY29ycmVjdCBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEludGVycG9sYXRpb24gc2VydmljZSBuYW1lLlxuICAgKi9cbiAgdGhpcy51c2VJbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkaW50ZXJwb2xhdGlvbkZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU2FuaXRpemVTdHJhdGVneVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNpbXBseSBzZXRzIGEgc2FuaXRhdGlvbiBzdHJhdGVneSB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgU3RyYXRlZ3kgdHlwZS5cbiAgICovXG4gIHRoaXMudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNwcmVmZXJyZWRMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSBmb3IgdHJhbnNsYXRpb25cbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXG4gICAqIG9ubHkgdGhhdCBpdCBzYXlzIHdoaWNoIGxhbmd1YWdlIHRvICoqcHJlZmVyKiouXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKi9cbiAgdGhpcy5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uKGxhbmdLZXkpIHtcbiAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgIHJldHVybiB0aGlzO1xuXG4gIH07XG4gIHZhciBzZXR1cFByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbGFuZ0tleTtcbiAgICB9XG4gICAgcmV0dXJuICRwcmVmZXJyZWRMYW5ndWFnZTtcbiAgfTtcbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQuIEUuZy4gd2hlblxuICAgKiBzZXR0aW5nIHRoZSBpbmRpY2F0b3IgYXMgJ1gnIGFuZCBvbmUgdHJpZXMgdG8gdHJhbnNsYXRlIGEgdHJhbnNsYXRpb24gaWRcbiAgICogY2FsbGVkIGBOT1RfRk9VTkRgLCB0aGlzIHdpbGwgcmVzdWx0IGluIGBYIE5PVF9GT1VORCBYYC5cbiAgICpcbiAgICogSW50ZXJuYWxseSB0aGlzIG1ldGhvZHMgc2V0cyBhIGxlZnQgaW5kaWNhdG9yIGFuZCBhIHJpZ2h0IGluZGljYXRvciB1c2luZ1xuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0KClgIGFuZFxuICAgKiBgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JSaWdodCgpYC5cbiAgICpcbiAgICogKipOb3RlKio6IFRoZXNlIG1ldGhvZHMgYXV0b21hdGljYWxseSBhZGQgYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGluZGljYXRvcnNcbiAgICogYW5kIHRoZSB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IsIGNvdWxkIGJlIGFueSBzdHJpbmcuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3IgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdChpbmRpY2F0b3IpO1xuICAgIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KGluZGljYXRvcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQgbGVmdCB0byB0aGVcbiAgICogdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICBpZiAoIWluZGljYXRvcikge1xuICAgICAgcmV0dXJuICRub3RGb3VuZEluZGljYXRvckxlZnQ7XG4gICAgfVxuICAgICRub3RGb3VuZEluZGljYXRvckxlZnQgPSBpbmRpY2F0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbiBpbmRpY2F0b3Igd2hpY2ggaXMgdXNlZCB3aGVuIGEgdHJhbnNsYXRpb24gaXNuJ3QgZm91bmQgcmlnaHQgdG8gdGhlXG4gICAqIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvci5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0ID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIGlmICghaW5kaWNhdG9yKSB7XG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQ7XG4gICAgfVxuICAgICRub3RGb3VuZEluZGljYXRvclJpZ2h0ID0gaW5kaWNhdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZmFsbGJhY2tMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdHJhbnNsYXRpb24gdGFibGVzIHRvIHVzZSB3aGVuIG1pc3NpbmcgdHJhbnNsYXRpb25zXG4gICAqIGF0IGluaXRpYWwgc3RhcnR1cCBieSBwYXNzaW5nIGEgbGFuZ3VhZ2Uga2V5LiBTaW1pbGFyIHRvIGAkdHJhbnNsYXRlUHJvdmlkZXIjdXNlYFxuICAgKiBvbmx5IHRoYXQgaXQgc2F5cyB3aGljaCBsYW5ndWFnZSB0byAqKmZhbGxiYWNrKiouXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfHxhcnJheX0gbGFuZ0tleSBBIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICovXG4gIHRoaXMuZmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgZmFsbGJhY2tTdGFjayhsYW5nS2V5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZmFsbGJhY2tTdGFjayA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IHRydWU7XG4gICAgICAgICRmYWxsYmFja0xhbmd1YWdlID0gWyBsYW5nS2V5IF07XG4gICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNBcnJheShsYW5nS2V5KSkge1xuICAgICAgICAkZmFsbGJhY2tXYXNTdHJpbmcgPSBmYWxzZTtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBsYW5nS2V5O1xuICAgICAgfVxuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoJHByZWZlcnJlZExhbmd1YWdlKSAgJiYgaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCRmYWxsYmFja1dhc1N0cmluZykge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0IHdoaWNoIHRyYW5zbGF0aW9uIHRhYmxlIHRvIHVzZSBmb3IgdHJhbnNsYXRpb24gYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBXaGVuXG4gICAqIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IHByb3ZpZGVkLCBpdCdsbCB0aHJvdyBhbiBlcnJvci5cbiAgICpcbiAgICogWW91IGFjdHVhbGx5IGRvbid0IGhhdmUgdG8gdXNlIHRoaXMgbWV0aG9kIHNpbmNlIGAkdHJhbnNsYXRlUHJvdmlkZXIjcHJlZmVycmVkTGFuZ3VhZ2VgXG4gICAqIGRvZXMgdGhlIGpvYiB0b28uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKi9cbiAgdGhpcy51c2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldICYmICghJGxvYWRlckZhY3RvcnkpKSB7XG4gICAgICAgIC8vIG9ubHkgdGhyb3cgYW4gZXJyb3IsIHdoZW4gbm90IGxvYWRpbmcgdHJhbnNsYXRpb24gZGF0YSBhc3luY2hyb25vdXNseVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIkdHJhbnNsYXRlUHJvdmlkZXIgY291bGRuJ3QgZmluZCB0cmFuc2xhdGlvblRhYmxlIGZvciBsYW5nS2V5OiAnXCIgKyBsYW5nS2V5ICsgXCInXCIpO1xuICAgICAgfVxuICAgICAgJHVzZXMgPSBsYW5nS2V5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiAkdXNlcztcbiAgfTtcblxuIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZUtleVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIHRoZSBtb2R1bGUgd2hpY2gga2V5IG11c3QgcmVwcmVzZW50IHRoZSBjaG9vc2VkIGxhbmd1YWdlIGJ5IGEgdXNlciBpbiB0aGUgc3RvcmFnZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBBIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAqL1xuICB2YXIgc3RvcmFnZUtleSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5KSB7XG4gICAgICBpZiAoJHN0b3JhZ2VQcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuICRzdG9yYWdlUHJlZml4ICsgJHN0b3JhZ2VLZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHN0b3JhZ2VLZXk7XG4gICAgfVxuICAgICRzdG9yYWdlS2V5ID0ga2V5O1xuICB9O1xuXG4gIHRoaXMuc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VVcmxMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVVcmxMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBVcmxcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVVybExvYWRlciA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVVcmxMb2FkZXInLCBhbmd1bGFyLmV4dGVuZCh7IHVybDogdXJsIH0sIG9wdGlvbnMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0YXRpY0ZpbGVzTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJgIGV4dGVuc2lvbiBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAqL1xuICB0aGlzLnVzZVN0YXRpY0ZpbGVzTG9hZGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy51c2VMb2FkZXIoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIG9wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9hZGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGFueSBvdGhlciBzZXJ2aWNlIGFzIGxvYWRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvYWRlckZhY3RvcnkgRmFjdG9yeSBuYW1lIHRvIHVzZVxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyID0gZnVuY3Rpb24gKGxvYWRlckZhY3RvcnksIG9wdGlvbnMpIHtcbiAgICAkbG9hZGVyRmFjdG9yeSA9IGxvYWRlckZhY3Rvcnk7XG4gICAgJGxvYWRlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTG9jYWxTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlTG9jYWxTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqXG4gICAqL1xuICB0aGlzLnVzZUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdG9yYWdlKCckdHJhbnNsYXRlTG9jYWxTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VDb29raWVTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGAkdHJhbnNsYXRlQ29va2llU3RvcmFnZWAgc2VydmljZSBhcyBzdG9yYWdlIGxheWVyLlxuICAgKi9cbiAgdGhpcy51c2VDb29raWVTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVDb29raWVTdG9yYWdlJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTdG9yYWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGN1c3RvbSBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZVN0b3JhZ2UgPSBmdW5jdGlvbiAoc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAkc3RvcmFnZUZhY3RvcnkgPSBzdG9yYWdlRmFjdG9yeTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3N0b3JhZ2VQcmVmaXhcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHByZWZpeCBmb3Igc3RvcmFnZSBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmVmaXggU3RvcmFnZSBrZXkgcHJlZml4XG4gICAqL1xuICB0aGlzLnN0b3JhZ2VQcmVmaXggPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxuICAgICRzdG9yYWdlUHJlZml4ID0gcHJlZml4O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBidWlsdC1pbiBsb2cgaGFuZGxlciB3aGVuIHRyeWluZyB0byB0cmFuc2xhdGVcbiAgICogYSB0cmFuc2xhdGlvbiBJZCB3aGljaCBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBUaGlzIGlzIGFjdHVhbGx5IGEgc2hvcnRjdXQgbWV0aG9kIGZvciBgdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcigpYC5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKCckdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEV4cGVjdHMgYSBmYWN0b3J5IG5hbWUgd2hpY2ggbGF0ZXIgZ2V0cyBpbnN0YW50aWF0ZWQgd2l0aCBgJGluamVjdG9yYC5cbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gdGVsbCBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYSBjdXN0b21cbiAgICogbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlci4gSnVzdCBidWlsZCBhIGZhY3Rvcnkgd2hpY2ggcmV0dXJucyBhIGZ1bmN0aW9uXG4gICAqIGFuZCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWQgYXMgYXJndW1lbnQuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJ2N1c3RvbUhhbmRsZXInKTtcbiAgICogIH0pO1xuICAgKlxuICAgKiAgYXBwLmZhY3RvcnkoJ2N1c3RvbUhhbmRsZXInLCBmdW5jdGlvbiAoZGVwMSwgZGVwMikge1xuICAgKiAgICByZXR1cm4gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICogICAgICAvLyBzb21ldGhpbmcgd2l0aCB0cmFuc2xhdGlvbklkIGFuZCBkZXAxIGFuZCBkZXAyXG4gICAqICAgIH07XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlUG9zdENvbXBpbGluZ1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIElmIHBvc3QgY29tcGlsaW5nIGlzIGVuYWJsZWQsIGFsbCB0cmFuc2xhdGVkIHZhbHVlcyB3aWxsIGJlIHByb2Nlc3NlZFxuICAgKiBhZ2FpbiB3aXRoIEFuZ3VsYXJKUycgJGNvbXBpbGUuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqIDxwcmU+XG4gICAqICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkdHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICogICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVBvc3RDb21waWxpbmcodHJ1ZSk7XG4gICAqICB9KTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmYWN0b3J5IEZhY3RvcnkgbmFtZVxuICAgKi9cbiAgdGhpcy51c2VQb3N0Q29tcGlsaW5nID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHBvc3RDb21waWxpbmdFbmFibGVkID0gISghdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB0cnkgdG8gZGV0ZXJtaW5lIG9uIGl0cyBvd24gd2hpY2ggbGFuZ3VhZ2Uga2V5XG4gICAqIHRvIHNldCBhcyBwcmVmZXJyZWQgbGFuZ3VhZ2UuIFdoZW4gYGZuYCBpcyBnaXZlbiwgYW5ndWxhci10cmFuc2xhdGUgdXNlcyBpdFxuICAgKiB0byBkZXRlcm1pbmUgYSBsYW5ndWFnZSBrZXksIG90aGVyd2lzZSBpdCB1c2VzIHRoZSBidWlsdC1pbiBgZ2V0TG9jYWxlKClgXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogVGhlIGBnZXRMb2NhbGUoKWAgcmV0dXJucyBhIGxhbmd1YWdlIGtleSBpbiB0aGUgZm9ybWF0IGBbbGFuZ11fW2NvdW50cnldYCBvclxuICAgKiBgW2xhbmddYCBkZXBlbmRpbmcgb24gd2hhdCB0aGUgYnJvd3NlciBwcm92aWRlcy5cbiAgICpcbiAgICogVXNlIHRoaXMgbWV0aG9kIGF0IHlvdXIgb3duIHJpc2ssIHNpbmNlIG5vdCBhbGwgYnJvd3NlcnMgcmV0dXJuIGEgdmFsaWRcbiAgICogbG9jYWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IGZuIEZ1bmN0aW9uIHRvIGRldGVybWluZSBhIGJyb3dzZXIncyBsb2NhbGVcbiAgICovXG4gIHRoaXMuZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZm4pIHtcblxuICAgIHZhciBsb2NhbGUgPSAoZm4gJiYgYW5ndWxhci5pc0Z1bmN0aW9uKGZuKSkgPyBmbigpIDogZ2V0TG9jYWxlKCk7XG5cbiAgICBpZiAoISRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoKSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsb2NhbGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IG5lZ290aWF0ZUxvY2FsZShsb2NhbGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjcmVnaXN0ZXJBdmFpbGFibGVMYW5ndWFnZUtleXNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBzZXQgb2YgbGFuZ3VhZ2Uga2V5cyB0aGUgYXBwIHdpbGwgd29yayB3aXRoLiBVc2UgdGhpcyBtZXRob2QgaW5cbiAgICogY29tYmluYXRpb24gd2l0aFxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2V9LlxuICAgKiBXaGVuIGF2YWlsYWJsZSBsYW5ndWFnZXMga2V5cyBhcmUgcmVnaXN0ZXJlZCwgYW5ndWxhci10cmFuc2xhdGVcbiAgICogdHJpZXMgdG8gZmluZCB0aGUgYmVzdCBmaXR0aW5nIGxhbmd1YWdlIGtleSBkZXBlbmRpbmcgb24gdGhlIGJyb3dzZXJzIGxvY2FsZSxcbiAgICogY29uc2lkZXJpbmcgeW91ciBsYW5ndWFnZSBrZXkgY29udmVudGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGxhbmd1YWdlS2V5cyBBcnJheSBvZiBsYW5ndWFnZSBrZXlzIHRoZSB5b3VyIGFwcCB3aWxsIHVzZVxuICAgKiBAcGFyYW0ge29iamVjdD19IGFsaWFzZXMgQWxpYXMgbWFwLlxuICAgKi9cbiAgdGhpcy5yZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyA9IGZ1bmN0aW9uIChsYW5ndWFnZUtleXMsIGFsaWFzZXMpIHtcbiAgICBpZiAobGFuZ3VhZ2VLZXlzKSB7XG4gICAgICAkYXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gbGFuZ3VhZ2VLZXlzO1xuICAgICAgaWYgKGFsaWFzZXMpIHtcbiAgICAgICAgJGxhbmd1YWdlS2V5QWxpYXNlcyA9IGFsaWFzZXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICRhdmFpbGFibGVMYW5ndWFnZUtleXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2FkZXJDYWNoZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIGNhY2hlIGZvciBpbnRlcm5hbCAkaHR0cCBiYXNlZCBsb2FkZXJzLlxuICAgKiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UgZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2V9LlxuICAgKiBXaGVuIGZhbHNlIHRoZSBjYWNoZSB3aWxsIGJlIGRpc2FibGVkIChkZWZhdWx0KS4gV2hlbiB0cnVlIG9yIHVuZGVmaW5lZFxuICAgKiB0aGUgY2FjaGUgd2lsbCBiZSBhIGRlZmF1bHQgKHNlZSAkY2FjaGVGYWN0b3J5KS4gV2hlbiBhbiBvYmplY3QgaXQgd2lsbFxuICAgKiBiZSB0cmVhdCBhcyBhIGNhY2hlIG9iamVjdCBpdHNlbGY6IHRoZSB1c2FnZSBpcyAkaHR0cCh7Y2FjaGU6IGNhY2hlfSlcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNhY2hlIGJvb2xlYW4sIHN0cmluZyBvciBjYWNoZS1vYmplY3RcbiAgICovXG4gIHRoaXMudXNlTG9hZGVyQ2FjaGUgPSBmdW5jdGlvbiAoY2FjaGUpIHtcbiAgICBpZiAoY2FjaGUgPT09IGZhbHNlKSB7XG4gICAgICAvLyBkaXNhYmxlIGNhY2hlXG4gICAgICBsb2FkZXJDYWNoZSA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKGNhY2hlID09PSB0cnVlKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgQUpTIGRlZmF1bHRzXG4gICAgICBsb2FkZXJDYWNoZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YoY2FjaGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZW5hYmxlIGNhY2hlIHVzaW5nIGRlZmF1bHRcbiAgICAgIGxvYWRlckNhY2hlID0gJyR0cmFuc2xhdGlvbkNhY2hlJztcbiAgICB9IGVsc2UgaWYgKGNhY2hlKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZ2l2ZW4gb25lIChzZWUgJGNhY2hlRmFjdG9yeSlcbiAgICAgIGxvYWRlckNhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2Mgb2JqZWN0XG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gICAqIEByZXF1aXJlcyAkbG9nXG4gICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAqIEByZXF1aXJlcyAkcVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIGlzIHRoZSBhY3R1YWwgY29yZSBvZiBhbmd1bGFyLXRyYW5zbGF0ZS4gSXQgZXhwZWN0cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAqIGFuZCBvcHRpb25hbCBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzIHRvIHRyYW5zbGF0ZSBjb250ZW50cy5cbiAgICpcbiAgICogPHByZT5cbiAgICogICR0cmFuc2xhdGUoJ0hFQURMSU5FX1RFWFQnKS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgKiAgICAkc2NvcGUudHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbjtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHRyYW5zbGF0aW9uSWQgQSB0b2tlbiB3aGljaCByZXByZXNlbnRzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCB3aGVyZSBlYWNoIGtleVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gaW50ZXJwb2xhdGVQYXJhbXMgQW4gb2JqZWN0IGhhc2ggZm9yIGR5bmFtaWMgdmFsdWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBwcm9taXNlXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbXG4gICAgJyRsb2cnLFxuICAgICckaW5qZWN0b3InLFxuICAgICckcm9vdFNjb3BlJyxcbiAgICAnJHEnLFxuICAgIGZ1bmN0aW9uICgkbG9nLCAkaW5qZWN0b3IsICRyb290U2NvcGUsICRxKSB7XG5cbiAgICAgIHZhciBTdG9yYWdlLFxuICAgICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KCRpbnRlcnBvbGF0aW9uRmFjdG9yeSB8fCAnJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uJyksXG4gICAgICAgICAgcGVuZGluZ0xvYWRlciA9IGZhbHNlLFxuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXAgPSB7fSxcbiAgICAgICAgICBsYW5nUHJvbWlzZXMgPSB7fSxcbiAgICAgICAgICBmYWxsYmFja0luZGV4LFxuICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb247XG5cbiAgICAgIHZhciAkdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIC8vIEluc3BpcmVkIGJ5IFEuYWxsU2V0dGxlZCBieSBLcmlzIEtvd2FsXG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvYjBmYTcyOTgwNzE3ZGMyMDJmZmMzY2JmMDNiOTM2ZTEwZWJiYjlkNy9xLmpzI0wxNTUzLTE1NjNcbiAgICAgICAgICAvLyBUaGlzIHRyYW5zZm9ybXMgYWxsIHByb21pc2VzIHJlZ2FyZGxlc3MgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAgICAgICAgICB2YXIgdHJhbnNsYXRlQWxsID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWRzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9OyAvLyBzdG9yaW5nIHRoZSBhY3R1YWwgcmVzdWx0c1xuICAgICAgICAgICAgdmFyIHByb21pc2VzID0gW107IC8vIHByb21pc2VzIHRvIHdhaXQgZm9yXG4gICAgICAgICAgICAvLyBXcmFwcyB0aGUgcHJvbWlzZSBhKSBiZWluZyBhbHdheXMgcmVzb2x2ZWQgYW5kIGIpIHN0b3JpbmcgdGhlIGxpbmsgaWQtPnZhbHVlXG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgICAgdmFyIHJlZ2FyZGxlc3MgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzW3RyYW5zbGF0aW9uSWRdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShbdHJhbnNsYXRpb25JZCwgdmFsdWVdKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY2FyZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZXNvbHZlZCBvciByZWplY3RlZDsganVzdCBzdG9yZSB0aGUgdmFsdWVzXG4gICAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkcy5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh0cmFuc2xhdGUodHJhbnNsYXRpb25JZHNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIGFsbCAoaW5jbHVkaW5nIHN0b3JpbmcgdG8gcmVzdWx0cylcbiAgICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGVBbGwodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvbWlzZVRvV2FpdEZvciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHByb21pc2UgPSAkcHJlZmVycmVkTGFuZ3VhZ2UgP1xuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRwcmVmZXJyZWRMYW5ndWFnZV0gOlxuICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyR1c2VzXTtcblxuICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAwO1xuXG4gICAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSAmJiAhcHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGVyZSdzIG5vIHBlbmRpbmcgcHJvbWlzZSBmb3IgJHByZWZlcnJlZExhbmd1YWdlIG9yXG4gICAgICAgICAgICAvLyAkdXNlcy4gTWF5YmUgdGhlcmUncyBvbmUgcGVuZGluZyBmb3IgYSBsYW5ndWFnZSB0aGF0IGNvbWVzIGZyb21cbiAgICAgICAgICAgIC8vIHN0b3JhZ2UuXG4gICAgICAgICAgICB2YXIgbGFuZ0tleSA9IFN0b3JhZ2UuZ2V0KCRzdG9yYWdlS2V5KTtcbiAgICAgICAgICAgIHByb21pc2UgPSBsYW5nUHJvbWlzZXNbbGFuZ0tleV07XG5cbiAgICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCBsYW5nS2V5KTtcbiAgICAgICAgICAgICAgICAvLyBtYXliZSB0aGUgbGFuZ3VhZ2UgZnJvbSBzdG9yYWdlIGlzIGFsc28gZGVmaW5lZCBhcyBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIHdlIGluY3JlYXNlIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBpbmRleCB0byBub3Qgc2VhcmNoIGluIHRoYXQgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAvLyBhcyBmYWxsYmFjaywgc2luY2UgaXQncyBwcm9iYWJseSB0aGUgZmlyc3QgdXNlZCBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIGluIHRoYXQgY2FzZSB0aGUgaW5kZXggc3RhcnRzIGFmdGVyIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgZmFsbGJhY2tJbmRleCA9IChpbmRleCA9PT0gMCkgPyAxIDogMDtcblxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBjYW4gbWFrZSBzdXJlIHRvIEFMV0FZUyBmYWxsYmFjayB0byBwcmVmZXJyZWQgbGFuZ3VhZ2UgYXQgbGVhc3RcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgJHByZWZlcnJlZExhbmd1YWdlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICRmYWxsYmFja0xhbmd1YWdlLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9KCkpO1xuXG4gICAgICAgIGlmICghcHJvbWlzZVRvV2FpdEZvcikge1xuICAgICAgICAgIC8vIG5vIHByb21pc2UgdG8gd2FpdCBmb3I/IG9rYXkuIFRoZW4gdGhlcmUncyBubyBsb2FkZXIgcmVnaXN0ZXJlZFxuICAgICAgICAgIC8vIG5vciBpcyBhIG9uZSBwZW5kaW5nIGZvciBsYW5ndWFnZSB0aGF0IGNvbWVzIGZyb20gc3RvcmFnZS5cbiAgICAgICAgICAvLyBXZSBjYW4ganVzdCB0cmFuc2xhdGUuXG4gICAgICAgICAgZGV0ZXJtaW5lVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21pc2VUb1dhaXRGb3IudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgYXBwbHlOb3RGb3VuZEluZGljYXRvcnNcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBcHBsaWVzIG5vdCBmb3VudCBpbmRpY2F0b3JzIHRvIGdpdmVuIHRyYW5zbGF0aW9uIGlkLCBpZiBuZWVkZWQuXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgb25seSBleGVjdXRlZCwgaWYgYSB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0LFxuICAgICAgICogd2hpY2ggaXMgd2h5IGEgdHJhbnNsYXRpb24gaWQgaXMgZXhwZWN0ZWQgYXMgYXJndW1lbnQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uSWQgVHJhbnNsYXRpb24gaWQuXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTYW1lIGFzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGJ1dCBhcHBsaWVkIHdpdGggbm90IGZvdW5kXG4gICAgICAgKiBpbmRpY2F0b3JzLlxuICAgICAgICovXG4gICAgICB2YXIgYXBwbHlOb3RGb3VuZEluZGljYXRvcnMgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAvLyBhcHBseWluZyBub3RGb3VuZEluZGljYXRvcnNcbiAgICAgICAgaWYgKCRub3RGb3VuZEluZGljYXRvckxlZnQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gWyRub3RGb3VuZEluZGljYXRvckxlZnQsIHRyYW5zbGF0aW9uSWRdLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gW3RyYW5zbGF0aW9uSWQsICRub3RGb3VuZEluZGljYXRvclJpZ2h0XS5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHVzZUxhbmd1YWdlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogTWFrZXMgYWN0dWFsIHVzZSBvZiBhIGxhbmd1YWdlIGJ5IHNldHRpbmcgYSBnaXZlbiBsYW5ndWFnZSBrZXkgYXMgdXNlZFxuICAgICAgICogbGFuZ3VhZ2UgYW5kIGluZm9ybXMgcmVnaXN0ZXJlZCBpbnRlcnBvbGF0b3JzIHRvIGFsc28gdXNlIHRoZSBnaXZlblxuICAgICAgICoga2V5IGFzIGxvY2FsZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2tleX0gTG9jYWxlIGtleS5cbiAgICAgICAqL1xuICAgICAgdmFyIHVzZUxhbmd1YWdlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAkdXNlcyA9IGtleTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZVN1Y2Nlc3MnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuXG4gICAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgICAgICBTdG9yYWdlLnB1dCgkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSwgJHVzZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluZm9ybSBkZWZhdWx0IGludGVycG9sYXRvclxuICAgICAgICBkZWZhdWx0SW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIC8vIGluZm9ybSBhbGwgb3RoZXJzIHRvbyFcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGludGVycG9sYXRvckhhc2hNYXAsIGZ1bmN0aW9uIChpbnRlcnBvbGF0b3IsIGlkKSB7XG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpZF0uc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgfSk7XG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBsb2FkQXN5bmNcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBLaWNrcyBvZiByZWdpc3RlcmVkIGFzeW5jIGxvYWRlciB1c2luZyBgJGluamVjdG9yYCBhbmQgYXBwbGllcyBleGlzdGluZ1xuICAgICAgICogbG9hZGVyIG9wdGlvbnMuIFdoZW4gcmVzb2x2ZWQsIGl0IHVwZGF0ZXMgdHJhbnNsYXRpb24gdGFibGVzIGFjY29yZGluZ2x5XG4gICAgICAgKiBvciByZWplY3RzIHdpdGggZ2l2ZW4gbGFuZ3VhZ2Uga2V5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5LlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlLlxuICAgICAgICovXG4gICAgICB2YXIgbG9hZEFzeW5jID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHRocm93ICdObyBsYW5ndWFnZSBrZXkgc3BlY2lmaWVkIGZvciBsb2FkaW5nLic7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVMb2FkaW5nU3RhcnQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICBwZW5kaW5nTG9hZGVyID0gdHJ1ZTtcblxuICAgICAgICB2YXIgY2FjaGUgPSBsb2FkZXJDYWNoZTtcbiAgICAgICAgaWYgKHR5cGVvZihjYWNoZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gZ2V0dGluZyBvbi1kZW1hbmQgaW5zdGFuY2Ugb2YgbG9hZGVyXG4gICAgICAgICAgY2FjaGUgPSAkaW5qZWN0b3IuZ2V0KGNhY2hlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2FkZXJPcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sICRsb2FkZXJPcHRpb25zLCB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgJGh0dHA6IGFuZ3VsYXIuZXh0ZW5kKHt9LCB7XG4gICAgICAgICAgICBjYWNoZTogY2FjaGVcbiAgICAgICAgICB9LCAkbG9hZGVyT3B0aW9ucy4kaHR0cClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGluamVjdG9yLmdldCgkbG9hZGVyRmFjdG9yeSkobG9hZGVyT3B0aW9ucykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvblRhYmxlID0ge307XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdWNjZXNzJywge2xhbmd1YWdlOiBrZXl9KTtcblxuICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCBmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdCh0YWJsZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRyYW5zbGF0aW9uVGFibGUsIGZsYXRPYmplY3QoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwZW5kaW5nTG9hZGVyID0gZmFsc2U7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHRhYmxlOiB0cmFuc2xhdGlvblRhYmxlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFcnJvcicsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5KSB7XG4gICAgICAgIFN0b3JhZ2UgPSAkaW5qZWN0b3IuZ2V0KCRzdG9yYWdlRmFjdG9yeSk7XG5cbiAgICAgICAgaWYgKCFTdG9yYWdlLmdldCB8fCAhU3RvcmFnZS5wdXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgdXNlIHN0b3JhZ2UgXFwnJyArICRzdG9yYWdlRmFjdG9yeSArICdcXCcsIG1pc3NpbmcgZ2V0KCkgb3IgcHV0KCkgbWV0aG9kIScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFkZGl0aW9uYWwgc2V0dGluZ3NcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oZGVmYXVsdEludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpKSB7XG4gICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiB3ZSBoYXZlIGFkZGl0aW9uYWwgaW50ZXJwb2xhdGlvbnMgdGhhdCB3ZXJlIGFkZGVkIHZpYVxuICAgICAgLy8gJHRyYW5zbGF0ZVByb3ZpZGVyLmFkZEludGVycG9sYXRpb24oKSwgd2UgaGF2ZSB0byBtYXAnZW1cbiAgICAgIGlmICgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLmxlbmd0aCkge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goJGludGVycG9sYXRvckZhY3RvcmllcywgZnVuY3Rpb24gKGludGVycG9sYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICB2YXIgaW50ZXJwb2xhdG9yID0gJGluamVjdG9yLmdldChpbnRlcnBvbGF0b3JGYWN0b3J5KTtcbiAgICAgICAgICAvLyBzZXR0aW5nIGluaXRpYWwgbG9jYWxlIGZvciBlYWNoIGludGVycG9sYXRpb24gc2VydmljZVxuICAgICAgICAgIGludGVycG9sYXRvci5zZXRMb2NhbGUoJHByZWZlcnJlZExhbmd1YWdlIHx8ICR1c2VzKTtcbiAgICAgICAgICAvLyBhcHBseSBhZGRpdGlvbmFsIHNldHRpbmdzXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihpbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSkge1xuICAgICAgICAgICAgaW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSgkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gbWFrZSdlbSByZWNvZ25pemFibGUgdGhyb3VnaCBpZFxuICAgICAgICAgIGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyKCldID0gaW50ZXJwb2xhdG9yO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBnZXRUcmFuc2xhdGlvblRhYmxlXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgdHJhbnNsYXRpb24gdGFibGVcbiAgICAgICAqIG9yIGlzIHJlamVjdGVkIGlmIGFuIGVycm9yIG9jY3VycmVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5XG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfVxuICAgICAgICovXG4gICAgICB2YXIgZ2V0VHJhbnNsYXRpb25UYWJsZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJHRyYW5zbGF0aW9uVGFibGUsIGxhbmdLZXkpKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSk7XG4gICAgICAgIH0gZWxzZSBpZiAobGFuZ1Byb21pc2VzW2xhbmdLZXldKSB7XG4gICAgICAgICAgbGFuZ1Byb21pc2VzW2xhbmdLZXldLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyhkYXRhLmtleSwgZGF0YS50YWJsZSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEudGFibGUpO1xuICAgICAgICAgIH0sIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldEZhbGxiYWNrVHJhbnNsYXRpb25cbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB0byB0aGUgdHJhbnNsYXRpb25cbiAgICAgICAqIG9yIGJlIHJlamVjdGVkIGlmIG5vIHRyYW5zbGF0aW9uIHdhcyBmb3VuZCBmb3IgdGhlIGxhbmd1YWdlLlxuICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyZW50bHkgb25seSB1c2VkIGZvciBmYWxsYmFjayBsYW5ndWFnZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge1EucHJvbWlzZX1cbiAgICAgICAqL1xuICAgICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGdldFRyYW5zbGF0aW9uVGFibGUobGFuZ0tleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb25UYWJsZSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcykpO1xuICAgICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcblxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnRcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgdHJhbnNsYXRpb25cbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG9ubHkgdXNlZCBmb3IgZmFsbGJhY2sgbGFuZ3VhZ2UgdHJhbnNsYXRpb24uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGxhbmdLZXkgVGhlIGxhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0by5cbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIHZhciBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciByZXN1bHQsIHRyYW5zbGF0aW9uVGFibGUgPSAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcblxuICAgICAgICBpZiAodHJhbnNsYXRpb25UYWJsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHJhbnNsYXRpb25UYWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKGxhbmdLZXkpO1xuICAgICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvblRhYmxlW3RyYW5zbGF0aW9uSWRdLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZSgkdXNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIHRyYW5zbGF0ZUJ5SGFuZGxlclxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBUcmFuc2xhdGUgYnkgbWlzc2luZyB0cmFuc2xhdGlvbiBoYW5kbGVyLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcmV0dXJucyB0cmFuc2xhdGlvbiBjcmVhdGVkIGJ5ICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyIG9yIHRyYW5zbGF0aW9uSWQgaXMgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgaXNcbiAgICAgICAqIGFic2VudFxuICAgICAgICovXG4gICAgICB2YXIgdHJhbnNsYXRlQnlIYW5kbGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIGhhbmRsZXIgZmFjdG9yeSAtIHdlIG1pZ2h0IGFsc28gY2FsbCBpdCBoZXJlIHRvIGRldGVybWluZSBpZiBpdCBwcm92aWRlc1xuICAgICAgICAvLyBhIGRlZmF1bHQgdGV4dCBmb3IgYSB0cmFuc2xhdGlvbmlkIHRoYXQgY2FuJ3QgYmUgZm91bmQgYW55d2hlcmUgaW4gb3VyIHRhYmxlc1xuICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgICAgdmFyIHJlc3VsdFN0cmluZyA9ICRpbmplY3Rvci5nZXQoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5KSh0cmFuc2xhdGlvbklkLCAkdXNlcyk7XG4gICAgICAgICAgaWYgKHJlc3VsdFN0cmluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0U3RyaW5nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgICAqIGZvciBhIHRyYW5zbGF0aW9uIGluIHRoZSBmYWxsYmFja0xhbmd1YWdlcyBzdGFydGluZyB3aXRoIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgICAgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbihsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKS50aGVuKFxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgLy8gTG9vayBpbiB0aGUgbmV4dCBmYWxsYmFjayBsYW5ndWFnZSBmb3IgYSB0cmFuc2xhdGlvbi5cbiAgICAgICAgICAgICAgLy8gSXQgZGVsYXlzIHRoZSByZXNvbHZpbmcgYnkgcGFzc2luZyBhbm90aGVyIHByb21pc2UgdG8gcmVzb2x2ZS5cbiAgICAgICAgICAgICAgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikudGhlbihkZWZlcnJlZC5yZXNvbHZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vIHRyYW5zbGF0aW9uIGZvdW5kIGluIGFueSBmYWxsYmFjayBsYW5ndWFnZVxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50XG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFJlY3Vyc2l2ZSBoZWxwZXIgZnVuY3Rpb24gZm9yIGZhbGxiYWNrVHJhbnNsYXRpb24gdGhhdCB3aWxsIHNlcXVlbnRpYWxseSBsb29rXG4gICAgICAgKiBmb3IgYSB0cmFuc2xhdGlvbiBpbiB0aGUgZmFsbGJhY2tMYW5ndWFnZXMgc3RhcnRpbmcgd2l0aCBmYWxsYmFja0xhbmd1YWdlSW5kZXguXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleFxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudCA9IGZ1bmN0aW9uIChmYWxsYmFja0xhbmd1YWdlSW5kZXgsIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICBpZiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4IDwgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGxhbmdLZXkgPSAkZmFsbGJhY2tMYW5ndWFnZVtmYWxsYmFja0xhbmd1YWdlSW5kZXhdO1xuICAgICAgICAgIHJlc3VsdCA9IGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoZmFsbGJhY2tMYW5ndWFnZUluZGV4ICsgMSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfSBQcm9taXNlLCB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqL1xuICAgICAgdmFyIGZhbGxiYWNrVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZXMgd2l0aCB0aGUgdXNhZ2Ugb2YgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcy5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICAvLyBTdGFydCB3aXRoIHRoZSBmYWxsYmFja0xhbmd1YWdlIHdpdGggaW5kZXggMFxuICAgICAgICByZXR1cm4gcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50KChzdGFydEZhbGxiYWNrSXRlcmF0aW9uPjAgPyBzdGFydEZhbGxiYWNrSXRlcmF0aW9uIDogZmFsbGJhY2tJbmRleCksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGRldGVybWluZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIHZhciB0YWJsZSA9ICR1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbJHVzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcbiAgICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuXG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZClcbiAgICAgICAgICAgICAgLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb24sIGludGVycG9sYXRlUGFyYW1zKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXG4gICAgICAgICAgLy8gd2UgdHJ5IGl0IG5vdyB3aXRoIG9uZSBvciBtb3JlIGZhbGxiYWNrIGxhbmd1YWdlcywgaWYgZmFsbGJhY2sgbGFuZ3VhZ2UocykgaXNcbiAgICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICAgIGlmICgkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrVHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcilcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24pO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChfdHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKF90cmFuc2xhdGlvbklkKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICB2YXIgcmVzdWx0LCB0YWJsZSA9ICR1c2VzID8gJHRyYW5zbGF0aW9uVGFibGVbJHVzZXNdIDogJHRyYW5zbGF0aW9uVGFibGUsXG4gICAgICAgICAgICBJbnRlcnBvbGF0b3IgPSAoaW50ZXJwb2xhdGlvbklkKSA/IGludGVycG9sYXRvckhhc2hNYXBbaW50ZXJwb2xhdGlvbklkXSA6IGRlZmF1bHRJbnRlcnBvbGF0b3I7XG5cbiAgICAgICAgLy8gaWYgdGhlIHRyYW5zbGF0aW9uIGlkIGV4aXN0cywgd2UgY2FuIGp1c3QgaW50ZXJwb2xhdGUgaXRcbiAgICAgICAgaWYgKHRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YWJsZSwgdHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSB0YWJsZVt0cmFuc2xhdGlvbklkXTtcblxuICAgICAgICAgIC8vIElmIHVzaW5nIGxpbmssIHJlcnVuICR0cmFuc2xhdGUgd2l0aCBsaW5rZWQgdHJhbnNsYXRpb25JZCBhbmQgcmV0dXJuIGl0XG4gICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnN1YnN0cigwLCAyKSA9PT0gJ0A6Jykge1xuICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uLnN1YnN0cigyKSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uO1xuICAgICAgICAgIC8vIGZvciBsb2dnaW5nIHB1cnBvc2VzIG9ubHkgKGFzIGluICR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nKSwgdmFsdWUgaXMgbm90IHJldHVybmVkIHRvIHByb21pc2VcbiAgICAgICAgICBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyKSB7XG4gICAgICAgICAgICBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24gPSB0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2luY2Ugd2UgY291bGRuJ3QgdHJhbnNsYXRlIHRoZSBpbml0YWwgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkLFxuICAgICAgICAgIC8vIHdlIHRyeSBpdCBub3cgd2l0aCBvbmUgb3IgbW9yZSBmYWxsYmFjayBsYW5ndWFnZXMsIGlmIGZhbGxiYWNrIGxhbmd1YWdlKHMpIGlzXG4gICAgICAgICAgLy8gY29uZmlndXJlZC5cbiAgICAgICAgICBpZiAoJHVzZXMgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gMDtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJGYWN0b3J5ICYmICFwZW5kaW5nTG9hZGVyICYmIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGUgcmVxdWVzdGVkIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3RzLlxuICAgICAgICAgICAgLy8gTm93LCBpZiB0aGVyZSBpcyBhIHJlZ2lzdGVyZWQgaGFuZGxlciBmb3IgbWlzc2luZyB0cmFuc2xhdGlvbnMgYW5kIG5vXG4gICAgICAgICAgICAvLyBhc3luY0xvYWRlciBpcyBwZW5kaW5nLCB3ZSBleGVjdXRlIHRoZSBoYW5kbGVyXG4gICAgICAgICAgICByZXN1bHQgPSBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFwcGx5Tm90Rm91bmRJbmRpY2F0b3JzKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ByZWZlcnJlZExhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IHRvIGJlIHVzZWQgYXMgcHJlZmVycmVkTGFuZ3VhZ2UgKGNoYW5naW5nIGF0IHJ1bnRpbWUpXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBwcmVmZXJyZWQgbGFuZ3VhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZihsYW5nS2V5KSB7XG4gICAgICAgICAgc2V0dXBQcmVmZXJyZWRMYW5ndWFnZShsYW5nS2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNjbG9ha0NsYXNzTmFtZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgY29uZmlndXJlZCBjbGFzcyBuYW1lIGZvciBgdHJhbnNsYXRlLWNsb2FrYCBkaXJlY3RpdmUuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBjbG9ha0NsYXNzTmFtZVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJGNsb2FrQ2xhc3NOYW1lO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNmYWxsYmFja0xhbmd1YWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBsYW5ndWFnZSBrZXkgZm9yIHRoZSBmYWxsYmFjayBsYW5ndWFnZXMgb3Igc2V0cyBhIG5ldyBmYWxsYmFjayBzdGFjay5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGxhbmdLZXkgbGFuZ3VhZ2UgU3RyaW5nIG9yIEFycmF5IG9mIGZhbGxiYWNrIGxhbmd1YWdlcyB0byBiZSB1c2VkICh0byBjaGFuZ2Ugc3RhY2sgYXQgcnVudGltZSlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd8fGFycmF5fSBmYWxsYmFjayBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKGxhbmdLZXkgIT09IHVuZGVmaW5lZCAmJiBsYW5nS2V5ICE9PSBudWxsKSB7XG4gICAgICAgICAgZmFsbGJhY2tTdGFjayhsYW5nS2V5KTtcblxuICAgICAgICAgIC8vIGFzIHdlIG1pZ2h0IGhhdmUgYW4gYXN5bmMgbG9hZGVyIGluaXRpYXRlZCBhbmQgYSBuZXcgdHJhbnNsYXRpb24gbGFuZ3VhZ2UgbWlnaHQgaGF2ZSBiZWVuIGRlZmluZWRcbiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkZCB0aGUgcHJvbWlzZSB0byB0aGUgc3RhY2sgYWxzby4gU28gLSBpdGVyYXRlLlxuICAgICAgICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0pIHtcbiAgICAgICAgICAgICAgICAgIGxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSBsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAkdHJhbnNsYXRlLnVzZSgkdHJhbnNsYXRlLnVzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZhbGxiYWNrV2FzU3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZTtcbiAgICAgICAgfVxuXG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZUZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFNldHMgdGhlIGZpcnN0IGtleSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2Ugc3RhY2sgdG8gYmUgdXNlZCBmb3IgdHJhbnNsYXRpb24uXG4gICAgICAgKiBUaGVyZWZvcmUgYWxsIGxhbmd1YWdlcyBpbiB0aGUgZmFsbGJhY2sgYXJyYXkgQkVGT1JFIHRoaXMga2V5IHdpbGwgYmUgc2tpcHBlZCFcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGxhbmdLZXkgQ29udGFpbnMgdGhlIGxhbmdLZXkgdGhlIGl0ZXJhdGlvbiBzaGFsbCBzdGFydCB3aXRoLiBTZXQgdG8gZmFsc2UgaWYgeW91IHdhbnQgdG9cbiAgICAgICAqIGdldCBiYWNrIHRvIHRoZSB3aG9sZSBzdGFja1xuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnVzZUZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgICAgIHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gPSAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGFuZ0tleVBvc2l0aW9uID0gaW5kZXhPZigkZmFsbGJhY2tMYW5ndWFnZSwgbGFuZ0tleSk7XG4gICAgICAgICAgICBpZiAobGFuZ0tleVBvc2l0aW9uID4gLTEpIHtcbiAgICAgICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IGxhbmdLZXlQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3Byb3Bvc2VkTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBvZiBsYW5ndWFnZSB0aGF0IGlzIGN1cnJlbnRseSBsb2FkZWQgYXN5bmNocm9ub3VzbHkuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5wcm9wb3NlZExhbmd1YWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJG5leHRMYW5nO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHJlZ2lzdGVyZWQgc3RvcmFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFN0b3JhZ2VcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5zdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU3RvcmFnZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB3aGljaCBsYW5ndWFnZSB0byB1c2UgYnkgZ2l2ZW4gbGFuZ3VhZ2Uga2V5LiBUaGlzIG1ldGhvZCBpc1xuICAgICAgICogdXNlZCB0byBjaGFuZ2UgbGFuZ3VhZ2UgYXQgcnVudGltZS4gSXQgYWxzbyB0YWtlcyBjYXJlIG9mIHN0b3JpbmcgdGhlIGxhbmd1YWdlXG4gICAgICAgKiBrZXkgaW4gYSBjb25maWd1cmVkIHN0b3JlIHRvIGxldCB5b3VyIGFwcCByZW1lbWJlciB0aGUgY2hvb3NlZCBsYW5ndWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBXaGVuIHRyeWluZyB0byAndXNlJyBhIGxhbmd1YWdlIHdoaWNoIGlzbid0IGF2YWlsYWJsZSBpdCB0cmllcyB0byBsb2FkIGl0XG4gICAgICAgKiBhc3luY2hyb25vdXNseSB3aXRoIHJlZ2lzdGVyZWQgbG9hZGVycy5cbiAgICAgICAqXG4gICAgICAgKiBSZXR1cm5zIHByb21pc2Ugb2JqZWN0IHdpdGggbG9hZGVkIGxhbmd1YWdlIGZpbGUgZGF0YVxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqICR0cmFuc2xhdGUudXNlKFwiZW5fVVNcIikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAqICAgJHNjb3BlLnRleHQgPSAkdHJhbnNsYXRlKFwiSEVMTE9cIik7XG4gICAgICAgKiB9KTtcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IExhbmd1YWdlIGtleVxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBMYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS51c2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgcmV0dXJuICR1c2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3RhcnQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuXG4gICAgICAgIC8vIFRyeSB0byBnZXQgdGhlIGFsaWFzZWQgbGFuZ3VhZ2Uga2V5XG4gICAgICAgIHZhciBhbGlhc2VkS2V5ID0gbmVnb3RpYXRlTG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChhbGlhc2VkS2V5KSB7XG4gICAgICAgICAga2V5ID0gYWxpYXNlZEtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzbid0IGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBsYW5ndWFnZSB3ZSd2ZSByZXF1ZXN0ZWQsXG4gICAgICAgIC8vIHdlIGxvYWQgaXQgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgaWYgKCEkdHJhbnNsYXRpb25UYWJsZVtrZXldICYmICRsb2FkZXJGYWN0b3J5ICYmICFsYW5nUHJvbWlzZXNba2V5XSkge1xuICAgICAgICAgICRuZXh0TGFuZyA9IGtleTtcbiAgICAgICAgICBsYW5nUHJvbWlzZXNba2V5XSA9IGxvYWRBc3luYyhrZXkpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYW5zbGF0aW9uLmtleSk7XG5cbiAgICAgICAgICAgIHVzZUxhbmd1YWdlKHRyYW5zbGF0aW9uLmtleSk7XG4gICAgICAgICAgICBpZiAoJG5leHRMYW5nID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgJG5leHRMYW5nID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRXJyb3InLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGtleSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGtleSk7XG4gICAgICAgICAgdXNlTGFuZ3VhZ2Uoa2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNzdG9yYWdlS2V5XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBrZXkgZm9yIHRoZSBzdG9yYWdlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gc3RvcmFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5zdG9yYWdlS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RvcmFnZUtleSgpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpc1Bvc3RDb21waWxpbmdFbmFibGVkXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHdoZXRoZXIgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCBvciBub3RcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sfSBzdG9yYWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkcG9zdENvbXBpbGluZ0VuYWJsZWQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3JlZnJlc2hcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlZnJlc2hlcyBhIHRyYW5zbGF0aW9uIHRhYmxlIHBvaW50ZWQgYnkgdGhlIGdpdmVuIGxhbmdLZXkuIElmIGxhbmdLZXkgaXMgbm90IHNwZWNpZmllZCxcbiAgICAgICAqIHRoZSBtb2R1bGUgd2lsbCBkcm9wIGFsbCBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIGxvYWQgbmV3IHZlcnNpb24gb2YgdGhvc2Ugd2hpY2hcbiAgICAgICAqIGFyZSBjdXJyZW50bHkgaW4gdXNlLlxuICAgICAgICpcbiAgICAgICAqIFJlZnJlc2ggbWVhbnMgdGhhdCB0aGUgbW9kdWxlIHdpbGwgZHJvcCB0YXJnZXQgdHJhbnNsYXRpb24gdGFibGUgYW5kIHRyeSB0byBsb2FkIGl0IGFnYWluLlxuICAgICAgICpcbiAgICAgICAqIEluIGNhc2UgdGhlcmUgYXJlIG5vIGxvYWRlcnMgcmVnaXN0ZXJlZCB0aGUgcmVmcmVzaCgpIG1ldGhvZCB3aWxsIHRocm93IGFuIEVycm9yLlxuICAgICAgICpcbiAgICAgICAqIElmIHRoZSBtb2R1bGUgaXMgYWJsZSB0byByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlcyByZWZyZXNoKCkgbWV0aG9kIHdpbGwgYnJvYWRjYXN0XG4gICAgICAgKiAkdHJhbnNsYXRlUmVmcmVzaFN0YXJ0IGFuZCAkdHJhbnNsYXRlUmVmcmVzaEVuZCBldmVudHMuXG4gICAgICAgKlxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIC8vIHRoaXMgd2lsbCBkcm9wIGFsbCBjdXJyZW50bHkgZXhpc3RlbnQgdHJhbnNsYXRpb24gdGFibGVzIGFuZCByZWxvYWQgdGhvc2Ugd2hpY2ggYXJlXG4gICAgICAgKiAvLyBjdXJyZW50bHkgaW4gdXNlXG4gICAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goKTtcbiAgICAgICAqIC8vIHRoaXMgd2lsbCByZWZyZXNoIGEgdHJhbnNsYXRpb24gdGFibGUgZm9yIHRoZSBlbl9VUyBsYW5ndWFnZVxuICAgICAgICogJHRyYW5zbGF0ZS5yZWZyZXNoKCdlbl9VUycpO1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5IG9mIHRoZSB0YWJsZSwgd2hpY2ggaGFzIHRvIGJlIHJlZnJlc2hlZFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3Byb21pc2V9IFByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgaW4gY2FzZSBhIHRyYW5zbGF0aW9uIHRhYmxlcyByZWZyZXNoaW5nXG4gICAgICAgKiBwcm9jZXNzIGlzIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseSwgYW5kIHJlamVjdCBpZiBub3QuXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUucmVmcmVzaCA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmICghJGxvYWRlckZhY3RvcnkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgcmVmcmVzaCB0cmFuc2xhdGlvbiB0YWJsZSwgbm8gbG9hZGVyIHJlZ2lzdGVyZWQhJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoRW5kJywge2xhbmd1YWdlOiBsYW5nS2V5fSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVSZWZyZXNoU3RhcnQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcblxuICAgICAgICBpZiAoIWxhbmdLZXkpIHtcbiAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgd2UgcmVmcmVzaCBBTEwgVEhFIFRISU5HUyFcbiAgICAgICAgICB2YXIgdGFibGVzID0gW10sIGxvYWRpbmdLZXlzID0ge307XG5cbiAgICAgICAgICAvLyByZWxvYWQgcmVnaXN0ZXJlZCBmYWxsYmFjayBsYW5ndWFnZXNcbiAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKSk7XG4gICAgICAgICAgICAgIGxvYWRpbmdLZXlzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gcmVsb2FkIGN1cnJlbnRseSB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgaWYgKCR1c2VzICYmICFsb2FkaW5nS2V5c1skdXNlc10pIHtcbiAgICAgICAgICAgIHRhYmxlcy5wdXNoKGxvYWRBc3luYygkdXNlcykpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRxLmFsbCh0YWJsZXMpLnRoZW4oZnVuY3Rpb24gKHRhYmxlRGF0YSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRhYmxlRGF0YSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgaWYgKCR0cmFuc2xhdGlvblRhYmxlW2RhdGEua2V5XSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSAkdHJhbnNsYXRpb25UYWJsZVtkYXRhLmtleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCR1c2VzKSB7XG4gICAgICAgICAgICAgIHVzZUxhbmd1YWdlKCR1c2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2UgaWYgKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSB7XG5cbiAgICAgICAgICBsb2FkQXN5bmMobGFuZ0tleSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIGlmIChsYW5nS2V5ID09PSAkdXNlcykge1xuICAgICAgICAgICAgICB1c2VMYW5ndWFnZSgkdXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSwgcmVqZWN0KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNpbnN0YW50XG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgdHJhbnNsYXRpb24gaW5zdGFudGx5IGZyb20gdGhlIGludGVybmFsIHN0YXRlIG9mIGxvYWRlZCB0cmFuc2xhdGlvbi4gQWxsIHJ1bGVzXG4gICAgICAgKiByZWdhcmRpbmcgdGhlIGN1cnJlbnQgbGFuZ3VhZ2UsIHRoZSBwcmVmZXJyZWQgbGFuZ3VhZ2Ugb2YgZXZlbiBmYWxsYmFjayBsYW5ndWFnZXMgd2lsbCBiZVxuICAgICAgICogdXNlZCBleGNlcHQgYW55IHByb21pc2UgaGFuZGxpbmcuIElmIGEgbGFuZ3VhZ2Ugd2FzIG5vdCBmb3VuZCwgYW4gYXN5bmNocm9ub3VzIGxvYWRpbmdcbiAgICAgICAqIHdpbGwgYmUgaW52b2tlZCBpbiB0aGUgYmFja2dyb3VuZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgb3B0aW9uYWxseSBhbiBhcnJheSBvZiB0cmFuc2xhdGlvbiBpZHMgd2hpY2hcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgdGhhdCB0aGUgZnVuY3Rpb24ncyBwcm9taXNlIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoIGtleSBpcyB0aGUgdHJhbnNsYXRpb24gaWQgYW5kIHRoZSB2YWx1ZSB0aGUgdHJhbnNsYXRpb24uXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gaW50ZXJwb2xhdGVQYXJhbXMgUGFyYW1zXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW50ZXJwb2xhdGlvbklkIFRoZSBpZCBvZiB0aGUgaW50ZXJwb2xhdGlvbiB0byB1c2VcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKSB7XG5cbiAgICAgICAgLy8gRGV0ZWN0IHVuZGVmaW5lZCBhbmQgbnVsbCB2YWx1ZXMgdG8gc2hvcnRlbiB0aGUgZXhlY3V0aW9uIGFuZCBwcmV2ZW50IGV4Y2VwdGlvbnNcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQgPT09IG51bGwgfHwgYW5ndWxhci5pc1VuZGVmaW5lZCh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRHVjayBkZXRlY3Rpb246IElmIHRoZSBmaXJzdCBhcmd1bWVudCBpcyBhbiBhcnJheSwgYSBidW5jaCBvZiB0cmFuc2xhdGlvbnMgd2FzIHJlcXVlc3RlZC5cbiAgICAgICAgLy8gVGhlIHJlc3VsdCBpcyBhbiBvYmplY3QuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjID0gdHJhbnNsYXRpb25JZC5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZFtpXV0gPSAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZFtpXSwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgZGlzY2FyZGVkIHVuYWNjZXB0YWJsZSB2YWx1ZXMuIFNvIHdlIGp1c3QgbmVlZCB0byB2ZXJpZnkgaWYgdHJhbnNsYXRpb25JZCBpcyBlbXB0eSBTdHJpbmdcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodHJhbnNsYXRpb25JZCkgJiYgdHJhbnNsYXRpb25JZC5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmltIG9mZiBhbnkgd2hpdGVzcGFjZVxuICAgICAgICBpZiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSB0cmltLmFwcGx5KHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCwgcG9zc2libGVMYW5nS2V5cyA9IFtdO1xuICAgICAgICBpZiAoJHByZWZlcnJlZExhbmd1YWdlKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCR1c2VzKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cy5wdXNoKCR1c2VzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgcG9zc2libGVMYW5nS2V5cyA9IHBvc3NpYmxlTGFuZ0tleXMuY29uY2F0KCRmYWxsYmFja0xhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMCwgZCA9IHBvc3NpYmxlTGFuZ0tleXMubGVuZ3RoOyBqIDwgZDsgaisrKSB7XG4gICAgICAgICAgdmFyIHBvc3NpYmxlTGFuZ0tleSA9IHBvc3NpYmxlTGFuZ0tleXNbal07XG4gICAgICAgICAgaWYgKCR0cmFuc2xhdGlvblRhYmxlW3Bvc3NpYmxlTGFuZ0tleV0pIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XVt0cmFuc2xhdGlvbklkXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gZGV0ZXJtaW5lVHJhbnNsYXRpb25JbnN0YW50KHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzdWx0ICYmIHJlc3VsdCAhPT0gJycpIHtcbiAgICAgICAgICAvLyBSZXR1cm4gdHJhbnNsYXRpb24gb2YgZGVmYXVsdCBpbnRlcnBvbGF0b3IgaWYgbm90IGZvdW5kIGFueXRoaW5nLlxuICAgICAgICAgIHJlc3VsdCA9IGRlZmF1bHRJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMpO1xuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN2ZXJzaW9uSW5mb1xuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCB2ZXJzaW9uIGluZm9ybWF0aW9uIGZvciB0aGUgYW5ndWxhci10cmFuc2xhdGUgbGlicmFyeVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gYW5ndWxhci10cmFuc2xhdGUgdmVyc2lvblxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnZlcnNpb25JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjbG9hZGVyQ2FjaGVcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGRlZmluZWQgbG9hZGVyQ2FjaGUuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbnxzdHJpbmd8b2JqZWN0fSBjdXJyZW50IHZhbHVlIG9mIGxvYWRlckNhY2hlXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUubG9hZGVyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2FkZXJDYWNoZTtcbiAgICAgIH07XG5cbiAgICAgIGlmICgkbG9hZGVyRmFjdG9yeSkge1xuXG4gICAgICAgIC8vIElmIGF0IGxlYXN0IG9uZSBhc3luYyBsb2FkZXIgaXMgZGVmaW5lZCBhbmQgdGhlcmUgYXJlIG5vXG4gICAgICAgIC8vIChkZWZhdWx0KSB0cmFuc2xhdGlvbnMgYXZhaWxhYmxlIHdlIHNob3VsZCB0cnkgdG8gbG9hZCB0aGVtLlxuICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHMoJHRyYW5zbGF0aW9uVGFibGUsIHt9KSkge1xuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxzbywgaWYgdGhlcmUgYXJlIGFueSBmYWxsYmFjayBsYW5ndWFnZSByZWdpc3RlcmVkLCB3ZSBzdGFydFxuICAgICAgICAvLyBsb2FkaW5nIHRoZW0gYXN5bmNocm9ub3VzbHkgYXMgc29vbiBhcyB3ZSBjYW4uXG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcHJvY2Vzc0FzeW5jUmVzdWx0ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnModHJhbnNsYXRpb24ua2V5LCB0cmFuc2xhdGlvbi50YWJsZSk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlRW5kJywgeyBsYW5ndWFnZTogdHJhbnNsYXRpb24ua2V5IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gbG9hZEFzeW5jKCRmYWxsYmFja0xhbmd1YWdlW2ldKS50aGVuKHByb2Nlc3NBc3luY1Jlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkdHJhbnNsYXRlO1xuICAgIH1cbiAgXTtcbn1dKTtcblxuLyoqXG4gKiBAbmdkb2Mgb2JqZWN0XG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBhbmd1bGFyJ3MgYCRpbnRlcnBvbGF0ZWAgc2VydmljZXMgdG8gaW50ZXJwb2xhdGUgc3RyaW5ncyBhZ2FpbnN0IHNvbWUgdmFsdWVzLlxuICpcbiAqIEByZXR1cm4ge29iamVjdH0gJHRyYW5zbGF0ZUludGVycG9sYXRvciBJbnRlcnBvbGF0b3Igc2VydmljZVxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpLmZhY3RvcnkoJyR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbicsIFsnJGludGVycG9sYXRlJywgZnVuY3Rpb24gKCRpbnRlcnBvbGF0ZSkge1xuXG4gIHZhciAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yID0ge30sXG4gICAgICAkbG9jYWxlLFxuICAgICAgJGlkZW50aWZpZXIgPSAnZGVmYXVsdCcsXG4gICAgICAkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gbnVsbCxcbiAgICAgIC8vIG1hcCBvZiBhbGwgc2FuaXRpemUgc3RyYXRlZ2llc1xuICAgICAgc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMgPSB7XG4gICAgICAgIGVzY2FwZWQ6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIGtleSkpIHtcbiAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXY+PC9kaXY+JykudGV4dChwYXJhbXNba2V5XSkuaHRtbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gIHZhciBzYW5pdGl6ZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXNbJHNhbml0aXplVmFsdWVTdHJhdGVneV0pKSB7XG4gICAgICByZXN1bHQgPSBzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llc1skc2FuaXRpemVWYWx1ZVN0cmF0ZWd5XShwYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBwYXJhbXM7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNzZXRMb2NhbGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGN1cnJlbnQgbG9jYWxlICh0aGlzIGlzIGN1cnJlbnRseSBub3QgdXNlIGluIHRoaXMgaW50ZXJwb2xhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgTGFuZ3VhZ2Uga2V5IG9yIGxvY2FsZS5cbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSkge1xuICAgICRsb2NhbGUgPSBsb2NhbGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvbiNnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgYW4gaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcnBvbGF0aW9uIHNlcnZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9ICRpZGVudGlmaWVyXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmdldEludGVycG9sYXRpb25JZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaWRlbnRpZmllcjtcbiAgfTtcblxuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2ludGVycG9sYXRlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSW50ZXJwb2xhdGVzIGdpdmVuIHN0cmluZyBhZ2FpbnMgZ2l2ZW4gaW50ZXJwb2xhdGUgcGFyYW1zIHVzaW5nIGFuZ3VsYXJzXG4gICAqIGAkaW50ZXJwb2xhdGVgIHNlcnZpY2UuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGludGVycG9sYXRlZCBzdHJpbmcuXG4gICAqL1xuICAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHN0cmluZywgaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICBpZiAoJHNhbml0aXplVmFsdWVTdHJhdGVneSkge1xuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSBzYW5pdGl6ZVBhcmFtcyhpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiAkaW50ZXJwb2xhdGUoc3RyaW5nKShpbnRlcnBvbGF0ZVBhcmFtcyB8fCB7fSk7XG4gIH07XG5cbiAgcmV0dXJuICR0cmFuc2xhdGVJbnRlcnBvbGF0b3I7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuY29uc3RhbnQoJyRTVE9SQUdFX0tFWScsICdOR19UUkFOU0xBVEVfTEFOR19LRVknKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmRpcmVjdGl2ZTp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkY29tcGlsZVxuICogQHJlcXVpcmVzICRmaWx0ZXJcbiAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUcmFuc2xhdGVzIGdpdmVuIHRyYW5zbGF0aW9uIGlkIGVpdGhlciB0aHJvdWdoIGF0dHJpYnV0ZSBvciBET00gY29udGVudC5cbiAqIEludGVybmFsbHkgaXQgdXNlcyBgdHJhbnNsYXRlYCBmaWx0ZXIgdG8gdHJhbnNsYXRlIHRyYW5zbGF0aW9uIGlkLiBJdCBwb3NzaWJsZSB0b1xuICogcGFzcyBhbiBvcHRpb25hbCBgdHJhbnNsYXRlLXZhbHVlc2Agb2JqZWN0IGxpdGVyYWwgYXMgc3RyaW5nIGludG8gdHJhbnNsYXRpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgd2hpY2ggY291bGQgYmUgZWl0aGVyIHN0cmluZyBvciBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtdmFsdWVzIFZhbHVlcyB0byBwYXNzIGludG8gdHJhbnNsYXRpb24gaWQuIENhbiBiZSBwYXNzZWQgYXMgb2JqZWN0IGxpdGVyYWwgc3RyaW5nIG9yIGludGVycG9sYXRlZCBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS1hdHRyLUFUVFIgdHJhbnNsYXRlIFRyYW5zbGF0aW9uIGlkIGFuZCBwdXQgaXQgaW50byBBVFRSIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWRlZmF1bHQgd2lsbCBiZSB1c2VkIHVubGVzcyB0cmFuc2xhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICogQHBhcmFtIHtib29sZWFuPX0gdHJhbnNsYXRlLWNvbXBpbGUgKGRlZmF1bHQgdHJ1ZSBpZiBwcmVzZW50KSBkZWZpbmVzIGxvY2FsbHkgYWN0aXZhdGlvbiBvZiB7QGxpbmsgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3VzZVBvc3RDb21waWxpbmd9XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUcmFuc2xhdGVDdHJsXCI+XG5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT5UUkFOU0xBVElPTl9JRDwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU+e3t0cmFuc2xhdGlvbklkfX08L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7dmFsdWU6IDV9XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+V0lUSF9WQUxVRVM8L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJXSVRIX1ZBTFVFU1wiIHRyYW5zbGF0ZS12YWx1ZXM9XCJ7e3ZhbHVlc319XCI+PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJyx7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19J1xuICAgICAgICB9KS5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NlbmFyaW8uanNcIj5cbiAgICAgIGl0KCdzaG91bGQgdHJhbnNsYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb21waWxlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwiVFJBTlNMQVRJT05fSURcIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPVwie3t0cmFuc2xhdGlvbklkfX1cIj48L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGUgdHJhbnNsYXRlLWF0dHItdGl0bGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC5hdHRyKCd0aXRsZScpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RyYW5zbGF0ZScsIFsnJHRyYW5zbGF0ZScsICckcScsICckaW50ZXJwb2xhdGUnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSwgJHEsICRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUsICRwYXJzZSwgJHJvb3RTY29wZSkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBRScsXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cikge1xuXG4gICAgICB2YXIgdHJhbnNsYXRlVmFsdWVzRXhpc3QgPSAodEF0dHIudHJhbnNsYXRlVmFsdWVzKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZVZhbHVlcyA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIHRyYW5zbGF0ZUludGVycG9sYXRpb24gPSAodEF0dHIudHJhbnNsYXRlSW50ZXJwb2xhdGlvbikgP1xuICAgICAgICB0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlVmFsdWVFeGlzdCA9IHRFbGVtZW50WzBdLm91dGVySFRNTC5tYXRjaCgvdHJhbnNsYXRlLXZhbHVlLSsvaSk7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZVJlZ0V4cCA9IFwiXiguKikoXCIgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArIFwiLipcIiArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArIFwiKSguKilcIixcbiAgICAgICAgICB3YXRjaGVyUmVnRXhwID0gXCJeKC4qKVwiICsgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCkgKyBcIiguKilcIiArICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSArIFwiKC4qKVwiO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcblxuICAgICAgICBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcyA9IHt9O1xuICAgICAgICBzY29wZS5wcmVUZXh0ID0gXCJcIjtcbiAgICAgICAgc2NvcGUucG9zdFRleHQgPSBcIlwiO1xuICAgICAgICB2YXIgdHJhbnNsYXRpb25JZHMgPSB7fTtcblxuICAgICAgICAvLyBFbnN1cmVzIGFueSBjaGFuZ2Ugb2YgdGhlIGF0dHJpYnV0ZSBcInRyYW5zbGF0ZVwiIGNvbnRhaW5pbmcgdGhlIGlkIHdpbGxcbiAgICAgICAgLy8gYmUgcmUtc3RvcmVkIHRvIHRoZSBzY29wZSdzIFwidHJhbnNsYXRpb25JZFwiLlxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBubyBjb250ZW50LCB0aGUgZWxlbWVudCdzIHRleHQgdmFsdWUgKHdoaXRlIHNwYWNlcyB0cmltbWVkIG9mZikgd2lsbCBiZSB1c2VkLlxuICAgICAgICB2YXIgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKHRyYW5zbGF0aW9uSWQgLCAnJykgfHwgIWFuZ3VsYXIuaXNEZWZpbmVkKHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRyYW5zbGF0aW9uIGlkIGJ5IGlubmVyIGh0bWwgaWYgcmVxdWlyZWRcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZU1hdGNoZXMgPSBpRWxlbWVudC50ZXh0KCkubWF0Y2goaW50ZXJwb2xhdGVSZWdFeHApO1xuICAgICAgICAgICAgLy8gSW50ZXJwb2xhdGUgdHJhbnNsYXRpb24gaWQgaWYgcmVxdWlyZWRcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoaW50ZXJwb2xhdGVNYXRjaGVzKSkge1xuICAgICAgICAgICAgICBzY29wZS5wcmVUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzFdO1xuICAgICAgICAgICAgICBzY29wZS5wb3N0VGV4dCA9IGludGVycG9sYXRlTWF0Y2hlc1szXTtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gJGludGVycG9sYXRlKGludGVycG9sYXRlTWF0Y2hlc1syXSkoc2NvcGUuJHBhcmVudCk7XG4gICAgICAgICAgICAgIHdhdGNoZXJNYXRjaGVzID0gaUVsZW1lbnQudGV4dCgpLm1hdGNoKHdhdGNoZXJSZWdFeHApO1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHdhdGNoZXJNYXRjaGVzKSAmJiB3YXRjaGVyTWF0Y2hlc1syXSAmJiB3YXRjaGVyTWF0Y2hlc1syXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2god2F0Y2hlck1hdGNoZXNbMl0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdHJhbnNsYXRpb25JZHMudHJhbnNsYXRlID0gaUVsZW1lbnQudGV4dCgpLnJlcGxhY2UoL15cXHMrfFxccyskL2csJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgb2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0ZUF0dHIpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSh0cmFuc2xhdGVBdHRyLCBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25JZHNbdHJhbnNsYXRlQXR0cl0gPSB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgdHJhbnNsYXRlQXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgIGlmKGlBdHRyLmhhc093blByb3BlcnR5KHRyYW5zbGF0ZUF0dHIpICYmIHRyYW5zbGF0ZUF0dHIuc3Vic3RyKDAsIDEzKSA9PT0gJ3RyYW5zbGF0ZUF0dHInKSB7XG4gICAgICAgICAgICBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24odHJhbnNsYXRlQXR0cik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZURlZmF1bHQnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kZWZhdWx0VGV4dCA9IHZhbHVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVzRXhpc3QpIHtcbiAgICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlVmFsdWVzJywgZnVuY3Rpb24gKGludGVycG9sYXRlUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNjb3BlLmludGVycG9sYXRlUGFyYW1zLCAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHNjb3BlLiRwYXJlbnQpKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNsYXRlVmFsdWVFeGlzdCkge1xuICAgICAgICAgIHZhciBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKGF0dHJOYW1lLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBhbmd1bGFyLmxvd2VyY2FzZShhdHRyTmFtZS5zdWJzdHIoMTQsIDEpKSArIGF0dHJOYW1lLnN1YnN0cigxNSk7XG4gICAgICAgICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zW2F0dHJpYnV0ZU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGZvciAodmFyIGF0dHIgaW4gaUF0dHIpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaUF0dHIsIGF0dHIpICYmIGF0dHIuc3Vic3RyKDAsIDE0KSA9PT0gJ3RyYW5zbGF0ZVZhbHVlJyAmJiBhdHRyICE9PSAndHJhbnNsYXRlVmFsdWVzJykge1xuICAgICAgICAgICAgICBvYnNlcnZlVmFsdWVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFzdGVyIHVwZGF0ZSBmdW5jdGlvblxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0cmFuc2xhdGlvbklkcykge1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWRzLmhhc093blByb3BlcnR5KGtleSkgJiYgdHJhbnNsYXRpb25JZHNba2V5XSkge1xuICAgICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbihrZXksIHRyYW5zbGF0aW9uSWRzW2tleV0sIHNjb3BlLCBzY29wZS5pbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFB1dCB0cmFuc2xhdGlvbiBwcm9jZXNzaW5nIGZ1bmN0aW9uIG91dHNpZGUgbG9vcFxuICAgICAgICB2YXIgdXBkYXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbih0cmFuc2xhdGVBdHRyLCB0cmFuc2xhdGlvbklkLCBzY29wZSwgaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCB0cmFuc2xhdGVJbnRlcnBvbGF0aW9uKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb24sIHNjb3BlLCB0cnVlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb24odHJhbnNsYXRpb25JZCwgc2NvcGUsIGZhbHNlLCB0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcHBseVRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHZhbHVlLCBzY29wZSwgc3VjY2Vzc2Z1bCwgdHJhbnNsYXRlQXR0cikge1xuICAgICAgICAgIGlmICh0cmFuc2xhdGVBdHRyID09PSAndHJhbnNsYXRlJykge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCB0cmFuc2xhdGUgaW50byBpbm5lckhUTUxcbiAgICAgICAgICAgIGlmICghc3VjY2Vzc2Z1bCAmJiB0eXBlb2Ygc2NvcGUuZGVmYXVsdFRleHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gc2NvcGUuZGVmYXVsdFRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpRWxlbWVudC5odG1sKHNjb3BlLnByZVRleHQgKyB2YWx1ZSArIHNjb3BlLnBvc3RUZXh0KTtcbiAgICAgICAgICAgIHZhciBnbG9iYWxseUVuYWJsZWQgPSAkdHJhbnNsYXRlLmlzUG9zdENvbXBpbGluZ0VuYWJsZWQoKTtcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RGVmaW5lZCA9IHR5cGVvZiB0QXR0ci50cmFuc2xhdGVDb21waWxlICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIHZhciBsb2NhbGx5RW5hYmxlZCA9IGxvY2FsbHlEZWZpbmVkICYmIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICdmYWxzZSc7XG4gICAgICAgICAgICBpZiAoKGdsb2JhbGx5RW5hYmxlZCAmJiAhbG9jYWxseURlZmluZWQpIHx8IGxvY2FsbHlFbmFibGVkKSB7XG4gICAgICAgICAgICAgICRjb21waWxlKGlFbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJhbnNsYXRlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzZnVsICYmIHR5cGVvZiBzY29wZS5kZWZhdWx0VGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBzY29wZS5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gaUF0dHIuJGF0dHJbdHJhbnNsYXRlQXR0cl0uc3Vic3RyKDE1KTtcbiAgICAgICAgICAgIGlFbGVtZW50LmF0dHIoYXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goJ2ludGVycG9sYXRlUGFyYW1zJywgdXBkYXRlVHJhbnNsYXRpb25zLCB0cnVlKTtcblxuICAgICAgICAvLyBFbnN1cmVzIHRoZSB0ZXh0IHdpbGwgYmUgcmVmcmVzaGVkIGFmdGVyIHRoZSBjdXJyZW50IGxhbmd1YWdlIHdhcyBjaGFuZ2VkXG4gICAgICAgIC8vIHcvICR0cmFuc2xhdGUudXNlKC4uLilcbiAgICAgICAgdmFyIHVuYmluZCA9ICRyb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHVwZGF0ZVRyYW5zbGF0aW9ucyk7XG5cbiAgICAgICAgLy8gZW5zdXJlIHRyYW5zbGF0aW9uIHdpbGwgYmUgbG9va2VkIHVwIGF0IGxlYXN0IG9uZVxuICAgICAgICBpZiAoaUVsZW1lbnQudGV4dCgpLmxlbmd0aCkge1xuICAgICAgICAgIG9ic2VydmVFbGVtZW50VHJhbnNsYXRpb24oJycpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZUNsb2FrXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICogQHJlcXVpcmVzICR0cmFuc2xhdGVcbiAqIEByZXN0cmljdCBBXG4gKlxuICogJGRlc2NyaXB0aW9uXG4gKiBBZGRzIGEgYHRyYW5zbGF0ZS1jbG9ha2AgY2xhc3MgbmFtZSB0byB0aGUgZ2l2ZW4gZWxlbWVudCB3aGVyZSB0aGlzIGRpcmVjdGl2ZVxuICogaXMgYXBwbGllZCBpbml0aWFsbHkgYW5kIHJlbW92ZXMgaXQsIG9uY2UgYSBsb2FkZXIgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIHVzZWQgdG8gcHJldmVudCBpbml0aWFsIGZsaWNrZXJpbmcgd2hlbiBsb2FkaW5nIHRyYW5zbGF0aW9uXG4gKiBkYXRhIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIFRoZSBjbGFzcyBuYW1lIGlzIGRlZmluZWQgaW5cbiAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNjbG9ha0NsYXNzTmFtZSAkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lKCl9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWNsb2FrIElmIGEgdHJhbnNsYXRpb25JZCBpcyBwcm92aWRlZCwgaXQgd2lsbCBiZSB1c2VkIGZvciBzaG93aW5nXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBoaWRpbmcgdGhlIGNsb2FrLiBCYXNpY2FsbHkgaXQgcmVsaWVzIG9uIHRoZSB0cmFuc2xhdGlvblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZS5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlQ2xvYWsnLCBbJyRyb290U2NvcGUnLCAnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkdHJhbnNsYXRlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQpIHtcbiAgICAgIHZhciBhcHBseUNsb2FrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0RWxlbWVudC5hZGRDbGFzcygkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lKCkpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNsb2FrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0RWxlbWVudC5yZW1vdmVDbGFzcygkdHJhbnNsYXRlLmNsb2FrQ2xhc3NOYW1lKCkpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUxpc3RlbmVyID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZUNsb2FrKCk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgYXBwbHlDbG9haygpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBpRWxlbWVudCwgaUF0dHIpIHtcbiAgICAgICAgLy8gUmVnaXN0ZXIgYSB3YXRjaGVyIGZvciB0aGUgZGVmaW5lZCB0cmFuc2xhdGlvbiBhbGxvd2luZyBhIGZpbmUgdHVuZWQgY2xvYWtcbiAgICAgICAgaWYgKGlBdHRyLnRyYW5zbGF0ZUNsb2FrICYmIGlBdHRyLnRyYW5zbGF0ZUNsb2FrLmxlbmd0aCkge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVDbG9haycsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAkdHJhbnNsYXRlKHRyYW5zbGF0aW9uSWQpLnRoZW4ocmVtb3ZlQ2xvYWssIGFwcGx5Q2xvYWspO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKVxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLmZpbHRlcjp0cmFuc2xhdGVcbiAqIEByZXF1aXJlcyAkcGFyc2VcbiAqIEByZXF1aXJlcyBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAqIEBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlcyBgJHRyYW5zbGF0ZWAgc2VydmljZSB0byB0cmFuc2xhdGUgY29udGVudHMuIEFjY2VwdHMgaW50ZXJwb2xhdGUgcGFyYW1ldGVyc1xuICogdG8gcGFzcyBkeW5hbWl6ZWQgdmFsdWVzIHRob3VnaCB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBBIHRyYW5zbGF0aW9uIGlkIHRvIGJlIHRyYW5zbGF0ZWQuXG4gKiBAcGFyYW0geyo9fSBpbnRlcnBvbGF0ZVBhcmFtcyBPcHRpb25hbCBvYmplY3QgbGl0ZXJhbCAoYXMgaGFzaCBvciBzdHJpbmcpIHRvIHBhc3MgdmFsdWVzIGludG8gdHJhbnNsYXRpb24uXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ1ZpZXdcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiVHJhbnNsYXRlQ3RybFwiPlxuXG4gICAgICAgIDxwcmU+e3sgJ1RSQU5TTEFUSU9OX0lEJyB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7IHRyYW5zbGF0aW9uSWQgfCB0cmFuc2xhdGUgfX08L3ByZT5cbiAgICAgICAgPHByZT57eyAnV0lUSF9WQUxVRVMnIHwgdHJhbnNsYXRlOid7dmFsdWU6IDV9JyB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6dmFsdWVzIH19PC9wcmU+XG5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbmdWaWV3JywgWydwYXNjYWxwcmVjaHQudHJhbnNsYXRlJ10pXG5cbiAgICAgIC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2VuJywge1xuICAgICAgICAgICdUUkFOU0xBVElPTl9JRCc6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgICdXSVRIX1ZBTFVFUyc6ICdUaGUgZm9sbG93aW5nIHZhbHVlIGlzIGR5bmFtaWM6IHt7dmFsdWV9fSdcbiAgICAgICAgfSk7XG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci5wcmVmZXJyZWRMYW5ndWFnZSgnZW4nKTtcblxuICAgICAgfSk7XG5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnKS5jb250cm9sbGVyKCdUcmFuc2xhdGVDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAkc2NvcGUudHJhbnNsYXRpb25JZCA9ICdUUkFOU0xBVElPTl9JRCc7XG5cbiAgICAgICAgJHNjb3BlLnZhbHVlcyA9IHtcbiAgICAgICAgICB2YWx1ZTogNzhcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmZpbHRlcigndHJhbnNsYXRlJywgWyckcGFyc2UnLCAnJHRyYW5zbGF0ZScsIGZ1bmN0aW9uICgkcGFyc2UsICR0cmFuc2xhdGUpIHtcbiAgdmFyIHRyYW5zbGF0ZUZpbHRlciA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbikge1xuXG4gICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KGludGVycG9sYXRlUGFyYW1zKSkge1xuICAgICAgaW50ZXJwb2xhdGVQYXJhbXMgPSAkcGFyc2UoaW50ZXJwb2xhdGVQYXJhbXMpKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb24pO1xuICB9O1xuXG4gIC8vIFNpbmNlIEFuZ3VsYXJKUyAxLjMsIGZpbHRlcnMgd2hpY2ggYXJlIG5vdCBzdGF0ZWxlc3MgKGRlcGVuZGluZyBhdCB0aGUgc2NvcGUpXG4gIC8vIGhhdmUgdG8gZXhwbGljaXQgZGVmaW5lIHRoaXMgYmVoYXZpb3IuXG4gIHRyYW5zbGF0ZUZpbHRlci4kc3RhdGVmdWwgPSB0cnVlO1xuXG4gIHJldHVybiB0cmFuc2xhdGVGaWx0ZXI7XG59XSk7XG5cbi8qIVxuICogYW5ndWxhci10cmFuc2xhdGUgLSB2Mi41LjIgLSAyMDE0LTEyLTEwXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXRyYW5zbGF0ZS9hbmd1bGFyLXRyYW5zbGF0ZVxuICogQ29weXJpZ2h0IChjKSAyMDE0IDsgTGljZW5zZWQgTUlUXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIG9iamVjdFxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJcbiAqIEByZXF1aXJlcyAkcVxuICogQHJlcXVpcmVzICRodHRwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgbG9hZGluZyBmdW5jdGlvbiBmb3IgYSB0eXBpY2FsIHN0YXRpYyBmaWxlIHVybCBwYXR0ZXJuOlxuICogXCJsYW5nLWVuX1VTLmpzb25cIiwgXCJsYW5nLWRlX0RFLmpzb25cIiwgZXRjLiBVc2luZyB0aGlzIGJ1aWxkZXIsXG4gKiB0aGUgcmVzcG9uc2Ugb2YgdGhlc2UgdXJscyBtdXN0IGJlIGFuIG9iamVjdCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QsIHdoaWNoIGdldHMgcHJlZml4LCBzdWZmaXggYW5kIGtleS5cbiAqL1xuLmZhY3RvcnkoJyR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcicsIFsnJHEnLCAnJGh0dHAnLCBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICBpZiAoIW9wdGlvbnMgfHwgKCFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMucHJlZml4KSB8fCAhYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnN1ZmZpeCkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIScpO1xuICAgIH1cblxuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XG4gICAgICB1cmw6IFtcbiAgICAgICAgb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgIG9wdGlvbnMua2V5LFxuICAgICAgICBvcHRpb25zLnN1ZmZpeFxuICAgICAgXS5qb2luKCcnKSxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6ICcnXG4gICAgfSwgb3B0aW9ucy4kaHR0cCkpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChvcHRpb25zLmtleSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfTtcbn1dKTtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBnbG9iYWwgYW5ndWxhciwgd2luZG93ICovXG5cbi8qKlxuICogUmVpbXBsZW1lbnRhdGlvbiBvZiAkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXIgdG8gaGFuZGxlIG1pc3NpbmcgZmlsZXMgYW5kIGxvY2FsZSBoaWVyYXJjaHkgKGVuL2VuX1VTKVxuICovXG5hbmd1bGFyLm1vZHVsZShcInBhc2NhbHByZWNodC50cmFuc2xhdGVcIikuZmFjdG9yeShcIiR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlclwiLCBbXG4gIFwiJHFcIixcbiAgXCIkaHR0cFwiLFxuICBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG4gICAgZnVuY3Rpb24gbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRpb25zLCBkZWZlcnJlZCkge1xuICAgICAgJGh0dHAoYW5ndWxhci5leHRlbmQoe1xuICAgICAgICB1cmw6IFtcbiAgICAgICAgICBvcHRpb25zLnByZWZpeCxcbiAgICAgICAgICBvcHRpb25zLmtleS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIG9wdGlvbnMuc3VmZml4XG4gICAgICAgIF0uam9pbihcIlwiKSxcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBwYXJhbXM6IFwiXCJcbiAgICAgIH0sIG9wdGlvbnMuJGh0dHApKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKG9wdGlvbnMua2V5LmluZGV4T2YoXCJfXCIpID49IDApIHtcbiAgICAgICAgICB2YXIga2V5ID0gb3B0aW9ucy5rZXkuc3Vic3RyKDAsIG9wdGlvbnMua2V5Lmxhc3RJbmRleE9mKFwiX1wiKSk7XG4gICAgICAgICAgdmFyIG9wdHMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb3B0aW9ucywgeyBrZXk6IGtleSB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdHMsIGRlZmVycmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFwie31cIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zIHx8ICghYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5zdWZmaXgpKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG5cXFwidCBsb2FkIHN0YXRpYyBmaWxlcywgbm8gcHJlZml4IG9yIHN1ZmZpeCBzcGVjaWZpZWQhXCIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBsb2FkVHJhbnNsYXRpb25GaWxlKG9wdGlvbnMsIGRlZmVycmVkKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfVxuXSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLCBbXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIsIFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIl0pXG4uY29uZmlnKFtcIiR0cmFuc2xhdGVQcm92aWRlclwiLCBcIkxPQ0FMRVNfUFJFRklYXCIsIFwiTE9DQUxFU19TVUZJWFwiLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyLCBMT0NBTEVTX1BSRUZJWCwgTE9DQUxFU19TVUZJWCkge1xuICAvLyBUcmllcyB0byBkZXRlcm1pbmUgdGhlIGJyb3dzZXJzIGxvY2FsZVxuICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlU3RhdGljRmlsZXNMb2FkZXIoe1xuICAgIHByZWZpeDogTE9DQUxFU19QUkVGSVgsXG4gICAgc3VmZml4OiBMT0NBTEVTX1NVRklYXG4gIH0pO1xuICBcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAgLmRldGVybWluZVByZWZlcnJlZExhbmd1YWdlKClcbiAgICAuZmFsbGJhY2tMYW5ndWFnZShcImVuXCIpO1xufV0pO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9XG4gICAgdGhpcy51bnBpbiAgICAgICAgPVxuICAgIHRoaXMucGlubmVkT2Zmc2V0ID0gbnVsbFxuXG4gICAgdGhpcy5jaGVja1Bvc2l0aW9uKClcbiAgfVxuXG4gIEFmZml4LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEFmZml4LlJFU0VUICAgID0gJ2FmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20nXG5cbiAgQWZmaXguREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAwLFxuICAgIHRhcmdldDogd2luZG93XG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBpbm5lZE9mZnNldCkgcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0XG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVCkuYWRkQ2xhc3MoJ2FmZml4JylcbiAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICByZXR1cm4gKHRoaXMucGlubmVkT2Zmc2V0ID0gcG9zaXRpb24udG9wIC0gc2Nyb2xsVG9wKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wID0gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQoJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpLCAxKVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmNoZWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSByZXR1cm5cblxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkKGRvY3VtZW50KS5oZWlnaHQoKVxuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgIT0gJ29iamVjdCcpICAgICAgICAgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0VG9wID0gb2Zmc2V0XG4gICAgaWYgKHR5cGVvZiBvZmZzZXRUb3AgPT0gJ2Z1bmN0aW9uJykgICAgb2Zmc2V0VG9wICAgID0gb2Zmc2V0LnRvcCh0aGlzLiRlbGVtZW50KVxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0Qm90dG9tID09ICdmdW5jdGlvbicpIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b20odGhpcy4kZWxlbWVudClcblxuICAgIHZhciBhZmZpeCA9IHRoaXMudW5waW4gICAhPSBudWxsICYmIChzY3JvbGxUb3AgKyB0aGlzLnVucGluIDw9IHBvc2l0aW9uLnRvcCkgPyBmYWxzZSA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKHBvc2l0aW9uLnRvcCArIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3AgICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wIDw9IG9mZnNldFRvcCkgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09PSBhZmZpeCkgcmV0dXJuXG4gICAgaWYgKHRoaXMudW5waW4gIT0gbnVsbCkgdGhpcy4kZWxlbWVudC5jc3MoJ3RvcCcsICcnKVxuXG4gICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgIHRoaXMudW5waW4gPSBhZmZpeCA9PSAnYm90dG9tJyA/IHRoaXMuZ2V0UGlubmVkT2Zmc2V0KCkgOiBudWxsXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAuYWRkQ2xhc3MoYWZmaXhUeXBlKVxuICAgICAgLnRyaWdnZXIoJC5FdmVudChhZmZpeFR5cGUucmVwbGFjZSgnYWZmaXgnLCAnYWZmaXhlZCcpKSlcblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20pIGRhdGEub2Zmc2V0LmJvdHRvbSA9IGRhdGEub2Zmc2V0Qm90dG9tXG4gICAgICBpZiAoZGF0YS5vZmZzZXRUb3ApICAgIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWxlcnQuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhbGVydHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBTEVSVCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgZGlzbWlzcyA9ICdbZGF0YS1kaXNtaXNzPVwiYWxlcnRcIl0nXG4gIHZhciBBbGVydCAgID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgJChlbCkub24oJ2NsaWNrJywgZGlzbWlzcywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIEFsZXJ0LlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuaGFzQ2xhc3MoJ2FsZXJ0JykgPyAkdGhpcyA6ICR0aGlzLnBhcmVudCgpXG4gICAgfVxuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5icy5hbGVydCcpKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHBhcmVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIC8vIGRldGFjaCBmcm9tIHBhcmVudCwgZmlyZSBldmVudCB0aGVuIGNsZWFuIHVwIGRhdGFcbiAgICAgICRwYXJlbnQuZGV0YWNoKCkudHJpZ2dlcignY2xvc2VkLmJzLmFsZXJ0JykucmVtb3ZlKClcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgPSBzdGF0ZSArICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgJGVsW3ZhbF0oZGF0YVtzdGF0ZV0gPT0gbnVsbCA/IHRoaXMub3B0aW9uc1tzdGF0ZV0gOiBkYXRhW3N0YXRlXSlcblxuICAgIC8vIHB1c2ggdG8gZXZlbnQgbG9vcCB0byBhbGxvdyBmb3JtcyB0byBzdWJtaXRcbiAgICBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHN0YXRlID09ICdsb2FkaW5nVGV4dCcpIHtcbiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlXG4gICAgICAgICRlbC5hZGRDbGFzcyhkKS5hdHRyKGQsIGQpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZClcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgIGVsc2UgJHBhcmVudC5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpLnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWQpIHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJGJ0biA9ICQoZS50YXJnZXQpXG4gICAgaWYgKCEkYnRuLmhhc0NsYXNzKCdidG4nKSkgJGJ0biA9ICRidG4uY2xvc2VzdCgnLmJ0bicpXG4gICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpLm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPVxuICAgIHRoaXMuc2xpZGluZyAgICAgPVxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPVxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPVxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgJCh0aGlzLiRpdGVtc1twb3NdKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8ICRhY3RpdmVbdHlwZV0oKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciBmYWxsYmFjayAgPSB0eXBlID09ICduZXh0JyA/ICdmaXJzdCcgOiAnbGFzdCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCEkbmV4dC5sZW5ndGgpIHtcbiAgICAgIGlmICghdGhpcy5vcHRpb25zLndyYXApIHJldHVyblxuICAgICAgJG5leHQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtJylbZmFsbGJhY2tdKClcbiAgICB9XG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoJGFjdGl2ZS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nKS5zbGljZSgwLCAtMSkgKiAxMDAwKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB0aGlzLiRwYXJlbnQgPSAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgYWN0aXZlcyA9IHRoaXMuJHBhcmVudCAmJiB0aGlzLiRwYXJlbnQuZmluZCgnPiAucGFuZWwgPiAuaW4nKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIHZhciBoYXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoaGFzRGF0YSAmJiBoYXNEYXRhLnRyYW5zaXRpb25pbmcpIHJldHVyblxuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgaGFzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApW2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFswXVtzY3JvbGxTaXplXSlcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnRyYW5zaXRpb25pbmcgfHwgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSgpKVswXS5vZmZzZXRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgfVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuIGNvbXBsZXRlLmNhbGwodGhpcylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIFtkaW1lbnNpb25dKDApXG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzNTApXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIG9wdGlvbiA9PSAnc2hvdycpIG9wdGlvbiA9ICFvcHRpb25cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgJHRhcmdldCA9ICQodGFyZ2V0KVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcbiAgICB2YXIgcGFyZW50ICA9ICR0aGlzLmF0dHIoJ2RhdGEtcGFyZW50JylcbiAgICB2YXIgJHBhcmVudCA9IHBhcmVudCAmJiAkKHBhcmVudClcblxuICAgIGlmICghZGF0YSB8fCAhZGF0YS50cmFuc2l0aW9uaW5nKSB7XG4gICAgICBpZiAoJHBhcmVudCkgJHBhcmVudC5maW5kKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXBhcmVudD1cIicgKyBwYXJlbnQgKyAnXCJdJykubm90KCR0aGlzKS5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgICR0aGlzWyR0YXJnZXQuaGFzQ2xhc3MoJ2luJykgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oJ2NvbGxhcHNlZCcpXG4gICAgfVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBkcm9wZG93bi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Ryb3Bkb3duc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERST1BET1dOIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBiYWNrZHJvcCA9ICcuZHJvcGRvd24tYmFja2Ryb3AnXG4gIHZhciB0b2dnbGUgICA9ICdbZGF0YS10b2dnbGU9XCJkcm9wZG93blwiXSdcbiAgdmFyIERyb3Bkb3duID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAkKGVsZW1lbnQpLm9uKCdjbGljay5icy5kcm9wZG93bicsIHRoaXMudG9nZ2xlKVxuICB9XG5cbiAgRHJvcGRvd24uVkVSU0lPTiA9ICczLjIuMCdcblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKCc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tYmFja2Ryb3BcIi8+JykuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSkub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuXG4gICAgICAkcGFyZW50XG4gICAgICAgIC50b2dnbGVDbGFzcygnb3BlbicpXG4gICAgICAgIC50cmlnZ2VyKCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCEvKDM4fDQwfDI3KS8udGVzdChlLmtleUNvZGUpKSByZXR1cm5cblxuICAgIHZhciAkdGhpcyA9ICQodGhpcylcblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGlmICgkdGhpcy5pcygnLmRpc2FibGVkLCA6ZGlzYWJsZWQnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHBhcmVudCAgPSBnZXRQYXJlbnQoJHRoaXMpXG4gICAgdmFyIGlzQWN0aXZlID0gJHBhcmVudC5oYXNDbGFzcygnb3BlbicpXG5cbiAgICBpZiAoIWlzQWN0aXZlIHx8IChpc0FjdGl2ZSAmJiBlLmtleUNvZGUgPT0gMjcpKSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXZpZGVyKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnW3JvbGU9XCJtZW51XCJdJyArIGRlc2MgKyAnLCBbcm9sZT1cImxpc3Rib3hcIl0nICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoJGl0ZW1zLmZpbHRlcignOmZvY3VzJykpXG5cbiAgICBpZiAoZS5rZXlDb2RlID09IDM4ICYmIGluZGV4ID4gMCkgICAgICAgICAgICAgICAgIGluZGV4LS0gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cFxuICAgIGlmIChlLmtleUNvZGUgPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuICBmdW5jdGlvbiBjbGVhck1lbnVzKGUpIHtcbiAgICBpZiAoZSAmJiBlLndoaWNoID09PSAzKSByZXR1cm5cbiAgICAkKGJhY2tkcm9wKS5yZW1vdmUoKVxuICAgICQodG9nZ2xlKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkcGFyZW50ID0gZ2V0UGFyZW50KCQodGhpcykpXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYXJlbnQoJHRoaXMpIHtcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiAvI1tBLVphLXpdLy50ZXN0KHNlbGVjdG9yKSAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gc2VsZWN0b3IgJiYgJChzZWxlY3RvcilcblxuICAgIHJldHVybiAkcGFyZW50ICYmICRwYXJlbnQubGVuZ3RoID8gJHBhcmVudCA6ICR0aGlzLnBhcmVudCgpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUgKyAnLCBbcm9sZT1cIm1lbnVcIl0sIFtyb2xlPVwibGlzdGJveFwiXScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjIuMCdcblxuICBUYWIucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzICAgID0gdGhpcy5lbGVtZW50XG4gICAgdmFyICR1bCAgICAgID0gJHRoaXMuY2xvc2VzdCgndWw6bm90KC5kcm9wZG93bi1tZW51KScpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuZGF0YSgndGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgaWYgKCR0aGlzLnBhcmVudCgnbGknKS5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVyblxuXG4gICAgdmFyIHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylbMF1cbiAgICB2YXIgZSAgICAgICAgPSAkLkV2ZW50KCdzaG93LmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHByZXZpb3VzXG4gICAgfSlcblxuICAgICR0aGlzLnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgJGFjdGl2ZS5oYXNDbGFzcygnZmFkZScpXG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5maW5kKCc+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyByZWZsb3cgZm9yIHRyYW5zaXRpb25cbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcygnaW4nKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnZmFkZScpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKSkge1xuICAgICAgICBlbGVtZW50LmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0cmFuc2l0aW9uID9cbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgbmV4dClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogc2Nyb2xsc3B5LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jc2Nyb2xsc3B5XG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU0NST0xMU1BZIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBTY3JvbGxTcHkoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9jZXNzICA9ICQucHJveHkodGhpcy5wcm9jZXNzLCB0aGlzKVxuXG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoJ2JvZHknKVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKCdib2R5JykgPyAkKHdpbmRvdykgOiAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9ICQuZXh0ZW5kKHt9LCBTY3JvbGxTcHkuREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5zZWxlY3RvciAgICAgICA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0IHx8ICcnKSArICcgLm5hdiBsaSA+IGEnXG4gICAgdGhpcy5vZmZzZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy50YXJnZXRzICAgICAgICA9IFtdXG4gICAgdGhpcy5hY3RpdmVUYXJnZXQgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbEhlaWdodCAgID0gMFxuXG4gICAgdGhpcy4kc2Nyb2xsRWxlbWVudC5vbignc2Nyb2xsLmJzLnNjcm9sbHNweScsIHByb2Nlc3MpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9mZnNldE1ldGhvZCA9ICdvZmZzZXQnXG4gICAgdmFyIG9mZnNldEJhc2UgICA9IDBcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMub2Zmc2V0cyA9IFtdXG4gICAgdGhpcy50YXJnZXRzID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIHZhciBzZWxmICAgICA9IHRoaXNcblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgc2VsZi50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0c1swXSkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbMF0pICYmIHRoaXMuYWN0aXZhdGUoaSlcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKCFvZmZzZXRzW2kgKyAxXSB8fCBzY3JvbGxUb3AgPD0gb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgICAnW2RhdGEtdGFyZ2V0PVwiJyArIHRhcmdldCArICdcIl0sJyArXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgID1cbiAgICB0aGlzLmlzU2hvd24gICAgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSAwXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdpbicpXG4gICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXG5cbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvd24uYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICB0aGF0LiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKSAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5yZXNldFNjcm9sbGJhcigpXG4gICAgdGhpcy5lc2NhcGUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSlcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgzMDApIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5dXAuZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoJzxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSArICdcIiAvPicpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cy5jYWxsKHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICAgICAgOiB0aGlzLmhpZGUuY2FsbCh0aGlzKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPj0gd2luZG93LmlubmVyV2lkdGgpIHJldHVyblxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnNjcm9sbGJhcldpZHRoIHx8IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIGlmICh0aGlzLnNjcm9sbGJhcldpZHRoKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgJycpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRvb2x0aXAuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0b29sdGlwXG4gKiBJbnNwaXJlZCBieSB0aGUgb3JpZ2luYWwgalF1ZXJ5LnRpcHN5IGJ5IEphc29uIEZyYW1lXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVE9PTFRJUCBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRvb2x0aXAgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSAgICAgICA9XG4gICAgdGhpcy5vcHRpb25zICAgID1cbiAgICB0aGlzLmVuYWJsZWQgICAgPVxuICAgIHRoaXMudGltZW91dCAgICA9XG4gICAgdGhpcy5ob3ZlclN0YXRlID1cbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KVxuXG4gICAgdmFyIHRyaWdnZXJzID0gdGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoJyAnKVxuXG4gICAgZm9yICh2YXIgaSA9IHRyaWdnZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgdmFyIHRyaWdnZXIgPSB0cmlnZ2Vyc1tpXVxuXG4gICAgICBpZiAodHJpZ2dlciA9PSAnY2xpY2snKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLnRvZ2dsZSwgdGhpcykpXG4gICAgICB9IGVsc2UgaWYgKHRyaWdnZXIgIT0gJ21hbnVhbCcpIHtcbiAgICAgICAgdmFyIGV2ZW50SW4gID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlZW50ZXInIDogJ2ZvY3VzaW4nXG4gICAgICAgIHZhciBldmVudE91dCA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWxlYXZlJyA6ICdmb2N1c291dCdcblxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50SW4gICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5lbnRlciwgdGhpcykpXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRPdXQgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmxlYXZlLCB0aGlzKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3IgP1xuICAgICAgKHRoaXMuX29wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5vcHRpb25zLCB7IHRyaWdnZXI6ICdtYW51YWwnLCBzZWxlY3RvcjogJycgfSkpIDpcbiAgICAgIHRoaXMuZml4VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRvb2x0aXAuREVGQVVMVFNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgdGhpcy5nZXREZWZhdWx0cygpLCB0aGlzLiRlbGVtZW50LmRhdGEoKSwgb3B0aW9ucylcblxuICAgIGlmIChvcHRpb25zLmRlbGF5ICYmIHR5cGVvZiBvcHRpb25zLmRlbGF5ID09ICdudW1iZXInKSB7XG4gICAgICBvcHRpb25zLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBvcHRpb25zLmRlbGF5LFxuICAgICAgICBoaWRlOiBvcHRpb25zLmRlbGF5XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlbGVnYXRlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyAgPSB7fVxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoKVxuXG4gICAgdGhpcy5fb3B0aW9ucyAmJiAkLmVhY2godGhpcy5fb3B0aW9ucywgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChkZWZhdWx0c1trZXldICE9IHZhbHVlKSBvcHRpb25zW2tleV0gPSB2YWx1ZVxuICAgIH0pXG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmxlYXZlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnb3V0J1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5oaWRlKSByZXR1cm4gc2VsZi5oaWRlKClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnb3V0Jykgc2VsZi5oaWRlKClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93LmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAodGhpcy5oYXNDb250ZW50KCkgJiYgdGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgdmFyIGluRG9tID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyICRwYXJlbnQgICAgICA9IHRoaXMuJGVsZW1lbnQucGFyZW50KClcbiAgICAgICAgdmFyIHBhcmVudERpbSAgICA9IHRoaXMuZ2V0UG9zaXRpb24oJHBhcmVudClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLnRvcCAgICsgcG9zLmhlaWdodCAgICAgICArIGFjdHVhbEhlaWdodCAtIHBhcmVudERpbS5zY3JvbGwgPiBwYXJlbnREaW0uaGVpZ2h0ID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgIC0gcGFyZW50RGltLnNjcm9sbCAtIGFjdHVhbEhlaWdodCA8IDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAgJiYgcG9zLnJpZ2h0ICsgYWN0dWFsV2lkdGggICAgICA+IHBhcmVudERpbS53aWR0aCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgIC0gYWN0dWFsV2lkdGggICAgICA8IHBhcmVudERpbS5sZWZ0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgICB0aGF0LmhvdmVyU3RhdGUgPSBudWxsXG4gICAgICB9XG5cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgICAgY29tcGxldGUoKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50ID0gZnVuY3Rpb24gKG9mZnNldCwgcGxhY2VtZW50KSB7XG4gICAgdmFyICR0aXAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgd2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBoZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgLy8gbWFudWFsbHkgcmVhZCBtYXJnaW5zIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGluY2x1ZGVzIGRpZmZlcmVuY2VcbiAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi10b3AnKSwgMTApXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLWxlZnQnKSwgMTApXG5cbiAgICAvLyB3ZSBtdXN0IGNoZWNrIGZvciBOYU4gZm9yIGllIDgvOVxuICAgIGlmIChpc05hTihtYXJnaW5Ub3ApKSAgbWFyZ2luVG9wICA9IDBcbiAgICBpZiAoaXNOYU4obWFyZ2luTGVmdCkpIG1hcmdpbkxlZnQgPSAwXG5cbiAgICBvZmZzZXQudG9wICA9IG9mZnNldC50b3AgICsgbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgPSBvZmZzZXQubGVmdCArIG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gZGVsdGEubGVmdCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dQb3NpdGlvbiAgICAgICA9IGRlbHRhLmxlZnQgPyAnbGVmdCcgICAgICAgIDogJ3RvcCdcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGRlbHRhLmxlZnQgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBhcnJvd1Bvc2l0aW9uKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIHBvc2l0aW9uKSB7XG4gICAgdGhpcy5hcnJvdygpLmNzcyhwb3NpdGlvbiwgZGVsdGEgPyAoNTAgKiAoMSAtIGRlbHRhIC8gZGltZW5zaW9uKSArICclJykgOiAnJylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSA9IHRoaXMuZ2V0VGl0bGUoKVxuXG4gICAgJHRpcC5maW5kKCcudG9vbHRpcC1pbm5lcicpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCcpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JylcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgaWYgKHRoYXQuaG92ZXJTdGF0ZSAhPSAnaW4nKSAkdGlwLmRldGFjaCgpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgKCRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSkgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgKHR5cGVvZiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgPT0gJ2Z1bmN0aW9uJykgPyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIHtcbiAgICAgIHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpLFxuICAgICAgd2lkdGg6ICBpc0JvZHkgPyAkKHdpbmRvdykud2lkdGgoKSAgOiAkZWxlbWVudC5vdXRlcldpZHRoKCksXG4gICAgICBoZWlnaHQ6IGlzQm9keSA/ICQod2luZG93KS5oZWlnaHQoKSA6ICRlbGVtZW50Lm91dGVySGVpZ2h0KClcbiAgICB9LCBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogJGVsZW1lbnQub2Zmc2V0KCkpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAgIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiR0aXAgPSB0aGlzLiR0aXAgfHwgJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudFswXS5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmhpZGUoKVxuICAgICAgdGhpcy4kZWxlbWVudCA9IG51bGxcbiAgICAgIHRoaXMub3B0aW9ucyAgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZSgpLiRlbGVtZW50Lm9mZignLicgKyB0aGlzLnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gIH1cblxuXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbiA9PSAnZGVzdHJveScpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMi4wJ1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuZW1wdHkoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cblxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cblxuLypcbiAqIGFuZ3VsYXItdWktYm9vdHN0cmFwXG4gKiBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vYm9vdHN0cmFwL1xuXG4gKiBWZXJzaW9uOiAwLjEzLjQgLSAyMDE1LTA5LTAzXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXBcIiwgW1widWkuYm9vdHN0cmFwLnRwbHNcIiwgXCJ1aS5ib290c3RyYXAuY29sbGFwc2VcIixcInVpLmJvb3RzdHJhcC5hY2NvcmRpb25cIixcInVpLmJvb3RzdHJhcC5hbGVydFwiLFwidWkuYm9vdHN0cmFwLmJpbmRIdG1sXCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLnBvc2l0aW9uXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAubW9kYWxcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHJhbnNpdGlvblwiLFwidWkuYm9vdHN0cmFwLnR5cGVhaGVhZFwiXSk7XG5hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcC50cGxzXCIsIFtcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sXCIsXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ2NvbGxhcHNlJywgWyckYW5pbWF0ZScsIGZ1bmN0aW9uKCRhbmltYXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBmdW5jdGlvbiBleHBhbmQoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcblxuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgIHRvOiB7IGhlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnIH1cbiAgICAgICAgICB9KS50aGVuKGV4cGFuZERvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kRG9uZSgpIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJyk7XG4gICAgICAgICAgZWxlbWVudC5jc3Moe2hlaWdodDogJ2F1dG8nfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb2xsYXBzZSgpIHtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ2NvbGxhcHNlJykgJiYgIWVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xsYXBzZURvbmUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAvLyBJTVBPUlRBTlQ6IFRoZSBoZWlnaHQgbXVzdCBiZSBzZXQgYmVmb3JlIGFkZGluZyBcImNvbGxhcHNpbmdcIiBjbGFzcy5cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhlIGJyb3dzZXIgYXR0ZW1wdHMgdG8gYW5pbWF0ZSBmcm9tIGhlaWdodCAwIChpblxuICAgICAgICAgICAgLy8gY29sbGFwc2luZyBjbGFzcykgdG8gdGhlIGdpdmVuIGhlaWdodCBoZXJlLlxuICAgICAgICAgICAgLmNzcyh7aGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCd9KVxuICAgICAgICAgICAgLy8gaW5pdGlhbGx5IGFsbCBwYW5lbCBjb2xsYXBzZSBoYXZlIHRoZSBjb2xsYXBzZSBjbGFzcywgdGhpcyByZW1vdmFsXG4gICAgICAgICAgICAvLyBwcmV2ZW50cyB0aGUgYW5pbWF0aW9uIGZyb20ganVtcGluZyB0byBjb2xsYXBzZWQgc3RhdGVcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgIHRvOiB7aGVpZ2h0OiAnMCd9XG4gICAgICAgICAgfSkudGhlbihjb2xsYXBzZURvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VEb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICcwJ30pOyAvLyBSZXF1aXJlZCBzbyB0aGF0IGNvbGxhcHNlIHdvcmtzIHdoZW4gYW5pbWF0aW9uIGlzIGRpc2FibGVkXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMuY29sbGFwc2UsIGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgICBjb2xsYXBzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBhbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKVxuXG4uY29uc3RhbnQoJ2FjY29yZGlvbkNvbmZpZycsIHtcbiAgY2xvc2VPdGhlcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ2FjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBhY2NvcmRpb25Db25maWcpIHtcbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xuICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xuICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7XG4gICAgdmFyIGNsb3NlT3RoZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKSA/XG4gICAgICAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztcbiAgICBpZiAoY2xvc2VPdGhlcnMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwICE9PSBvcGVuR3JvdXApIHtcbiAgICAgICAgICBncm91cC5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgdG8gYWRkIGl0c2VsZiB0byB0aGUgYWNjb3JkaW9uXG4gIHRoaXMuYWRkR3JvdXAgPSBmdW5jdGlvbihncm91cFNjb3BlKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZ3JvdXBzLnB1c2goZ3JvdXBTY29wZSk7XG5cbiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHdoZW4gdG8gcmVtb3ZlIGl0c2VsZlxuICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfTtcblxufV0pXG5cbi8vIFRoZSBhY2NvcmRpb24gZGlyZWN0aXZlIHNpbXBseSBzZXRzIHVwIHRoZSBkaXJlY3RpdmUgY29udHJvbGxlclxuLy8gYW5kIGFkZHMgYW4gYWNjb3JkaW9uIENTUyBjbGFzcyB0byBpdHNlbGYgZWxlbWVudC5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIGNvbnRyb2xsZXI6ICdBY2NvcmRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdhY2NvcmRpb24nLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogZmFsc2UsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbCc7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgaW5kaWNhdGVzIGEgYmxvY2sgb2YgaHRtbCB0aGF0IHdpbGwgZXhwYW5kIGFuZCBjb2xsYXBzZSBpbiBhbiBhY2NvcmRpb25cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkdyb3VwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb24nLCAgICAgICAgIC8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgdG8gYmUgaW5zaWRlIGFuIGFjY29yZGlvblxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsICAgICAgICAgICAgICAvLyBJdCB0cmFuc2NsdWRlcyB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSBpbnRvIHRoZSB0ZW1wbGF0ZVxuICAgIHJlcGxhY2U6IHRydWUsICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIHRlbXBsYXRlXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaGVhZGluZzogJ0AnLCAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRoZSBoZWFkaW5nIGF0dHJpYnV0ZSBvbnRvIHRoaXMgc2NvcGVcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGlzRGlzYWJsZWQ6ICc9PydcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRIZWFkaW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSBlbGVtZW50O1xuICAgICAgfTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWNjb3JkaW9uQ3RybCkge1xuICAgICAgYWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSk7XG5cbiAgICAgIHNjb3BlLm9wZW5DbGFzcyA9IGF0dHJzLm9wZW5DbGFzcyB8fCAncGFuZWwtb3Blbic7XG4gICAgICBzY29wZS5wYW5lbENsYXNzID0gYXR0cnMucGFuZWxDbGFzcztcbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhzY29wZS5vcGVuQ2xhc3MsIHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICghc2NvcGUuaXNEaXNhYmxlZCkge1xuICAgICAgICAgIGlmICghJGV2ZW50IHx8ICRldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9ICFzY29wZS5pc09wZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBhY2NvcmRpb24taGVhZGluZyBiZWxvdyBhbiBhY2NvcmRpb24tZ3JvdXAgdG8gcHJvdmlkZSBhIGhlYWRpbmcgY29udGFpbmluZyBIVE1MXG4vLyA8YWNjb3JkaW9uLWdyb3VwPlxuLy8gICA8YWNjb3JkaW9uLWhlYWRpbmc+SGVhZGluZyBjb250YWluaW5nIEhUTUwgLSA8aW1nIHNyYz1cIi4uLlwiPjwvYWNjb3JkaW9uLWhlYWRpbmc+XG4vLyA8L2FjY29yZGlvbi1ncm91cD5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvbkhlYWRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIHRvIGJlIHVzZWQgYXMgdGhlIGhlYWRpbmdcbiAgICB0ZW1wbGF0ZTogJycsICAgICAgIC8vIEluIGVmZmVjdCByZW1vdmUgdGhpcyBlbGVtZW50IVxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGFjY29yZGlvbkdyb3VwQ3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgLy8gUGFzcyB0aGUgaGVhZGluZyB0byB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXJcbiAgICAgIC8vIHNvIHRoYXQgaXQgY2FuIGJlIHRyYW5zY2x1ZGVkIGludG8gdGhlIHJpZ2h0IHBsYWNlIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgLy8gW1RoZSBzZWNvbmQgcGFyYW1ldGVyIHRvIHRyYW5zY2x1ZGUgY2F1c2VzIHRoZSBlbGVtZW50cyB0byBiZSBjbG9uZWQgc28gdGhhdCB0aGV5IHdvcmsgaW4gbmctcmVwZWF0XVxuICAgICAgYWNjb3JkaW9uR3JvdXBDdHJsLnNldEhlYWRpbmcodHJhbnNjbHVkZShzY29wZSwgYW5ndWxhci5ub29wKSk7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGluIHRoZSBhY2NvcmRpb24tZ3JvdXAgdGVtcGxhdGUgdG8gaW5kaWNhdGUgd2hlcmUgeW91IHdhbnQgdGhlIGhlYWRpbmcgdG8gYmUgdHJhbnNjbHVkZWRcbi8vIFlvdSBtdXN0IHByb3ZpZGUgdGhlIHByb3BlcnR5IG9uIHRoZSBhY2NvcmRpb24tZ3JvdXAgY29udHJvbGxlciB0aGF0IHdpbGwgaG9sZCB0aGUgdHJhbnNjbHVkZWQgZWxlbWVudFxuLy8gPGRpdiBjbGFzcz1cImFjY29yZGlvbi1ncm91cFwiPlxuLy8gICA8ZGl2IGNsYXNzPVwiYWNjb3JkaW9uLWhlYWRpbmdcIiA+PGEgLi4uIGFjY29yZGlvbi10cmFuc2NsdWRlPVwiaGVhZGluZ1wiPi4uLjwvYT48L2Rpdj5cbi8vICAgLi4uXG4vLyA8L2Rpdj5cbi5kaXJlY3RpdmUoJ2FjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXmFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY29udHJvbGxlcikge1xuICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udHJvbGxlclthdHRyLmFjY29yZGlvblRyYW5zY2x1ZGVdOyB9LCBmdW5jdGlvbihoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuaHRtbCgnJyk7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdzcGFuJykuYXBwZW5kKGhlYWRpbmcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWxlcnQnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ0FsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XG4gICRzY29wZS5jbG9zZWFibGUgPSAhISRhdHRycy5jbG9zZTtcbiAgdGhpcy5jbG9zZSA9ICRzY29wZS5jbG9zZTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdhbGVydCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICdBbGVydENvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2FsZXJ0JyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCc7XG4gICAgfSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHR5cGU6ICdAJyxcbiAgICAgIGNsb3NlOiAnJidcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkaXNtaXNzT25UaW1lb3V0JywgWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ2FsZXJ0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFsZXJ0Q3RybCkge1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFsZXJ0Q3RybC5jbG9zZSgpO1xuICAgICAgfSwgcGFyc2VJbnQoYXR0cnMuZGlzbWlzc09uVGltZW91dCwgMTApKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYmluZEh0bWwnLCBbXSlcblxuICAudmFsdWUoJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuXG4gIC5kaXJlY3RpdmUoJ2JpbmRIdG1sVW5zYWZlJywgWyckbG9nJywgJyRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsIGZ1bmN0aW9uICgkbG9nLCAkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBpZiAoISRiaW5kSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICAgICAkbG9nLndhcm4oJ2JpbmRIdG1sVW5zYWZlIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgbmdCaW5kSHRtbCBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCduZy1iaW5kaW5nJykuZGF0YSgnJGJpbmRpbmcnLCBhdHRyLmJpbmRIdG1sVW5zYWZlKTtcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLmJpbmRIdG1sVW5zYWZlLCBmdW5jdGlvbiBiaW5kSHRtbFVuc2FmZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJ1dHRvbnMnLCBbXSlcblxuLmNvbnN0YW50KCdidXR0b25Db25maWcnLCB7XG4gIGFjdGl2ZUNsYXNzOiAnYWN0aXZlJyxcbiAgdG9nZ2xlRXZlbnQ6ICdjbGljaydcbn0pXG5cbi5jb250cm9sbGVyKCdCdXR0b25zQ29udHJvbGxlcicsIFsnYnV0dG9uQ29uZmlnJywgZnVuY3Rpb24oYnV0dG9uQ29uZmlnKSB7XG4gIHRoaXMuYWN0aXZlQ2xhc3MgPSBidXR0b25Db25maWcuYWN0aXZlQ2xhc3MgfHwgJ2FjdGl2ZSc7XG4gIHRoaXMudG9nZ2xlRXZlbnQgPSBidXR0b25Db25maWcudG9nZ2xlRXZlbnQgfHwgJ2NsaWNrJztcbn1dKVxuXG4uZGlyZWN0aXZlKCdidG5SYWRpbycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuUmFkaW8nLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9ucycsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuXG4gICAgICAvL21vZGVsIC0+IFVJXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBzY29wZS4kZXZhbChhdHRycy5idG5SYWRpbykpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50LmJpbmQoYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgICBpZiAoIWlzQWN0aXZlIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYnRuQ2hlY2tib3gnLCBbJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRkb2N1bWVudCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsnYnRuQ2hlY2tib3gnLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9uJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRydWVWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZVZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbCA9IHNjb3BlLiRldmFsKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIGdldFRydWVWYWx1ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvL2FjY2Vzc2liaWxpdHlcbiAgICAgIGVsZW1lbnQub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQgfHwgZS53aGljaCAhPT0gMzIgfHwgJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgIT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKSA/IGdldEZhbHNlVmFsdWUoKSA6IGdldFRydWVWYWx1ZSgpKTtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiogQG5nZG9jIG92ZXJ2aWV3XG4qIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbFxuKlxuKiBAZGVzY3JpcHRpb25cbiogQW5ndWxhckpTIHZlcnNpb24gb2YgYW4gaW1hZ2UgY2Fyb3VzZWwuXG4qXG4qL1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jYXJvdXNlbCcsIFtdKVxuLmNvbnRyb2xsZXIoJ0Nhcm91c2VsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRpbnRlcnZhbCcsICckYW5pbWF0ZScsIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkaW50ZXJ2YWwsICRhbmltYXRlKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzbGlkZXMgPSBzZWxmLnNsaWRlcyA9ICRzY29wZS5zbGlkZXMgPSBbXSxcbiAgICBORVdfQU5JTUFURSA9IGFuZ3VsYXIudmVyc2lvbi5taW5vciA+PSA0LFxuICAgIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgY3VycmVudEluZGV4ID0gLTEsXG4gICAgY3VycmVudEludGVydmFsLCBpc1BsYXlpbmc7XG4gIHNlbGYuY3VycmVudFNsaWRlID0gbnVsbDtcblxuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIC8qIGRpcmVjdGlvbjogXCJwcmV2XCIgb3IgXCJuZXh0XCIgKi9cbiAgc2VsZi5zZWxlY3QgPSAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24obmV4dFNsaWRlLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV4dEluZGV4ID0gJHNjb3BlLmluZGV4T2ZTbGlkZShuZXh0U2xpZGUpO1xuICAgIC8vRGVjaWRlIGRpcmVjdGlvbiBpZiBpdCdzIG5vdCBnaXZlblxuICAgIGlmIChkaXJlY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGlyZWN0aW9uID0gbmV4dEluZGV4ID4gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSA/ICduZXh0JyA6ICdwcmV2JztcbiAgICB9XG4gICAgLy9QcmV2ZW50IHRoaXMgdXNlci10cmlnZ2VyZWQgdHJhbnNpdGlvbiBmcm9tIG9jY3VycmluZyBpZiB0aGVyZSBpcyBhbHJlYWR5IG9uZSBpbiBwcm9ncmVzc1xuICAgIGlmIChuZXh0U2xpZGUgJiYgbmV4dFNsaWRlICE9PSBzZWxmLmN1cnJlbnRTbGlkZSAmJiAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikge1xuICAgICAgZ29OZXh0KG5leHRTbGlkZSwgbmV4dEluZGV4LCBkaXJlY3Rpb24pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnb05leHQoc2xpZGUsIGluZGV4LCBkaXJlY3Rpb24pIHtcbiAgICAvLyBTY29wZSBoYXMgYmVlbiBkZXN0cm95ZWQsIHN0b3AgaGVyZS5cbiAgICBpZiAoZGVzdHJveWVkKSB7IHJldHVybjsgfVxuXG4gICAgYW5ndWxhci5leHRlbmQoc2xpZGUsIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiB0cnVlfSk7XG4gICAgYW5ndWxhci5leHRlbmQoc2VsZi5jdXJyZW50U2xpZGUgfHwge30sIHtkaXJlY3Rpb246IGRpcmVjdGlvbiwgYWN0aXZlOiBmYWxzZX0pO1xuICAgIGlmICgkYW5pbWF0ZS5lbmFibGVkKCkgJiYgISRzY29wZS5ub1RyYW5zaXRpb24gJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gJiZcbiAgICAgIHNsaWRlLiRlbGVtZW50ICYmIHNlbGYuc2xpZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xuICAgICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIHNlbGYuY3VycmVudFNsaWRlLiRlbGVtZW50KSB7XG4gICAgICAgIHNlbGYuY3VycmVudFNsaWRlLiRlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OLCBzbGlkZS5kaXJlY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gdHJ1ZTtcbiAgICAgIGlmIChORVdfQU5JTUFURSkge1xuICAgICAgICAkYW5pbWF0ZS5vbignYWRkQ2xhc3MnLCBzbGlkZS4kZWxlbWVudCwgZnVuY3Rpb24gKGVsZW1lbnQsIHBoYXNlKSB7XG4gICAgICAgICAgaWYgKHBoYXNlID09PSAnY2xvc2UnKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICRhbmltYXRlLm9mZignYWRkQ2xhc3MnLCBlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGUuJGVsZW1lbnQub25lKCckYW5pbWF0ZTpjbG9zZScsIGZ1bmN0aW9uIGNsb3NlRm4oKSB7XG4gICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNlbGYuY3VycmVudFNsaWRlID0gc2xpZGU7XG4gICAgY3VycmVudEluZGV4ID0gaW5kZXg7XG5cbiAgICAvL2V2ZXJ5IHRpbWUgeW91IGNoYW5nZSBzbGlkZXMsIHJlc2V0IHRoZSB0aW1lclxuICAgIHJlc3RhcnRUaW1lcigpO1xuICB9XG5cbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVCeUluZGV4KGluZGV4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoc2xpZGVzW2luZGV4XS5pbmRleCkpIHtcbiAgICAgIHJldHVybiBzbGlkZXNbaW5kZXhdO1xuICAgIH1cbiAgICB2YXIgaSwgbGVuID0gc2xpZGVzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoc2xpZGVzW2ldLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBzbGlkZXNbaV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2VsZi5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi5jdXJyZW50U2xpZGUgJiYgYW5ndWxhci5pc0RlZmluZWQoc2VsZi5jdXJyZW50U2xpZGUuaW5kZXgpKSB7XG4gICAgICByZXR1cm4gK3NlbGYuY3VycmVudFNsaWRlLmluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEluZGV4O1xuICB9O1xuXG4gIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi9cbiAgJHNjb3BlLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKHNsaWRlLmluZGV4KSA/ICtzbGlkZS5pbmRleCA6IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgfTtcblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IChzZWxmLmdldEN1cnJlbnRJbmRleCgpICsgMSkgJSBzbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKG5ld0luZGV4ID09PSAwICYmICRzY29wZS5ub1dyYXAoKSkge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICduZXh0Jyk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMSA8IDAgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgLSAxO1xuXG4gICAgaWYgKCRzY29wZS5ub1dyYXAoKSAmJiBuZXdJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpe1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KGdldFNsaWRlQnlJbmRleChuZXdJbmRleCksICdwcmV2Jyk7XG4gIH07XG5cbiAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgcmV0dXJuIHNlbGYuY3VycmVudFNsaWRlID09PSBzbGlkZTtcbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdpbnRlcnZhbCcsIHJlc3RhcnRUaW1lcik7XG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgcmVzZXRUaW1lcik7XG5cbiAgZnVuY3Rpb24gcmVzdGFydFRpbWVyKCkge1xuICAgIHJlc2V0VGltZXIoKTtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmICghaXNOYU4oaW50ZXJ2YWwpICYmIGludGVydmFsID4gMCkge1xuICAgICAgY3VycmVudEludGVydmFsID0gJGludGVydmFsKHRpbWVyRm4sIGludGVydmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRpbWVyKCkge1xuICAgIGlmIChjdXJyZW50SW50ZXJ2YWwpIHtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwoY3VycmVudEludGVydmFsKTtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJGbigpIHtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmIChpc1BsYXlpbmcgJiYgIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDAgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgJHNjb3BlLm5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgJHNjb3BlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWlzUGxheWluZykge1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xuICAgIH1cbiAgfTtcbiAgJHNjb3BlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9QYXVzZSkge1xuICAgICAgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICByZXNldFRpbWVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYuYWRkU2xpZGUgPSBmdW5jdGlvbihzbGlkZSwgZWxlbWVudCkge1xuICAgIHNsaWRlLiRlbGVtZW50ID0gZWxlbWVudDtcbiAgICBzbGlkZXMucHVzaChzbGlkZSk7XG4gICAgLy9pZiB0aGlzIGlzIHRoZSBmaXJzdCBzbGlkZSBvciB0aGUgc2xpZGUgaXMgc2V0IHRvIGFjdGl2ZSwgc2VsZWN0IGl0XG4gICAgaWYoc2xpZGVzLmxlbmd0aCA9PT0gMSB8fCBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdKTtcbiAgICAgIGlmIChzbGlkZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgJHNjb3BlLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2xpZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkpIHtcbiAgICAgIHNsaWRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuICthLmluZGV4ID4gK2IuaW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsXG4gICAgdmFyIGluZGV4ID0gc2xpZGVzLmluZGV4T2Yoc2xpZGUpO1xuICAgIHNsaWRlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIGlmIChzbGlkZXMubGVuZ3RoID4gMCAmJiBzbGlkZS5hY3RpdmUpIHtcbiAgICAgIGlmIChpbmRleCA+PSBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleC0xXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRJbmRleCA+IGluZGV4KSB7XG4gICAgICBjdXJyZW50SW5kZXgtLTtcbiAgICB9XG4gICAgXG4gICAgLy9jbGVhbiB0aGUgY3VycmVudFNsaWRlIHdoZW4gbm8gbW9yZSBzbGlkZVxuICAgIGlmIChzbGlkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ25vVHJhbnNpdGlvbicsIGZ1bmN0aW9uKG5vVHJhbnNpdGlvbikge1xuICAgICRlbGVtZW50LmRhdGEoTk9fVFJBTlNJVElPTiwgbm9UcmFuc2l0aW9uKTtcbiAgfSk7XG5cbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWxcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ2Fyb3VzZWwgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgYSBzZXQgb2YgaW1hZ2UgJ3NsaWRlcycgdG8gc2hvd2Nhc2UuXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBpbnRlcnZhbCBUaGUgdGltZSwgaW4gbWlsbGlzZWNvbmRzLCB0aGF0IGl0IHdpbGwgdGFrZSB0aGUgY2Fyb3VzZWwgdG8gZ28gdG8gdGhlIG5leHQgc2xpZGUuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1RyYW5zaXRpb24gV2hldGhlciB0byBkaXNhYmxlIHRyYW5zaXRpb25zIG9uIHRoZSBjYXJvdXNlbC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG5vUGF1c2UgV2hldGhlciB0byBkaXNhYmxlIHBhdXNpbmcgb24gdGhlIGNhcm91c2VsIChieSBkZWZhdWx0LCB0aGUgY2Fyb3VzZWwgaW50ZXJ2YWwgcGF1c2VzIG9uIGhvdmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPGNhcm91c2VsPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTUwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+QmVhdXRpZnVsITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgICAgPHNsaWRlPlxuICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9wbGFjZWtpdHRlbi5jb20vMTAwLzE1MFwiIHN0eWxlPVwibWFyZ2luOmF1dG87XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgICAgPHA+RCdhd3chPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvc2xpZGU+XG4gICAgPC9jYXJvdXNlbD5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ2Nhcm91c2VsJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnQ2Fyb3VzZWxDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdjYXJvdXNlbCcsXG4gICAgcmVxdWlyZTogJ2Nhcm91c2VsJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaW50ZXJ2YWw6ICc9JyxcbiAgICAgIG5vVHJhbnNpdGlvbjogJz0nLFxuICAgICAgbm9QYXVzZTogJz0nLFxuICAgICAgbm9XcmFwOiAnJidcbiAgICB9XG4gIH07XG59XSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOnNsaWRlXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSBzbGlkZSBpbnNpZGUgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpjYXJvdXNlbCBjYXJvdXNlbH0uICBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgY2Fyb3VzZWwgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBhY3RpdmUgTW9kZWwgYmluZGluZywgd2hldGhlciBvciBub3QgdGhpcyBzbGlkZSBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICogQHBhcmFtIHtudW1iZXI9fSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIHNsaWRlLiBUaGUgc2xpZGVzIHdpbGwgYmUgc29ydGVkIGJ5IHRoaXMgcGFyYW1ldGVyLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbjxkaXYgbmctY29udHJvbGxlcj1cIkNhcm91c2VsRGVtb0N0cmxcIj5cbiAgPGNhcm91c2VsPlxuICAgIDxzbGlkZSBuZy1yZXBlYXQ9XCJzbGlkZSBpbiBzbGlkZXNcIiBhY3RpdmU9XCJzbGlkZS5hY3RpdmVcIiBpbmRleD1cIiRpbmRleFwiPlxuICAgICAgPGltZyBuZy1zcmM9XCJ7e3NsaWRlLmltYWdlfX1cIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImNhcm91c2VsLWNhcHRpb25cIj5cbiAgICAgICAgPGg0PlNsaWRlIHt7JGluZGV4fX08L2g0PlxuICAgICAgICA8cD57e3NsaWRlLnRleHR9fTwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2xpZGU+XG4gIDwvY2Fyb3VzZWw+XG4gIEludGVydmFsLCBpbiBtaWxsaXNlY29uZHM6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJteUludGVydmFsXCI+XG4gIDxiciAvPkVudGVyIGEgbmVnYXRpdmUgbnVtYmVyIHRvIHN0b3AgdGhlIGludGVydmFsLlxuPC9kaXY+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuZnVuY3Rpb24gQ2Fyb3VzZWxEZW1vQ3RybCgkc2NvcGUpIHtcbiAgJHNjb3BlLm15SW50ZXJ2YWwgPSA1MDAwO1xufVxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJkZW1vLmNzc1wiPlxuICAgIC5jYXJvdXNlbC1pbmRpY2F0b3JzIHtcbiAgICAgIHRvcDogYXV0bztcbiAgICAgIGJvdHRvbTogMTVweDtcbiAgICB9XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiovXG5cbi5kaXJlY3RpdmUoJ3NsaWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15jYXJvdXNlbCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBhY3RpdmU6ICc9PycsXG4gICAgICBhY3R1YWw6ICc9PycsXG4gICAgICBpbmRleDogJz0/J1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY2Fyb3VzZWxDdHJsKSB7XG4gICAgICBjYXJvdXNlbEN0cmwuYWRkU2xpZGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgICAgLy93aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWQgdGhlbiByZW1vdmUgdGhlIHNsaWRlIGZyb20gdGhlIGN1cnJlbnQgc2xpZGVzIGFycmF5XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhcm91c2VsQ3RybC5yZW1vdmVTbGlkZShzY29wZSk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIGNhcm91c2VsQ3RybC5zZWxlY3Qoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uYW5pbWF0aW9uKCcuaXRlbScsIFtcbiAgICAgICAgICckaW5qZWN0b3InLCAnJGFuaW1hdGUnLFxuZnVuY3Rpb24gKCRpbmplY3RvciwgJGFuaW1hdGUpIHtcbiAgdmFyIE5PX1RSQU5TSVRJT04gPSAndWliLW5vVHJhbnNpdGlvbicsXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBjYWxsYmFjaykge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVBZGRDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgLy8gRHVlIHRvIHRyYW5zY2x1c2lvbiwgbm9UcmFuc2l0aW9uIHByb3BlcnR5IGlzIG9uIHBhcmVudCdzIHNjb3BlXG4gICAgICBpZiAoY2xhc3NOYW1lID09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciByZW1vdmVDbGFzc0ZuID0gcmVtb3ZlQ2xhc3MuYmluZCh0aGlzLCBlbGVtZW50LFxuICAgICAgICAgIGRpcmVjdGlvbkNsYXNzICsgJyAnICsgZGlyZWN0aW9uLCBkb25lKTtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhkaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHthZGRDbGFzczogZGlyZWN0aW9uQ2xhc3N9KVxuICAgICAgICAgICAgLnN0YXJ0KClcbiAgICAgICAgICAgIC5kb25lKHJlbW92ZUNsYXNzRm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgICAgICAgICByZW1vdmVDbGFzc0ZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZG9uZSgpO1xuICAgIH0sXG4gICAgYmVmb3JlUmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgIC8vIER1ZSB0byB0cmFuc2NsdXNpb24sIG5vVHJhbnNpdGlvbiBwcm9wZXJ0eSBpcyBvbiBwYXJlbnQncyBzY29wZVxuICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gJ2FjdGl2ZScgJiYgZWxlbWVudC5wYXJlbnQoKSAmJlxuICAgICAgICAgICFlbGVtZW50LnBhcmVudCgpLmRhdGEoTk9fVFJBTlNJVElPTikpIHtcbiAgICAgICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04pO1xuICAgICAgICB2YXIgZGlyZWN0aW9uQ2xhc3MgPSBkaXJlY3Rpb24gPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzRm4gPSByZW1vdmVDbGFzcy5iaW5kKHRoaXMsIGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzLCBkb25lKTtcblxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBkaXJlY3Rpb25DbGFzcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuXG59XSlcblxuXG47XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKVxuXG4uc2VydmljZSgnZGF0ZVBhcnNlcicsIFsnJGxvZycsICckbG9jYWxlJywgJ29yZGVyQnlGaWx0ZXInLCBmdW5jdGlvbigkbG9nLCAkbG9jYWxlLCBvcmRlckJ5RmlsdGVyKSB7XG4gIC8vIFB1bGxlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYm9zdG9jay9kMy9ibG9iL21hc3Rlci9zcmMvZm9ybWF0L3JlcXVvdGUuanNcbiAgdmFyIFNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAgPSAvW1xcXFxcXF5cXCRcXCpcXCtcXD9cXHxcXFtcXF1cXChcXClcXC5cXHtcXH1dL2c7XG5cbiAgdGhpcy5wYXJzZXJzID0ge307XG5cbiAgdmFyIGZvcm1hdENvZGVUb1JlZ2V4ID0ge1xuICAgICd5eXl5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHs0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAneXknOiB7XG4gICAgICByZWdleDogJ1xcXFxkezJ9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWUgKyAyMDAwOyB9XG4gICAgfSxcbiAgICAneSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7MSw0fScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnTU1NTSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuU0hPUlRNT05USC5pbmRleE9mKHZhbHVlKTsgfVxuICAgIH0sXG4gICAgJ01NJzoge1xuICAgICAgcmVnZXg6ICcwWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnTSc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9XG4gICAgfSxcbiAgICAnZGQnOiB7XG4gICAgICByZWdleDogJ1swLTJdWzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdkJzoge1xuICAgICAgcmVnZXg6ICdbMS0yXT9bMC05XXsxfXwzWzAtMV17MX0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ0VFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdFRUUnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oJ3wnKVxuICAgIH0sXG4gICAgJ0hIJzoge1xuICAgICAgcmVnZXg6ICcoPzowfDEpWzAtOV18MlswLTNdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnaGgnOiB7XG4gICAgICByZWdleDogJzBbMC05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdIJzoge1xuICAgICAgcmVnZXg6ICcxP1swLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2gnOiB7XG4gICAgICByZWdleDogJ1swLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ21tJzoge1xuICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbnV0ZXMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdtJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1pbnV0ZXMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzc3MnOiB7XG4gICAgICByZWdleDogJ1swLTldWzAtOV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taWxsaXNlY29uZHMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdzcyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5zZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAncyc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5zZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnYSc6IHtcbiAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuQU1QTVMuam9pbignfCcpLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmhvdXJzID09PSAxMikge1xuICAgICAgICAgIHRoaXMuaG91cnMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSAnUE0nKSB7XG4gICAgICAgICAgdGhpcy5ob3VycyArPSAxMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVQYXJzZXIoZm9ybWF0KSB7XG4gICAgdmFyIG1hcCA9IFtdLCByZWdleCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICBhbmd1bGFyLmZvckVhY2goZm9ybWF0Q29kZVRvUmVnZXgsIGZ1bmN0aW9uKGRhdGEsIGNvZGUpIHtcbiAgICAgIHZhciBpbmRleCA9IGZvcm1hdC5pbmRleE9mKGNvZGUpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBmb3JtYXQgPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgICAgIHJlZ2V4W2luZGV4XSA9ICcoJyArIGRhdGEucmVnZXggKyAnKSc7XG4gICAgICAgIGZvcm1hdFtpbmRleF0gPSAnJCc7IC8vIEN1c3RvbSBzeW1ib2wgdG8gZGVmaW5lIGNvbnN1bWVkIHBhcnQgb2YgZm9ybWF0XG4gICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDEsIG4gPSBpbmRleCArIGNvZGUubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcmVnZXhbaV0gPSAnJztcbiAgICAgICAgICBmb3JtYXRbaV0gPSAnJCc7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpO1xuXG4gICAgICAgIG1hcC5wdXNoKHsgaW5kZXg6IGluZGV4LCBhcHBseTogZGF0YS5hcHBseSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICByZWdleDogbmV3IFJlZ0V4cCgnXicgKyByZWdleC5qb2luKCcnKSArICckJyksXG4gICAgICBtYXA6IG9yZGVyQnlGaWx0ZXIobWFwLCAnaW5kZXgnKVxuICAgIH07XG4gIH1cblxuICB0aGlzLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGZvcm1hdCwgYmFzZURhdGUpIHtcbiAgICBpZiAoIWFuZ3VsYXIuaXNTdHJpbmcoaW5wdXQpIHx8ICFmb3JtYXQpIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCwgJ1xcXFwkJicpO1xuXG4gICAgaWYgKCF0aGlzLnBhcnNlcnNbZm9ybWF0XSkge1xuICAgICAgdGhpcy5wYXJzZXJzW2Zvcm1hdF0gPSBjcmVhdGVQYXJzZXIoZm9ybWF0KTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpcy5wYXJzZXJzW2Zvcm1hdF0sXG4gICAgICAgIHJlZ2V4ID0gcGFyc2VyLnJlZ2V4LFxuICAgICAgICBtYXAgPSBwYXJzZXIubWFwLFxuICAgICAgICByZXN1bHRzID0gaW5wdXQubWF0Y2gocmVnZXgpO1xuXG4gICAgaWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgIHZhciBmaWVsZHMsIGR0O1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGJhc2VEYXRlKSAmJiAhaXNOYU4oYmFzZURhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICBmaWVsZHMgPSB7XG4gICAgICAgICAgeWVhcjogYmFzZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aDogYmFzZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICBkYXRlOiBiYXNlRGF0ZS5nZXREYXRlKCksXG4gICAgICAgICAgaG91cnM6IGJhc2VEYXRlLmdldEhvdXJzKCksXG4gICAgICAgICAgbWludXRlczogYmFzZURhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICAgIHNlY29uZHM6IGJhc2VEYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICBtaWxsaXNlY29uZHM6IGJhc2VEYXRlLmdldE1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYmFzZURhdGUpIHtcbiAgICAgICAgICAkbG9nLndhcm4oJ2RhdGVwYXJzZXI6JywgJ2Jhc2VEYXRlIGlzIG5vdCBhIHZhbGlkIGRhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBmaWVsZHMgPSB7IHllYXI6IDE5MDAsIG1vbnRoOiAwLCBkYXRlOiAxLCBob3VyczogMCwgbWludXRlczogMCwgc2Vjb25kczogMCwgbWlsbGlzZWNvbmRzOiAwIH07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAxLCBuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgdmFyIG1hcHBlciA9IG1hcFtpLTFdO1xuICAgICAgICBpZiAobWFwcGVyLmFwcGx5KSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNWYWxpZChmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSkpIHtcbiAgICAgICAgZHQgPSBuZXcgRGF0ZShmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSxcbiAgICAgICAgICBmaWVsZHMuaG91cnMsIGZpZWxkcy5taW51dGVzLCBmaWVsZHMuc2Vjb25kcyxcbiAgICAgICAgICBmaWVsZHMubWlsbGlzZWNvbmRzIHx8IDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDEgJiYgZGF0ZSA+IDI4KSB7XG4gICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKCh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwKTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDMgfHwgbW9udGggPT09IDUgfHwgbW9udGggPT09IDggfHwgbW9udGggPT09IDEwKSB7XG4gICAgICByZXR1cm4gZGF0ZSA8IDMxO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgdGhhdCBjYW4gYmUgdXNlIHRvIHJldHJpZXZlIHBvc2l0aW9uIG9mIERPTSBlbGVtZW50cy5cbiAqIEl0IGlzIG1lYW50IHRvIGJlIHVzZWQgd2hlcmUgd2UgbmVlZCB0byBhYnNvbHV0ZS1wb3NpdGlvbiBET00gZWxlbWVudHMgaW5cbiAqIHJlbGF0aW9uIHRvIG90aGVyLCBleGlzdGluZyBlbGVtZW50cyAodGhpcyBpcyB0aGUgY2FzZSBmb3IgdG9vbHRpcHMsIHBvcG92ZXJzLFxuICogdHlwZWFoZWFkIHN1Z2dlc3Rpb25zIGV0Yy4pLlxuICovXG4gIC5mYWN0b3J5KCckcG9zaXRpb24nLCBbJyRkb2N1bWVudCcsICckd2luZG93JywgZnVuY3Rpb24oJGRvY3VtZW50LCAkd2luZG93KSB7XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIGNzc3Byb3ApIHtcbiAgICAgIGlmIChlbC5jdXJyZW50U3R5bGUpIHsgLy9JRVxuICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2Nzc3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICgkd2luZG93LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgcmV0dXJuICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbClbY3NzcHJvcF07XG4gICAgICB9XG4gICAgICAvLyBmaW5hbGx5IHRyeSBhbmQgZ2V0IGlubGluZSBzdHlsZVxuICAgICAgcmV0dXJuIGVsLnN0eWxlW2Nzc3Byb3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIGVsZW1lbnQgaXMgc3RhdGljYWxseSBwb3NpdGlvbmVkXG4gICAgICogQHBhcmFtIGVsZW1lbnQgLSByYXcgRE9NIGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0YXRpY1Bvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgcmV0dXJuIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSB8fCAnc3RhdGljJyApID09PSAnc3RhdGljJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBjbG9zZXN0LCBub24tc3RhdGljYWxseSBwb3NpdGlvbmVkIHBhcmVudE9mZnNldCBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHZhciBwYXJlbnRPZmZzZXRFbCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBkb2NEb21FbCA9ICRkb2N1bWVudFswXTtcbiAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudCB8fCBkb2NEb21FbDtcbiAgICAgIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBkb2NEb21FbCAmJiBpc1N0YXRpY1Bvc2l0aW9uZWQob2Zmc2V0UGFyZW50KSApIHtcbiAgICAgICAgb2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIHBvc2l0aW9uIGZ1bmN0aW9uOlxuICAgICAgICogaHR0cDovL2FwaS5qcXVlcnkuY29tL3Bvc2l0aW9uL1xuICAgICAgICovXG4gICAgICBwb3NpdGlvbjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgZWxCQ1IgPSB0aGlzLm9mZnNldChlbGVtZW50KTtcbiAgICAgICAgdmFyIG9mZnNldFBhcmVudEJDUiA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRFbCA9IHBhcmVudE9mZnNldEVsKGVsZW1lbnRbMF0pO1xuICAgICAgICBpZiAob2Zmc2V0UGFyZW50RWwgIT0gJGRvY3VtZW50WzBdKSB7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSID0gdGhpcy5vZmZzZXQoYW5ndWxhci5lbGVtZW50KG9mZnNldFBhcmVudEVsKSk7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLnRvcCArPSBvZmZzZXRQYXJlbnRFbC5jbGllbnRUb3AgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxUb3A7XG4gICAgICAgICAgb2Zmc2V0UGFyZW50QkNSLmxlZnQgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50TGVmdCAtIG9mZnNldFBhcmVudEVsLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGVsQkNSLnRvcCAtIG9mZnNldFBhcmVudEJDUi50b3AsXG4gICAgICAgICAgbGVmdDogZWxCQ1IubGVmdCAtIG9mZnNldFBhcmVudEJDUi5sZWZ0XG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIG9mZnNldCBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmZzZXQvXG4gICAgICAgKi9cbiAgICAgIG9mZnNldDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogYm91bmRpbmdDbGllbnRSZWN0LndpZHRoIHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSxcbiAgICAgICAgICBoZWlnaHQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHQgfHwgZWxlbWVudC5wcm9wKCdvZmZzZXRIZWlnaHQnKSxcbiAgICAgICAgICB0b3A6IGJvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyAoJHdpbmRvdy5wYWdlWU9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgICAgbGVmdDogYm91bmRpbmdDbGllbnRSZWN0LmxlZnQgKyAoJHdpbmRvdy5wYWdlWE9mZnNldCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIGNvb3JkaW5hdGVzIGZvciB0aGUgdGFyZ2V0RWwgaW4gcmVsYXRpb24gdG8gaG9zdEVsXG4gICAgICAgKi9cbiAgICAgIHBvc2l0aW9uRWxlbWVudHM6IGZ1bmN0aW9uKGhvc3RFbCwgdGFyZ2V0RWwsIHBvc2l0aW9uU3RyLCBhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uU3RyUGFydHMgPSBwb3NpdGlvblN0ci5zcGxpdCgnLScpO1xuICAgICAgICB2YXIgcG9zMCA9IHBvc2l0aW9uU3RyUGFydHNbMF0sIHBvczEgPSBwb3NpdGlvblN0clBhcnRzWzFdIHx8ICdjZW50ZXInO1xuXG4gICAgICAgIHZhciBob3N0RWxQb3MsXG4gICAgICAgICAgdGFyZ2V0RWxXaWR0aCxcbiAgICAgICAgICB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICB0YXJnZXRFbFBvcztcblxuICAgICAgICBob3N0RWxQb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWwpIDogdGhpcy5wb3NpdGlvbihob3N0RWwpO1xuXG4gICAgICAgIHRhcmdldEVsV2lkdGggPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB0YXJnZXRFbEhlaWdodCA9IHRhcmdldEVsLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHZhciBzaGlmdFdpZHRoID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGggLyAyIC0gdGFyZ2V0RWxXaWR0aCAvIDI7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZWZ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MubGVmdCArIGhvc3RFbFBvcy53aWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNoaWZ0SGVpZ2h0ID0ge1xuICAgICAgICAgIGNlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQgLyAyIC0gdGFyZ2V0RWxIZWlnaHQgLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYm90dG9tOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0RWxQb3MudG9wICsgaG9zdEVsUG9zLmhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChwb3MwKSB7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MwXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBzaGlmdEhlaWdodFtwb3MxXSgpLFxuICAgICAgICAgICAgICBsZWZ0OiBob3N0RWxQb3MubGVmdCAtIHRhcmdldEVsV2lkdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMF0oKSxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IGhvc3RFbFBvcy50b3AgLSB0YXJnZXRFbEhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdDogc2hpZnRXaWR0aFtwb3MxXSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxQb3M7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInLCBbJ3VpLmJvb3RzdHJhcC5kYXRlcGFyc2VyJywgJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4udmFsdWUoJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZhbHNlKVxuXG4uY29uc3RhbnQoJ2RhdGVwaWNrZXJDb25maWcnLCB7XG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgZGF0ZXBpY2tlck1vZGU6ICdkYXknLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBzaG93V2Vla3M6IHRydWUsXG4gIHN0YXJ0aW5nRGF5OiAwLFxuICB5ZWFyUmFuZ2U6IDIwLFxuICBtaW5EYXRlOiBudWxsLFxuICBtYXhEYXRlOiBudWxsLFxuICBzaG9ydGN1dFByb3BhZ2F0aW9uOiBmYWxzZVxufSlcblxuLmNvbnRyb2xsZXIoJ0RhdGVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckaW50ZXJwb2xhdGUnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ2RhdGVwaWNrZXJDb25maWcnLCAnJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGludGVycG9sYXRlLCAkbG9nLCBkYXRlRmlsdGVyLCBkYXRlcGlja2VyQ29uZmlnLCAkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9OyAvLyBudWxsTW9kZWxDdHJsO1xuXG4gIC8vIE1vZGVzIGNoYWluXG4gIHRoaXMubW9kZXMgPSBbJ2RheScsICdtb250aCcsICd5ZWFyJ107XG5cbiAgLy8gQ29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ2Zvcm1hdERheScsICdmb3JtYXRNb250aCcsICdmb3JtYXRZZWFyJywgJ2Zvcm1hdERheUhlYWRlcicsICdmb3JtYXREYXlUaXRsZScsICdmb3JtYXRNb250aFRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAnc2hvd1dlZWtzJywgJ3N0YXJ0aW5nRGF5JywgJ3llYXJSYW5nZScsICdzaG9ydGN1dFByb3BhZ2F0aW9uJ10sIGZ1bmN0aW9uKGtleSwgaW5kZXgpIHtcbiAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnNba2V5XSkgPyAoaW5kZXggPCA2ID8gJGludGVycG9sYXRlKCRhdHRyc1trZXldKSgkc2NvcGUuJHBhcmVudCkgOiAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnNba2V5XSkpIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xuICB9KTtcblxuICAvLyBXYXRjaGFibGUgZGF0ZSBhdHRyaWJ1dGVzXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbkRhdGUnLCAnbWF4RGF0ZSddLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoJGF0dHJzW2tleV0pIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSB2YWx1ZSA/IG5ldyBEYXRlKHZhbHVlKSA6IG51bGw7XG4gICAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmW2tleV0gPSBkYXRlcGlja2VyQ29uZmlnW2tleV0gPyBuZXcgRGF0ZShkYXRlcGlja2VyQ29uZmlnW2tleV0pIDogbnVsbDtcbiAgICB9XG4gIH0pO1xuXG4gIGFuZ3VsYXIuZm9yRWFjaChbJ21pbk1vZGUnLCAnbWF4TW9kZSddLCBmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoJGF0dHJzW2tleV0pIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzW2tleV0pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6ICRhdHRyc1trZXldO1xuICAgICAgICAkc2NvcGVba2V5XSA9IHNlbGZba2V5XTtcbiAgICAgICAgaWYgKChrZXkgPT0gJ21pbk1vZGUnICYmIHNlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIDwgc2VsZi5tb2Rlcy5pbmRleE9mKHNlbGZba2V5XSkpIHx8IChrZXkgPT0gJ21heE1vZGUnICYmIHNlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpID4gc2VsZi5tb2Rlcy5pbmRleE9mKHNlbGZba2V5XSkpKSB7XG4gICAgICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZltrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldIHx8IG51bGw7XG4gICAgICAkc2NvcGVba2V5XSA9IHNlbGZba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS5kYXRlcGlja2VyTW9kZSA9ICRzY29wZS5kYXRlcGlja2VyTW9kZSB8fCBkYXRlcGlja2VyQ29uZmlnLmRhdGVwaWNrZXJNb2RlO1xuICAkc2NvcGUudW5pcXVlSWQgPSAnZGF0ZXBpY2tlci0nICsgJHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcblxuICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmluaXREYXRlKSkge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5pbml0RGF0ZSkgfHwgbmV3IERhdGUoKTtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJGF0dHJzLmluaXREYXRlLCBmdW5jdGlvbihpbml0RGF0ZSkge1xuICAgICAgaWYgKGluaXREYXRlICYmIChuZ01vZGVsQ3RybC4kaXNFbXB0eShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSkgfHwgbmdNb2RlbEN0cmwuJGludmFsaWQpKSB7XG4gICAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGluaXREYXRlO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5hY3RpdmVEYXRlID0gbmV3IERhdGUoKTtcbiAgfVxuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkge1xuICAgICAgJHNjb3BlLmFjdGl2ZURhdGVJZCA9IGRhdGVPYmplY3QudWlkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcblxuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgfTtcbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpLFxuICAgICAgICAgIGlzVmFsaWQgPSAhaXNOYU4oZGF0ZSk7XG5cbiAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICB9IGVsc2UgaWYgKCEkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QsIGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSAwMS4wMS4xOTcwIG9yIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhbiBSRkMyODIyIG9yIElTTyA4NjAxIGRhdGUuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICB0aGlzLnJlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5fcmVmcmVzaFZpZXcoKTtcblxuICAgICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdkYXRlRGlzYWJsZWQnLCAhZGF0ZSB8fCAodGhpcy5lbGVtZW50ICYmICF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5jcmVhdGVEYXRlT2JqZWN0ID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XG4gICAgdmFyIG1vZGVsID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGxhYmVsOiBkYXRlRmlsdGVyKGRhdGUsIGZvcm1hdCksXG4gICAgICBzZWxlY3RlZDogbW9kZWwgJiYgdGhpcy5jb21wYXJlKGRhdGUsIG1vZGVsKSA9PT0gMCxcbiAgICAgIGRpc2FibGVkOiB0aGlzLmlzRGlzYWJsZWQoZGF0ZSksXG4gICAgICBjdXJyZW50OiB0aGlzLmNvbXBhcmUoZGF0ZSwgbmV3IERhdGUoKSkgPT09IDAsXG4gICAgICBjdXN0b21DbGFzczogdGhpcy5jdXN0b21DbGFzcyhkYXRlKVxuICAgIH07XG4gIH07XG5cbiAgdGhpcy5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiAoKHRoaXMubWluRGF0ZSAmJiB0aGlzLmNvbXBhcmUoZGF0ZSwgdGhpcy5taW5EYXRlKSA8IDApIHx8ICh0aGlzLm1heERhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWF4RGF0ZSkgPiAwKSB8fCAoJGF0dHJzLmRhdGVEaXNhYmxlZCAmJiAkc2NvcGUuZGF0ZURpc2FibGVkKHtkYXRlOiBkYXRlLCBtb2RlOiAkc2NvcGUuZGF0ZXBpY2tlck1vZGV9KSkpO1xuICB9O1xuXG4gIHRoaXMuY3VzdG9tQ2xhc3MgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuICRzY29wZS5jdXN0b21DbGFzcyh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSk7XG4gIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgLy8gRml4IGEgaGFyZC1yZXByb2R1c2libGUgYnVnIHdpdGggdGltZXpvbmVzXG4gIC8vIFRoZSBidWcgZGVwZW5kcyBvbiBPUywgYnJvd3NlciwgY3VycmVudCB0aW1lem9uZSBhbmQgY3VycmVudCBkYXRlXG4gIC8vIGkuZS5cbiAgLy8gdmFyIGRhdGUgPSBuZXcgRGF0ZSgyMDE0LCAwLCAxKTtcbiAgLy8gY29uc29sZS5sb2coZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCkpO1xuICAvLyBjYW4gcmVzdWx0IGluIFwiMjAxMyAxMSAzMSAyM1wiIGJlY2F1c2Ugb2YgdGhlIGJ1Zy5cbiAgdGhpcy5maXhUaW1lWm9uZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gICAgZGF0ZS5zZXRIb3Vycyhob3VycyA9PT0gMjMgPyBob3VycyArIDIgOiAwKTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIGlmICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSkge1xuICAgICAgdmFyIGR0ID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShkdCk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGRhdGU7XG4gICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIC0gMV07XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5tb3ZlID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgdmFyIHllYXIgPSBzZWxmLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIGRpcmVjdGlvbiAqIChzZWxmLnN0ZXAueWVhcnMgfHwgMCksXG4gICAgICAgIG1vbnRoID0gc2VsZi5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLm1vbnRocyB8fCAwKTtcbiAgICBzZWxmLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoeWVhciwgbW9udGgsIDEpO1xuICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICAkc2NvcGUudG9nZ2xlTW9kZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCAxO1xuXG4gICAgaWYgKCgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWF4TW9kZSAmJiBkaXJlY3Rpb24gPT09IDEpIHx8ICgkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGYubW9kZXNbc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyTW9kZSkgKyBkaXJlY3Rpb25dO1xuICB9O1xuXG4gIC8vIEtleSBldmVudCBtYXBwZXJcbiAgJHNjb3BlLmtleXMgPSB7IDEzOiAnZW50ZXInLCAzMjogJ3NwYWNlJywgMzM6ICdwYWdldXAnLCAzNDogJ3BhZ2Vkb3duJywgMzU6ICdlbmQnLCAzNjogJ2hvbWUnLCAzNzogJ2xlZnQnLCAzODogJ3VwJywgMzk6ICdyaWdodCcsIDQwOiAnZG93bicgfTtcblxuICB2YXIgZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgc2VsZi5lbGVtZW50WzBdLmZvY3VzKCk7XG4gIH07XG5cbiAgLy8gTGlzdGVuIGZvciBmb2N1cyByZXF1ZXN0cyBmcm9tIHBvcHVwIGRpcmVjdGl2ZVxuICAkc2NvcGUuJG9uKCdkYXRlcGlja2VyLmZvY3VzJywgZm9jdXNFbGVtZW50KTtcblxuICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIHZhciBrZXkgPSAkc2NvcGUua2V5c1tldnQud2hpY2hdO1xuXG4gICAgaWYgKCFrZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbikge1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdlbnRlcicgfHwga2V5ID09PSAnc3BhY2UnKSB7XG4gICAgICBpZiAoc2VsZi5pc0Rpc2FibGVkKHNlbGYuYWN0aXZlRGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgICAkc2NvcGUuc2VsZWN0KHNlbGYuYWN0aXZlRGF0ZSk7XG4gICAgICBmb2N1c0VsZW1lbnQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5jdHJsS2V5ICYmIChrZXkgPT09ICd1cCcgfHwga2V5ID09PSAnZG93bicpKSB7XG4gICAgICAkc2NvcGUudG9nZ2xlTW9kZShrZXkgPT09ICd1cCcgPyAxIDogLTEpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuaGFuZGxlS2V5RG93bihrZXksIGV2dCk7XG4gICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ2RhdGVwaWNrZXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgZGF0ZXBpY2tlck1vZGU6ICc9PycsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJicsXG4gICAgICBzaG9ydGN1dFByb3BhZ2F0aW9uOiAnJj8nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ2RhdGVwaWNrZXInLCAnXm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnRGF0ZXBpY2tlckNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2RhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBkYXRlcGlja2VyQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBkYXRlcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkYXlwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBzY29wZS5zaG93V2Vla3MgPSBjdHJsLnNob3dXZWVrcztcblxuICAgICAgY3RybC5zdGVwID0geyBtb250aHM6IDEgfTtcbiAgICAgIGN0cmwuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciBEQVlTX0lOX01PTlRIID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuICAgICAgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICAgICAgcmV0dXJuICgobW9udGggPT09IDEpICYmICh5ZWFyICUgNCA9PT0gMCkgJiYgKCh5ZWFyICUgMTAwICE9PSAwKSB8fCAoeWVhciAlIDQwMCA9PT0gMCkpKSA/IDI5IDogREFZU19JTl9NT05USFttb250aF07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldERhdGVzKHN0YXJ0RGF0ZSwgbikge1xuICAgICAgICB2YXIgZGF0ZXMgPSBuZXcgQXJyYXkobiksIGN1cnJlbnQgPSBuZXcgRGF0ZShzdGFydERhdGUpLCBpID0gMCwgZGF0ZTtcbiAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgZGF0ZXNbaSsrXSA9IGRhdGU7XG4gICAgICAgICAgY3VycmVudC5zZXREYXRlKGN1cnJlbnQuZ2V0RGF0ZSgpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgICAgfVxuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgeWVhciA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgZmlyc3REYXlPZk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpLFxuICAgICAgICAgIGRpZmZlcmVuY2UgPSBjdHJsLnN0YXJ0aW5nRGF5IC0gZmlyc3REYXlPZk1vbnRoLmdldERheSgpLFxuICAgICAgICAgIG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID0gKGRpZmZlcmVuY2UgPiAwKSA/IDcgLSBkaWZmZXJlbmNlIDogLSBkaWZmZXJlbmNlLFxuICAgICAgICAgIGZpcnN0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0RGF5T2ZNb250aCk7XG5cbiAgICAgICAgaWYgKG51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoID4gMCkge1xuICAgICAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNDIgaXMgdGhlIG51bWJlciBvZiBkYXlzIG9uIGEgc2l4LW1vbnRoIGNhbGVuZGFyXG4gICAgICAgIHZhciBkYXlzID0gZ2V0RGF0ZXMoZmlyc3REYXRlLCA0Mik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHtcbiAgICAgICAgICBkYXlzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRheXNbaV0sIGN0cmwuZm9ybWF0RGF5KSwge1xuICAgICAgICAgICAgc2Vjb25kYXJ5OiBkYXlzW2ldLmdldE1vbnRoKCkgIT09IG1vbnRoLFxuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA3OyBqKyspIHtcbiAgICAgICAgICBzY29wZS5sYWJlbHNbal0gPSB7XG4gICAgICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgY3RybC5mb3JtYXREYXlIZWFkZXIpLFxuICAgICAgICAgICAgZnVsbDogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsICdFRUVFJylcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXREYXlUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KGRheXMsIDcpO1xuXG4gICAgICAgIGlmIChzY29wZS5zaG93V2Vla3MpIHtcbiAgICAgICAgICBzY29wZS53ZWVrTnVtYmVycyA9IFtdO1xuICAgICAgICAgIHZhciB0aHVyc2RheUluZGV4ID0gKDQgKyA3IC0gY3RybC5zdGFydGluZ0RheSkgJSA3LFxuICAgICAgICAgICAgICBudW1XZWVrcyA9IHNjb3BlLnJvd3MubGVuZ3RoO1xuICAgICAgICAgIGZvciAodmFyIGN1cldlZWsgPSAwOyBjdXJXZWVrIDwgbnVtV2Vla3M7IGN1cldlZWsrKykge1xuICAgICAgICAgICAgc2NvcGUud2Vla051bWJlcnMucHVzaChcbiAgICAgICAgICAgICAgZ2V0SVNPODYwMVdlZWtOdW1iZXIoc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIChuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKSk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgICAgIHZhciBjaGVja0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoY2hlY2tEYXRlLmdldERhdGUoKSArIDQgLSAoY2hlY2tEYXRlLmdldERheSgpIHx8IDcpKTsgLy8gVGh1cnNkYXlcbiAgICAgICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgICAgICBjaGVja0RhdGUuc2V0TW9udGgoMCk7IC8vIENvbXBhcmUgd2l0aCBKYW4gMVxuICAgICAgICBjaGVja0RhdGUuc2V0RGF0ZSgxKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldERhdGUoKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDE7ICAgLy8gdXBcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICd1cCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSAtIDc7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZG93bicpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDc7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgICAgICB2YXIgbW9udGggPSBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTtcbiAgICAgICAgICBkYXRlID0gTWF0aC5taW4oZ2V0RGF5c0luTW9udGgoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksIGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpKSwgZGF0ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgICAgICBkYXRlID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdlbmQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldERhdGUoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ21vbnRocGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnLFxuICAgIHJlcXVpcmU6ICdeZGF0ZXBpY2tlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBjdHJsLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSxcbiAgICAgICAgICAgIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIGksIDEpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgbW9udGhzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0TW9udGgpLCB7XG4gICAgICAgICAgICB1aWQ6IHNjb3BlLnVuaXF1ZUlkICsgJy0nICsgaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUudGl0bGUgPSBkYXRlRmlsdGVyKGN0cmwuYWN0aXZlRGF0ZSwgY3RybC5mb3JtYXRNb250aFRpdGxlKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQobW9udGhzLCAzKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSkgLSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAzOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSArIChrZXkgPT09ICdwYWdldXAnID8gLSAxIDogMSk7XG4gICAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSAxMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3llYXJwaWNrZXInLCBbJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbihkYXRlRmlsdGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgdmFyIHJhbmdlID0gY3RybC55ZWFyUmFuZ2U7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgeWVhcnM6IHJhbmdlIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICBmdW5jdGlvbiBnZXRTdGFydGluZ1llYXIoIHllYXIgKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCgoeWVhciAtIDEpIC8gcmFuZ2UsIDEwKSAqIHJhbmdlICsgMTtcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXJzID0gbmV3IEFycmF5KHJhbmdlKSwgZGF0ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgc3RhcnQgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOyBpIDwgcmFuZ2U7IGkrKykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShzdGFydCArIGksIDAsIDEpO1xuICAgICAgICAgIGN0cmwuZml4VGltZVpvbmUoZGF0ZSk7XG4gICAgICAgICAgeWVhcnNbaV0gPSBhbmd1bGFyLmV4dGVuZChjdHJsLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgY3RybC5mb3JtYXRZZWFyKSwge1xuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gW3llYXJzWzBdLmxhYmVsLCB5ZWFyc1tyYW5nZSAtIDFdLmxhYmVsXS5qb2luKCcgLSAnKTtcbiAgICAgICAgc2NvcGUucm93cyA9IGN0cmwuc3BsaXQoeWVhcnMsIDUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIC0gZGF0ZTIuZ2V0RnVsbFllYXIoKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uKGtleSwgZXZ0KSB7XG4gICAgICAgIHZhciBkYXRlID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA1OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA1O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgZGF0ZSArPSAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpICogY3RybC5zdGVwLnllYXJzO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhcihjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpICsgcmFuZ2UgLSAxO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdkYXRlcGlja2VyUG9wdXBDb25maWcnLCB7XG4gIGRhdGVwaWNrZXJQb3B1cDogJ3l5eXktTU0tZGQnLFxuICBkYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCcsXG4gIGRhdGVwaWNrZXJUZW1wbGF0ZVVybDogJ3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgaHRtbDVUeXBlczoge1xuICAgIGRhdGU6ICd5eXl5LU1NLWRkJyxcbiAgICAnZGF0ZXRpbWUtbG9jYWwnOiAneXl5eS1NTS1kZFRISDptbTpzcy5zc3MnLFxuICAgICdtb250aCc6ICd5eXl5LU1NJ1xuICB9LFxuICBjdXJyZW50VGV4dDogJ1RvZGF5JyxcbiAgY2xlYXJUZXh0OiAnQ2xlYXInLFxuICBjbG9zZVRleHQ6ICdEb25lJyxcbiAgY2xvc2VPbkRhdGVTZWxlY3Rpb246IHRydWUsXG4gIGFwcGVuZFRvQm9keTogZmFsc2UsXG4gIHNob3dCdXR0b25CYXI6IHRydWUsXG4gIG9uT3BlbkZvY3VzOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXAnLCBbJyRjb21waWxlJywgJyRwYXJzZScsICckZG9jdW1lbnQnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAnZGF0ZUZpbHRlcicsICdkYXRlUGFyc2VyJywgJ2RhdGVwaWNrZXJQb3B1cENvbmZpZycsICckdGltZW91dCcsXG5mdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkZG9jdW1lbnQsICRyb290U2NvcGUsICRwb3NpdGlvbiwgZGF0ZUZpbHRlciwgZGF0ZVBhcnNlciwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLCAkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICBzY29wZToge1xuICAgICAgaXNPcGVuOiAnPT8nLFxuICAgICAgY3VycmVudFRleHQ6ICdAJyxcbiAgICAgIGNsZWFyVGV4dDogJ0AnLFxuICAgICAgY2xvc2VUZXh0OiAnQCcsXG4gICAgICBkYXRlRGlzYWJsZWQ6ICcmJyxcbiAgICAgIGN1c3RvbUNsYXNzOiAnJidcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgdmFyIGRhdGVGb3JtYXQsXG4gICAgICAgICAgY2xvc2VPbkRhdGVTZWxlY3Rpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5jbG9zZU9uRGF0ZVNlbGVjdGlvbixcbiAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5LFxuICAgICAgICAgIG9uT3BlbkZvY3VzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMub25PcGVuRm9jdXMpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5vbk9wZW5Gb2N1cykgOiBkYXRlcGlja2VyUG9wdXBDb25maWcub25PcGVuRm9jdXMsXG4gICAgICAgICAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCkgPyBhdHRycy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXBUZW1wbGF0ZVVybCxcbiAgICAgICAgICBkYXRlcGlja2VyVGVtcGxhdGVVcmwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclRlbXBsYXRlVXJsIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCxcbiAgICAgICAgICBjYWNoZSA9IHt9O1xuXG4gICAgICBzY29wZS5zaG93QnV0dG9uQmFyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuc2hvd0J1dHRvbkJhcikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnNob3dCdXR0b25CYXIpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7XG5cbiAgICAgIHNjb3BlLmdldFRleHQgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIHNjb3BlW2tleSArICdUZXh0J10gfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnW2tleSArICdUZXh0J107XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5pc0Rpc2FibGVkID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgoc2NvcGUud2F0Y2hEYXRhLm1pbkRhdGUgJiYgc2NvcGUuY29tcGFyZShkYXRlLCBjYWNoZS5taW5EYXRlKSA8IDApIHx8XG4gICAgICAgICAgKHNjb3BlLndhdGNoRGF0YS5tYXhEYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWF4RGF0ZSkgPiAwKSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGlzSHRtbDVEYXRlSW5wdXQgPSBmYWxzZTtcbiAgICAgIGlmIChkYXRlcGlja2VyUG9wdXBDb25maWcuaHRtbDVUeXBlc1thdHRycy50eXBlXSkge1xuICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV07XG4gICAgICAgIGlzSHRtbDVEYXRlSW5wdXQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGF0dHJzLmRhdGVwaWNrZXJQb3B1cCB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGF0ZXBpY2tlclBvcHVwJywgZnVuY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3RGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgICAgICAvLyBJbnZhbGlkYXRlIHRoZSAkbW9kZWxWYWx1ZSB0byBlbnN1cmUgdGhhdCBmb3JtYXR0ZXJzIHJlLXJ1blxuICAgICAgICAgICAgLy8gRklYTUU6IFJlZmFjdG9yIHdoZW4gUFIgaXMgbWVyZ2VkOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTA3NjRcbiAgICAgICAgICAgIGlmIChuZXdEYXRlRm9ybWF0ICE9PSBkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdEYXRlRm9ybWF0O1xuICAgICAgICAgICAgICBuZ01vZGVsLiRtb2RlbFZhbHVlID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGVwaWNrZXJQb3B1cCBtdXN0IGhhdmUgYSBkYXRlIGZvcm1hdCBzcGVjaWZpZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0ICYmIGF0dHJzLmRhdGVwaWNrZXJQb3B1cCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hUTUw1IGRhdGUgaW5wdXQgdHlwZXMgZG8gbm90IHN1cHBvcnQgY3VzdG9tIGZvcm1hdHMuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHBvcHVwIGVsZW1lbnQgdXNlZCB0byBkaXNwbGF5IGNhbGVuZGFyXG4gICAgICB2YXIgcG9wdXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBkYXRlcGlja2VyLXBvcHVwLXdyYXA+PGRpdiBkYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgICAgcG9wdXBFbC5hdHRyKHtcbiAgICAgICAgJ25nLW1vZGVsJzogJ2RhdGUnLFxuICAgICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oZGF0ZSknLFxuICAgICAgICAndGVtcGxhdGUtdXJsJzogZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmxcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBjYW1lbHRvRGFzaChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7IHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gZGF0ZXBpY2tlciBlbGVtZW50XG4gICAgICB2YXIgZGF0ZXBpY2tlckVsID0gYW5ndWxhci5lbGVtZW50KHBvcHVwRWwuY2hpbGRyZW4oKVswXSk7XG4gICAgICBkYXRlcGlja2VyRWwuYXR0cigndGVtcGxhdGUtdXJsJywgZGF0ZXBpY2tlclRlbXBsYXRlVXJsKTtcblxuICAgICAgaWYgKGlzSHRtbDVEYXRlSW5wdXQpIHtcbiAgICAgICAgaWYgKGF0dHJzLnR5cGUgPT09ICdtb250aCcpIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1tb2RlJywgJ1wibW9udGhcIicpO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdtaW4tbW9kZScsICdtb250aCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5kYXRlcGlja2VyT3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmluaXREYXRlKSB7XG4gICAgICAgICAgc2NvcGUuaW5pdERhdGUgPSBvcHRpb25zLmluaXREYXRlO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdpbml0LWRhdGUnLCAnaW5pdERhdGUnKTtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5pbml0RGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gob3B0aW9ucywgZnVuY3Rpb24odmFsdWUsIG9wdGlvbikge1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCBjYW1lbHRvRGFzaChvcHRpb24pLCB2YWx1ZSApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUud2F0Y2hEYXRhID0ge307XG4gICAgICBhbmd1bGFyLmZvckVhY2goWydtaW5Nb2RlJywgJ21heE1vZGUnLCAnbWluRGF0ZScsICdtYXhEYXRlJywgJ2RhdGVwaWNrZXJNb2RlJywgJ2luaXREYXRlJywgJ3Nob3J0Y3V0UHJvcGFnYXRpb24nXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChhdHRyc1trZXldKSB7XG4gICAgICAgICAgdmFyIGdldEF0dHJpYnV0ZSA9ICRwYXJzZShhdHRyc1trZXldKTtcbiAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChnZXRBdHRyaWJ1dGUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzY29wZS53YXRjaERhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ21pbkRhdGUnIHx8IGtleSA9PT0gJ21heERhdGUnKSB7XG4gICAgICAgICAgICAgIGNhY2hlW2tleV0gPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoY2FtZWx0b0Rhc2goa2V5KSwgJ3dhdGNoRGF0YS4nICsga2V5KTtcblxuICAgICAgICAgIC8vIFByb3BhZ2F0ZSBjaGFuZ2VzIGZyb20gZGF0ZXBpY2tlciB0byBvdXRzaWRlXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ2RhdGVwaWNrZXJNb2RlJykge1xuICAgICAgICAgICAgdmFyIHNldEF0dHJpYnV0ZSA9IGdldEF0dHJpYnV0ZS5hc3NpZ247XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3dhdGNoRGF0YS4nICsga2V5LCBmdW5jdGlvbih2YWx1ZSwgb2xkdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRBdHRyaWJ1dGUpICYmIHZhbHVlICE9PSBvbGR2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZShzY29wZS4kcGFyZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoYXR0cnMuZGF0ZURpc2FibGVkKSB7XG4gICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKCdkYXRlLWRpc2FibGVkJywgJ2RhdGVEaXNhYmxlZCh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF0dHJzLnNob3dXZWVrcykge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignc2hvdy13ZWVrcycsIGF0dHJzLnNob3dXZWVrcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5jdXN0b21DbGFzcykge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignY3VzdG9tLWNsYXNzJywgJ2N1c3RvbUNsYXNzKHsgZGF0ZTogZGF0ZSwgbW9kZTogbW9kZSB9KScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICAvLyBwcmVzdW1hYmx5IHRpbWVzdGFtcCB0byBkYXRlIG9iamVjdFxuICAgICAgICAgIHZpZXdWYWx1ZSA9IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZpZXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZpZXdWYWx1ZSkgJiYgIWlzTmFOKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmlld1ZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xuICAgICAgICAgIGlmIChpc05hTihkYXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcblxuICAgICAgICBpZiAoIWF0dHJzLm5nUmVxdWlyZWQgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RhdGUodmFsdWUpICYmICFpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgIHZhciBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2YWx1ZSwgZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgcmV0dXJuICFpc05hTihkYXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIC8vIEludGVybmFsIEFQSSB0byBtYWludGFpbiB0aGUgY29ycmVjdCBuZy1pbnZhbGlkLVtrZXldIGNsYXNzXG4gICAgICAgIG5nTW9kZWwuJCRwYXJzZXJOYW1lID0gJ2RhdGUnO1xuICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzLmRhdGUgPSB2YWxpZGF0b3I7XG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpO1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIG5nTW9kZWwuJGlzRW1wdHkodmFsdWUpID8gdmFsdWUgOiBkYXRlRmlsdGVyKHZhbHVlLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5uZXIgY2hhbmdlXG4gICAgICBzY29wZS5kYXRlU2VsZWN0aW9uID0gZnVuY3Rpb24oZHQpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGR0KSkge1xuICAgICAgICAgIHNjb3BlLmRhdGUgPSBkdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0ZSA9IHNjb3BlLmRhdGUgPyBkYXRlRmlsdGVyKHNjb3BlLmRhdGUsIGRhdGVGb3JtYXQpIDogbnVsbDsgLy8gU2V0dGluZyB0byBOVUxMIGlzIG5lY2Vzc2FyeSBmb3IgZm9ybSB2YWxpZGF0b3JzIHRvIGZ1bmN0aW9uXG4gICAgICAgIGVsZW1lbnQudmFsKGRhdGUpO1xuICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZGF0ZSk7XG5cbiAgICAgICAgaWYgKGNsb3NlT25EYXRlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBEZXRlY3QgY2hhbmdlcyBpbiB0aGUgdmlldyBmcm9tIHRoZSB0ZXh0IGJveFxuICAgICAgbmdNb2RlbC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5kYXRlID0gZGF0ZVBhcnNlci5wYXJzZShuZ01vZGVsLiR2aWV3VmFsdWUsIGRhdGVGb3JtYXQsIHNjb3BlLmRhdGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBkb2N1bWVudENsaWNrQmluZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gJiYgIShlbGVtZW50WzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgcG9wdXBFbFswXS5jb250YWlucyhldmVudC50YXJnZXQpKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgaW5wdXRLZXlkb3duQmluZCA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LndoaWNoID09PSAyNyAmJiBzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gNDAgJiYgIXNjb3BlLmlzT3Blbikge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgaW5wdXRLZXlkb3duQmluZCk7XG5cbiAgICAgIHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCA9IHNjb3BlLnBvc2l0aW9uLnRvcCArIGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG5cbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChvbk9wZW5Gb2N1cykge1xuICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdkYXRlcGlja2VyLmZvY3VzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHNjb3BlLmRhdGUpKSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjb3BlLmRhdGVTZWxlY3Rpb24oZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgfTtcblxuICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcHVwRWwpKHNjb3BlKTtcbiAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrICh0ZW1wbGF0ZSBpcyBub3cgcmVkdW5kYW50IGFmdGVyIGxpbmtpbmcpXG4gICAgICBwb3B1cEVsLnJlbW92ZSgpO1xuXG4gICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNjb3BlLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICBlbGVtZW50LnVuYmluZCgna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xuICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyUG9wdXBXcmFwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6J0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2RhdGVwaWNrZXIvcG9wdXAuaHRtbCc7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ2Ryb3Bkb3duQ29uZmlnJywge1xuICBvcGVuQ2xhc3M6ICdvcGVuJ1xufSlcblxuLnNlcnZpY2UoJ2Ryb3Bkb3duU2VydmljZScsIFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkZG9jdW1lbnQsICRyb290U2NvcGUpIHtcbiAgdmFyIG9wZW5TY29wZSA9IG51bGw7XG5cbiAgdGhpcy5vcGVuID0gZnVuY3Rpb24oZHJvcGRvd25TY29wZSkge1xuICAgIGlmICghb3BlblNjb3BlKSB7XG4gICAgICAkZG9jdW1lbnQuYmluZCgnY2xpY2snLCBjbG9zZURyb3Bkb3duKTtcbiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUpIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihkcm9wZG93blNjb3BlKSB7XG4gICAgaWYgKG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSkge1xuICAgICAgb3BlblNjb3BlID0gbnVsbDtcbiAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbWF5IHN0aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHNhbWUgbW91c2UgZXZlbnQgdGhhdFxuICAgIC8vIHVuYm91bmQgdGhpcyBldmVudCBoYW5kbGVyLiBTbyBjaGVjayBvcGVuU2NvcGUgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ2Rpc2FibGVkJykgIHsgcmV0dXJuIDsgfVxuXG4gICAgdmFyIHRvZ2dsZUVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCgpO1xuICAgIGlmIChldnQgJiYgdG9nZ2xlRWxlbWVudCAmJiB0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ291dHNpZGVDbGljaycgJiZcbiAgICAgIGRyb3Bkb3duRWxlbWVudCAmJiBkcm9wZG93bkVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIga2V5YmluZEZpbHRlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICBvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XG4gICAgICBjbG9zZURyb3Bkb3duKCk7XG4gICAgfSBlbHNlIGlmIChvcGVuU2NvcGUuaXNLZXluYXZFbmFibGVkKCkgJiYgLygzOHw0MCkvLnRlc3QoZXZ0LndoaWNoKSAmJiBvcGVuU2NvcGUuaXNPcGVuKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIG9wZW5TY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkoZXZ0LndoaWNoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnRyb2xsZXIoJ0Ryb3Bkb3duQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnZHJvcGRvd25Db25maWcnLCAnZHJvcGRvd25TZXJ2aWNlJywgJyRhbmltYXRlJywgJyRwb3NpdGlvbicsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlUmVxdWVzdCcsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsIGRyb3Bkb3duQ29uZmlnLCBkcm9wZG93blNlcnZpY2UsICRhbmltYXRlLCAkcG9zaXRpb24sICRkb2N1bWVudCwgJGNvbXBpbGUsICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgIHNjb3BlID0gJHNjb3BlLiRuZXcoKSwgLy8gY3JlYXRlIGEgY2hpbGQgc2NvcGUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgb25lXG4gICAgdGVtcGxhdGVTY29wZSxcbiAgICBvcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3MsXG4gICAgZ2V0SXNPcGVuLFxuICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICB0b2dnbGVJbnZva2VyID0gJGF0dHJzLm9uVG9nZ2xlID8gJHBhcnNlKCRhdHRycy5vblRvZ2dsZSkgOiBhbmd1bGFyLm5vb3AsXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXG4gICAga2V5bmF2RW5hYmxlZCA9IGZhbHNlLFxuICAgIHNlbGVjdGVkT3B0aW9uID0gbnVsbCxcbiAgICBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgc2VsZi4kZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoJGF0dHJzLmlzT3Blbikge1xuICAgICAgZ2V0SXNPcGVuID0gJHBhcnNlKCRhdHRycy5pc09wZW4pO1xuICAgICAgc2V0SXNPcGVuID0gZ2V0SXNPcGVuLmFzc2lnbjtcblxuICAgICAgJHNjb3BlLiR3YXRjaChnZXRJc09wZW4sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNjb3BlLmlzT3BlbiA9ICEhdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZHJvcGRvd25BcHBlbmRUb0JvZHkpO1xuICAgIGtleW5hdkVuYWJsZWQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMua2V5Ym9hcmROYXYpO1xuXG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgYm9keS5hcHBlbmQoc2VsZi5kcm9wZG93bk1lbnUpO1xuICAgICAgYm9keS5hZGRDbGFzcygnZHJvcGRvd24nKTtcbiAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gaGFuZGxlRGVzdHJveUV2ZW50KCkge1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKG9wZW4pIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47XG4gIH07XG5cbiAgLy8gQWxsb3cgb3RoZXIgZGlyZWN0aXZlcyB0byB3YXRjaCBzdGF0dXNcbiAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIHNjb3BlLmdldFRvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi50b2dnbGVFbGVtZW50O1xuICB9O1xuXG4gIHNjb3BlLmdldEF1dG9DbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkYXR0cnMuYXV0b0Nsb3NlIHx8ICdhbHdheXMnOyAvL29yICdvdXRzaWRlQ2xpY2snIG9yICdkaXNhYmxlZCdcbiAgfTtcblxuICBzY29wZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuJGVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuaXNLZXluYXZFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGtleW5hdkVuYWJsZWQ7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5ID0gZnVuY3Rpb24oa2V5Q29kZSkge1xuICAgIHZhciBlbGVtcyA9IHNlbGYuZHJvcGRvd25NZW51ID8gLy9JZiBhcHBlbmQgdG8gYm9keSBpcyB1c2VkLlxuICAgICAgKGFuZ3VsYXIuZWxlbWVudChzZWxmLmRyb3Bkb3duTWVudSkuZmluZCgnYScpKSA6XG4gICAgICAoYW5ndWxhci5lbGVtZW50KHNlbGYuJGVsZW1lbnQpLmZpbmQoJ3VsJykuZXEoMCkuZmluZCgnYScpKTtcblxuICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgY2FzZSAoNDApOiB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSAoc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gOlxuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAoMzgpOiB7XG4gICAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihzZWxmLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBlbGVtcy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gPSBzZWxmLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgIDAgOiBzZWxmLnNlbGVjdGVkT3B0aW9uIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxlbXNbc2VsZi5zZWxlY3RlZE9wdGlvbl0uZm9jdXMoKTtcbiAgfTtcblxuICBzY29wZS5nZXREcm9wZG93bkVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gc2VsZi5kcm9wZG93bk1lbnU7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGYudG9nZ2xlRWxlbWVudCkge1xuICAgICAgc2VsZi50b2dnbGVFbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgZnVuY3Rpb24oaXNPcGVuLCB3YXNPcGVuKSB7XG4gICAgaWYgKGFwcGVuZFRvQm9keSAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgdmFyIHBvcyA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKHNlbGYuJGVsZW1lbnQsIHNlbGYuZHJvcGRvd25NZW51LCAnYm90dG9tLWxlZnQnLCB0cnVlKTtcbiAgICAgIHZhciBjc3MgPSB7XG4gICAgICAgIHRvcDogcG9zLnRvcCArICdweCcsXG4gICAgICAgIGRpc3BsYXk6IGlzT3BlbiA/ICdibG9jaycgOiAnbm9uZSdcbiAgICAgIH07XG5cbiAgICAgIHZhciByaWdodGFsaWduID0gc2VsZi5kcm9wZG93bk1lbnUuaGFzQ2xhc3MoJ2Ryb3Bkb3duLW1lbnUtcmlnaHQnKTtcbiAgICAgIGlmICghcmlnaHRhbGlnbikge1xuICAgICAgICBjc3MubGVmdCA9IHBvcy5sZWZ0ICsgJ3B4JztcbiAgICAgICAgY3NzLnJpZ2h0ID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzLmxlZnQgPSAnYXV0byc7XG4gICAgICAgIGNzcy5yaWdodCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIChwb3MubGVmdCArIHNlbGYuJGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSkpICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgc2VsZi5kcm9wZG93bk1lbnUuY3NzKGNzcyk7XG4gICAgfVxuXG4gICAgdmFyIG9wZW5Db250YWluZXIgPSBhcHBlbmRUb0JvZHkgPyBib2R5IDogc2VsZi4kZWxlbWVudDtcblxuICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShvcGVuQ29udGFpbmVyLCBvcGVuQ2xhc3MpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXNPcGVuKSAmJiBpc09wZW4gIT09IHdhc09wZW4pIHtcbiAgICAgICAgdG9nZ2xlSW52b2tlcigkc2NvcGUsIHsgb3BlbjogISFpc09wZW4gfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgJGNvbXBpbGUodHBsQ29udGVudC50cmltKCkpKHRlbXBsYXRlU2NvcGUsIGZ1bmN0aW9uKGRyb3Bkb3duRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIG5ld0VsID0gZHJvcGRvd25FbGVtZW50O1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUgPSBuZXdFbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgZHJvcGRvd25TZXJ2aWNlLm9wZW4oc2NvcGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc2VsZi5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCkge1xuICAgICAgICBpZiAodGVtcGxhdGVTY29wZSkge1xuICAgICAgICAgIHRlbXBsYXRlU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48L3VsPicpO1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudS5yZXBsYWNlV2l0aChuZXdFbCk7XG4gICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XG4gICAgICB9XG5cbiAgICAgIGRyb3Bkb3duU2VydmljZS5jbG9zZShzY29wZSk7XG4gICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNldElzT3BlbikpIHtcbiAgICAgIHNldElzT3Blbigkc2NvcGUsIGlzT3Blbik7XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNjb3BlLmdldEF1dG9DbG9zZSgpICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBvZmZEZXN0cm95ID0gJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBzY29wZS4kZGVzdHJveSgpO1xuICB9KTtcbiAgc2NvcGUuJG9uKCckZGVzdHJveScsIG9mZkRlc3Ryb3kpO1xufV0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ0Ryb3Bkb3duQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGRyb3Bkb3duQ3RybC5pbml0KCBlbGVtZW50ICk7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bicpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duTWVudScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQUMnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRwbFVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuICAgICAgaWYgKHRwbFVybCkge1xuICAgICAgICBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwgPSB0cGxVcmw7XG4gICAgICB9XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudSA9IGVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgna2V5Ym9hcmROYXYnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcblxuICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoWzM4LCA0MF0uaW5kZXhPZihlLndoaWNoKSAhPT0gLTEpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIHZhciBlbGVtcyA9IGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUuZmluZCgnYScpO1xuXG4gICAgICAgICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICAgICAgICBjYXNlICg0MCk6IHsgLy8gRG93blxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSBlbGVtcy5sZW5ndGggLTEgP1xuICAgICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uICsgMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgKDM4KTogeyAvLyBVcFxuICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGVsZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID0gZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uID09PSAwID9cbiAgICAgICAgICAgICAgICAgIDAgOiBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gLSAxO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbGVtc1tkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2Ryb3Bkb3duVG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJz9eZHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xuXG4gICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdkaXNhYmxlZCcpICYmICFhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcblxuICAgICAgLy8gV0FJLUFSSUFcbiAgICAgIGVsZW1lbnQuYXR0cih7ICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSwgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSB9KTtcbiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbiggaXNPcGVuICkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAhIWlzT3Blbik7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5tb2RhbCcsIFtdKVxuXG4vKipcbiAqIEEgaGVscGVyLCBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSB0aGF0IGFjdHMgYXMgYSBtYXAgYnV0IGFsc28gYWxsb3dzIGdldHRpbmcgLyByZW1vdmluZ1xuICogZWxlbWVudHMgaW4gdGhlIExJRk8gb3JkZXJcbiAqL1xuICAuZmFjdG9yeSgnJCRzdGFja2VkTWFwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWRkOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGFja1tpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBrZXlzLnB1c2goc3RhY2tbaV0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChrZXkgPT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShpZHgsIDEpWzBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlVG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBzdG9yZXMgYWxsIHJlZmVyZW5jZXMgYXR0YWNoZWQgdG8ga2V5XG4gKi9cbiAgLmZhY3RvcnkoJyQkbXVsdGlNYXAnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlTmV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1hcCA9IHt9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKS5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1hcFtrZXldXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoYXNLZXk6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICEhbWFwW2tleV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIW1hcFtrZXldKSB7XG4gICAgICAgICAgICAgIG1hcFtrZXldID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1hcFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbWFwW2tleV07XG5cbiAgICAgICAgICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGlkeCA9IHZhbHVlcy5pbmRleE9mKHZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIG1hcFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4vKipcbiAqIEEgaGVscGVyIGRpcmVjdGl2ZSBmb3IgdGhlICRtb2RhbCBzZXJ2aWNlLiBJdCBjcmVhdGVzIGEgYmFja2Ryb3AgZWxlbWVudC5cbiAqL1xuICAuZGlyZWN0aXZlKCdtb2RhbEJhY2tkcm9wJywgW1xuICAgICAgICAgICAnJGFuaW1hdGUnLCAnJGluamVjdG9yJywgJyRtb2RhbFN0YWNrJyxcbiAgZnVuY3Rpb24oJGFuaW1hdGUgLCAgJGluamVjdG9yLCAgICRtb2RhbFN0YWNrKSB7XG4gICAgdmFyICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbCcsXG4gICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5iYWNrZHJvcENsYXNzKTtcbiAgICAgICAgcmV0dXJuIGxpbmtGbjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLm1vZGFsSW5DbGFzcykge1xuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgfSkuc3RhcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBhdHRycy5tb2RhbEluQ2xhc3NcbiAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKS50aGVuKGRvbmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFdpbmRvdycsIFtcbiAgICAgICAgICAgJyRtb2RhbFN0YWNrJywgJyRxJywgJyRhbmltYXRlJywgJyRpbmplY3RvcicsXG4gIGZ1bmN0aW9uKCRtb2RhbFN0YWNrICwgICRxICwgICRhbmltYXRlLCAgICRpbmplY3Rvcikge1xuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnQCdcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHJldHVybiB0QXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sJztcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy53aW5kb3dDbGFzcyB8fCAnJyk7XG4gICAgICAgIHNjb3BlLnNpemUgPSBhdHRycy5zaXplO1xuXG4gICAgICAgIHNjb3BlLmNsb3NlID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgdmFyIG1vZGFsID0gJG1vZGFsU3RhY2suZ2V0VG9wKCk7XG4gICAgICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICYmIG1vZGFsLnZhbHVlLmJhY2tkcm9wICE9PSAnc3RhdGljJyAmJiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MobW9kYWwua2V5LCAnYmFja2Ryb3AgY2xpY2snKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IGFkZGVkIHRvIHRoZSBzY29wZSBmb3IgdGhlIHB1cnBvc2Ugb2YgZGV0ZWN0aW5nIHdoZW4gdGhpcyBkaXJlY3RpdmUgaXMgcmVuZGVyZWQuXG4gICAgICAgIC8vIFdlIGNhbiBkZXRlY3QgdGhhdCBieSB1c2luZyB0aGlzIHByb3BlcnR5IGluIHRoZSB0ZW1wbGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBkaXJlY3RpdmUgYW5kIHRoZW4gdXNlXG4gICAgICAgIC8vIHtAbGluayBBdHRyaWJ1dGUjJG9ic2VydmV9IG9uIGl0LiBGb3IgbW9yZSBkZXRhaWxzIHBsZWFzZSBzZWUge0BsaW5rIFRhYmxlQ29sdW1uUmVzaXplfS5cbiAgICAgICAgc2NvcGUuJGlzUmVuZGVyZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIERlZmVycmVkIG9iamVjdCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGlzIG1vZGFsIGlzIHJlbmRlci5cbiAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJPYmogPSAkcS5kZWZlcigpO1xuICAgICAgICAvLyBPYnNlcnZlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9uIG5leHQgZGlnZXN0IGN5Y2xlIGFmdGVyIGNvbXBpbGF0aW9uLCBlbnN1cmluZyB0aGF0IHRoZSBET00gaXMgcmVhZHkuXG4gICAgICAgIC8vIEluIG9yZGVyIHRvIHVzZSB0aGlzIHdheSBvZiBmaW5kaW5nIHdoZXRoZXIgRE9NIGlzIHJlYWR5LCB3ZSBuZWVkIHRvIG9ic2VydmUgYSBzY29wZSBwcm9wZXJ0eSB1c2VkIGluIG1vZGFsJ3MgdGVtcGxhdGUuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtb2RhbFJlbmRlcicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RhbFJlbmRlckRlZmVyT2JqLnByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZSA9ICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbmltYXRpb25Qcm9taXNlID0gJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGRvbmUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICAkcS53aGVuKGFuaW1hdGlvblByb21pc2UpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRzV2l0aEF1dG9mb2N1cyA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnW2F1dG9mb2N1c10nKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXV0by1mb2N1c2luZyBvZiBhIGZyZXNobHktb3BlbmVkIG1vZGFsIGVsZW1lbnQgY2F1c2VzIGFueSBjaGlsZCBlbGVtZW50c1xuICAgICAgICAgICAgICogd2l0aCB0aGUgYXV0b2ZvY3VzIGF0dHJpYnV0ZSB0byBsb3NlIGZvY3VzLiBUaGlzIGlzIGFuIGlzc3VlIG9uIHRvdWNoXG4gICAgICAgICAgICAgKiBiYXNlZCBkZXZpY2VzIHdoaWNoIHdpbGwgc2hvdyBhbmQgdGhlbiBoaWRlIHRoZSBvbnNjcmVlbiBrZXlib2FyZC5cbiAgICAgICAgICAgICAqIEF0dGVtcHRzIHRvIHJlZm9jdXMgdGhlIGF1dG9mb2N1cyBlbGVtZW50IHZpYSBKYXZhU2NyaXB0IHdpbGwgbm90IHJlb3BlblxuICAgICAgICAgICAgICogdGhlIG9uc2NyZWVuIGtleWJvYXJkLiBGaXhlZCBieSB1cGRhdGVkIHRoZSBmb2N1c2luZyBsb2dpYyB0byBvbmx5IGF1dG9mb2N1c1xuICAgICAgICAgICAgICogdGhlIG1vZGFsIGVsZW1lbnQgaWYgdGhlIG1vZGFsIGRvZXMgbm90IGNvbnRhaW4gYW4gYXV0b2ZvY3VzIGVsZW1lbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpbnB1dHNXaXRoQXV0b2ZvY3VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpbnB1dHNXaXRoQXV0b2ZvY3VzWzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBOb3RpZnkge0BsaW5rICRtb2RhbFN0YWNrfSB0aGF0IG1vZGFsIGlzIHJlbmRlcmVkLlxuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZChtb2RhbC5rZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxBbmltYXRpb25DbGFzcycsIFtcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgICAgaWYgKHRBdHRycy5tb2RhbEFuaW1hdGlvbikge1xuICAgICAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLm1vZGFsQW5pbWF0aW9uQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSlcblxuICAuZGlyZWN0aXZlKCdtb2RhbFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgICAgICAkdHJhbnNjbHVkZSgkc2NvcGUuJHBhcmVudCwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmZhY3RvcnkoJyRtb2RhbFN0YWNrJywgW1xuICAgICAgICAgICAgICckYW5pbWF0ZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsXG4gICAgICAgICAgICAgJyRxJyxcbiAgICAgICAgICAgICAnJGluamVjdG9yJyxcbiAgICAgICAgICAgICAnJCRtdWx0aU1hcCcsXG4gICAgICAgICAgICAgJyQkc3RhY2tlZE1hcCcsXG4gICAgZnVuY3Rpb24oJGFuaW1hdGUgLCAgJHRpbWVvdXQgLCAgJGRvY3VtZW50ICwgICRjb21waWxlICwgICRyb290U2NvcGUgLFxuICAgICAgICAgICAgICAkcSxcbiAgICAgICAgICAgICAgJGluamVjdG9yLFxuICAgICAgICAgICAgICAkJG11bHRpTWFwLFxuICAgICAgICAgICAgICAkJHN0YWNrZWRNYXApIHtcbiAgICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICAgIGlmICgkaW5qZWN0b3IuaGFzKCckYW5pbWF0ZUNzcycpKSB7XG4gICAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcblxuICAgICAgdmFyIGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGU7XG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciBvcGVuZWRDbGFzc2VzID0gJCRtdWx0aU1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHtcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcbiAgICAgIH07XG5cbiAgICAgIC8vTW9kYWwgZm9jdXMgYmVoYXZpb3JcbiAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50TGlzdDtcbiAgICAgIHZhciBmb2N1c0luZGV4ID0gMDtcbiAgICAgIHZhciB0YWJhYmJsZVNlbGVjdG9yID0gJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgJyArXG4gICAgICAgICdidXR0b246bm90KFtkaXNhYmxlZF0pLHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgJyArXG4gICAgICAgICdpZnJhbWUsIG9iamVjdCwgZW1iZWQsICpbdGFiaW5kZXhdLCAqW2NvbnRlbnRlZGl0YWJsZT10cnVlXSc7XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3BCYWNrZHJvcEluZGV4O1xuICAgICAgfVxuXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChiYWNrZHJvcEluZGV4LCBmdW5jdGlvbihuZXdCYWNrZHJvcEluZGV4KSB7XG4gICAgICAgIGlmIChiYWNrZHJvcFNjb3BlKSB7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IG5ld0JhY2tkcm9wSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBlbGVtZW50VG9SZWNlaXZlRm9jdXMpIHtcbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApO1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKS52YWx1ZTtcblxuICAgICAgICAvL2NsZWFuIHVwIHRoZSBzdGFja1xuICAgICAgICBvcGVuZWRXaW5kb3dzLnJlbW92ZShtb2RhbEluc3RhbmNlKTtcblxuICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUobW9kYWxXaW5kb3cubW9kYWxEb21FbCwgbW9kYWxXaW5kb3cubW9kYWxTY29wZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG1vZGFsQm9keUNsYXNzID0gbW9kYWxXaW5kb3cub3BlbmVkQ2xhc3MgfHwgT1BFTkVEX01PREFMX0NMQVNTO1xuICAgICAgICAgIG9wZW5lZENsYXNzZXMucmVtb3ZlKG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgICBib2R5LnRvZ2dsZUNsYXNzKG1vZGFsQm9keUNsYXNzLCBvcGVuZWRDbGFzc2VzLmhhc0tleShtb2RhbEJvZHlDbGFzcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tSZW1vdmVCYWNrZHJvcCgpO1xuXG4gICAgICAgIC8vbW92ZSBmb2N1cyB0byBzcGVjaWZpZWQgZWxlbWVudCBpZiBhdmFpbGFibGUsIG9yIGVsc2UgdG8gYm9keVxuICAgICAgICBpZiAoZWxlbWVudFRvUmVjZWl2ZUZvY3VzICYmIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cykge1xuICAgICAgICAgIGVsZW1lbnRUb1JlY2VpdmVGb2N1cy5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJvZHkuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGVja1JlbW92ZUJhY2tkcm9wKCkge1xuICAgICAgICAgIC8vcmVtb3ZlIGJhY2tkcm9wIGlmIG5vIGxvbmdlciBuZWVkZWRcbiAgICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBiYWNrZHJvcFNjb3BlUmVmID0gYmFja2Ryb3BTY29wZTtcbiAgICAgICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYmFja2Ryb3BTY29wZVJlZiA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJhY2tkcm9wRG9tRWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlQWZ0ZXJBbmltYXRlKGRvbUVsLCBzY29wZSwgZG9uZSkge1xuICAgICAgICB2YXIgYXN5bmNEZWZlcnJlZDtcbiAgICAgICAgdmFyIGFzeW5jUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHZhciBzZXRJc0FzeW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFhc3luY0RlZmVycmVkKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGFzeW5jUHJvbWlzZSA9IGFzeW5jRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNEb25lKCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgc2V0SXNBc3luYyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCBhc3luY1Byb21pc2UgbWlnaHQgYmUgbnVsbC5cbiAgICAgICAgLy8gVGhhdCdzIHdoZW4gc2V0SXNBc3luYyBoYXMgbm90IGJlZW4gY2FsbGVkIGR1cmluZyB0aGVcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxuICAgICAgICByZXR1cm4gJHEud2hlbihhc3luY1Byb21pc2UpLnRoZW4oYWZ0ZXJBbmltYXRpbmcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAkYW5pbWF0ZUNzcyhkb21FbCwge1xuICAgICAgICAgICAgICBldmVudDogJ2xlYXZlJ1xuICAgICAgICAgICAgfSkuc3RhcnQoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBkb21FbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShkb21FbCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGRvY3VtZW50LmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybiBldnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUua2V5Ym9hcmQpIHtcbiAgICAgICAgICBzd2l0Y2ggKGV2dC53aGljaCl7XG4gICAgICAgICAgICBjYXNlIDI3OiB7XG4gICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSA5OiB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLmxvYWRGb2N1c0VsZW1lbnRMaXN0KG1vZGFsKTtcbiAgICAgICAgICAgICAgdmFyIGZvY3VzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoZXZ0LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbShldnQpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5MYXN0SXRlbShldnQpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChmb2N1c0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJG1vZGFsU3RhY2sub3BlbiA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIG1vZGFsKSB7XG4gICAgICAgIHZhciBtb2RhbE9wZW5lciA9ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50LFxuICAgICAgICAgIG1vZGFsQm9keUNsYXNzID0gbW9kYWwub3BlbmVkQ2xhc3MgfHwgT1BFTkVEX01PREFMX0NMQVNTO1xuXG4gICAgICAgIG9wZW5lZFdpbmRvd3MuYWRkKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICBkZWZlcnJlZDogbW9kYWwuZGVmZXJyZWQsXG4gICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsLnJlbmRlckRlZmVycmVkLFxuICAgICAgICAgIG1vZGFsU2NvcGU6IG1vZGFsLnNjb3BlLFxuICAgICAgICAgIGJhY2tkcm9wOiBtb2RhbC5iYWNrZHJvcCxcbiAgICAgICAgICBrZXlib2FyZDogbW9kYWwua2V5Ym9hcmQsXG4gICAgICAgICAgb3BlbmVkQ2xhc3M6IG1vZGFsLm9wZW5lZENsYXNzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9wZW5lZENsYXNzZXMucHV0KG1vZGFsQm9keUNsYXNzLCBtb2RhbEluc3RhbmNlKTtcblxuICAgICAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5JykuZXEoMCksXG4gICAgICAgICAgICBjdXJyQmFja2Ryb3BJbmRleCA9IGJhY2tkcm9wSW5kZXgoKTtcblxuICAgICAgICBpZiAoY3VyckJhY2tkcm9wSW5kZXggPj0gMCAmJiAhYmFja2Ryb3BEb21FbCkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZS5pbmRleCA9IGN1cnJCYWNrZHJvcEluZGV4O1xuICAgICAgICAgIHZhciBhbmd1bGFyQmFja2dyb3VuZERvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLWJhY2tkcm9wPVwibW9kYWwtYmFja2Ryb3BcIj48L2Rpdj4nKTtcbiAgICAgICAgICBhbmd1bGFyQmFja2dyb3VuZERvbUVsLmF0dHIoJ2JhY2tkcm9wLWNsYXNzJywgbW9kYWwuYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgICAgaWYgKG1vZGFsLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBiYWNrZHJvcERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckJhY2tncm91bmREb21FbCkoYmFja2Ryb3BTY29wZSk7XG4gICAgICAgICAgYm9keS5hcHBlbmQoYmFja2Ryb3BEb21FbCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYW5ndWxhckRvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IG1vZGFsLXdpbmRvdz1cIm1vZGFsLXdpbmRvd1wiPjwvZGl2PicpO1xuICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cih7XG4gICAgICAgICAgJ3RlbXBsYXRlLXVybCc6IG1vZGFsLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICd3aW5kb3ctY2xhc3MnOiBtb2RhbC53aW5kb3dDbGFzcyxcbiAgICAgICAgICAnc2l6ZSc6IG1vZGFsLnNpemUsXG4gICAgICAgICAgJ2luZGV4Jzogb3BlbmVkV2luZG93cy5sZW5ndGgoKSAtIDEsXG4gICAgICAgICAgJ2FuaW1hdGUnOiAnYW5pbWF0ZSdcbiAgICAgICAgfSkuaHRtbChtb2RhbC5jb250ZW50KTtcbiAgICAgICAgaWYgKG1vZGFsLmFuaW1hdGlvbikge1xuICAgICAgICAgIGFuZ3VsYXJEb21FbC5hdHRyKCdtb2RhbC1hbmltYXRpb24nLCAndHJ1ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGFsRG9tRWwgPSAkY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKTtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbERvbUVsID0gbW9kYWxEb21FbDtcbiAgICAgICAgb3BlbmVkV2luZG93cy50b3AoKS52YWx1ZS5tb2RhbE9wZW5lciA9IG1vZGFsT3BlbmVyO1xuICAgICAgICBib2R5LmFwcGVuZChtb2RhbERvbUVsKTtcbiAgICAgICAgYm9keS5hZGRDbGFzcyhtb2RhbEJvZHlDbGFzcyk7XG5cbiAgICAgICAgJG1vZGFsU3RhY2suY2xlYXJGb2N1c0xpc3RDYWNoZSgpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpIHtcbiAgICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJGJyb2FkY2FzdCgnbW9kYWwuY2xvc2luZycsIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKS5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgfVxuXG4gICAgICAkbW9kYWxTdGFjay5jbG9zZSA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93ICYmIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdCwgdHJ1ZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3MgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCByZWFzb24pIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdyAmJiBicm9hZGNhc3RDbG9zaW5nKG1vZGFsV2luZG93LCByZWFzb24sIGZhbHNlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxPcGVuZXIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3c7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzQWxsID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIHZhciB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIHdoaWxlICh0b3BNb2RhbCAmJiB0aGlzLmRpc21pc3ModG9wTW9kYWwua2V5LCByZWFzb24pKSB7XG4gICAgICAgICAgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5nZXRUb3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG9wZW5lZFdpbmRvd3MudG9wKCk7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5tb2RhbFJlbmRlcmVkID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUucmVuZGVyRGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5mb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0WzBdLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzTGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdFtmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiAoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCkgPT0gZm9jdXNhYmxlRWxlbWVudExpc3RbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09IGZvY3VzYWJsZUVsZW1lbnRMaXN0W2ZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmNsZWFyRm9jdXNMaXN0Q2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3QgPSBbXTtcbiAgICAgICAgZm9jdXNJbmRleCA9IDA7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdCA9IGZ1bmN0aW9uKG1vZGFsV2luZG93KSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdCA9PT0gdW5kZWZpbmVkIHx8ICFmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGgwKSB7XG4gICAgICAgICAgaWYgKG1vZGFsV2luZG93KSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxEb21FMSA9IG1vZGFsV2luZG93LnZhbHVlLm1vZGFsRG9tRWw7XG4gICAgICAgICAgICBpZiAobW9kYWxEb21FMSAmJiBtb2RhbERvbUUxLmxlbmd0aCkge1xuICAgICAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdCA9IG1vZGFsRG9tRTFbMF0ucXVlcnlTZWxlY3RvckFsbCh0YWJhYmJsZVNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyRtb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJGluamVjdG9yJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckbW9kYWxTdGFjaycsXG4gICAgICAgIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRyb290U2NvcGUsICRxLCAkdGVtcGxhdGVSZXF1ZXN0LCAkY29udHJvbGxlciwgJG1vZGFsU3RhY2spIHtcbiAgICAgICAgICB2YXIgJG1vZGFsID0ge307XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZVByb21pc2Uob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudGVtcGxhdGUgPyAkcS53aGVuKG9wdGlvbnMudGVtcGxhdGUpIDpcbiAgICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChhbmd1bGFyLmlzRnVuY3Rpb24ob3B0aW9ucy50ZW1wbGF0ZVVybCkgPyAob3B0aW9ucy50ZW1wbGF0ZVVybCkoKSA6IG9wdGlvbnMudGVtcGxhdGVVcmwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGdldFJlc29sdmVQcm9taXNlcyhyZXNvbHZlcykge1xuICAgICAgICAgICAgdmFyIHByb21pc2VzQXJyID0gW107XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odmFsdWUpIHx8IGFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbigkaW5qZWN0b3IuZ2V0KHZhbHVlKSkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2VzQXJyLnB1c2goJHEud2hlbih2YWx1ZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlc0FycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJvbWlzZUNoYWluID0gbnVsbDtcbiAgICAgICAgICAkbW9kYWwuZ2V0UHJvbWlzZUNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZUNoYWluO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkbW9kYWwub3BlbiA9IGZ1bmN0aW9uIChtb2RhbE9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsT3BlbmVkRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvL3ByZXBhcmUgYW4gaW5zdGFuY2Ugb2YgYSBtb2RhbCB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJzIGFuZCByZXR1cm5lZCB0byBhIGNhbGxlclxuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSB7XG4gICAgICAgICAgICAgIHJlc3VsdDogbW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICBvcGVuZWQ6IG1vZGFsT3BlbmVkRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgcmVuZGVyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suY2xvc2UobW9kYWxJbnN0YW5jZSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGlzbWlzczogZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsSW5zdGFuY2UsIHJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vbWVyZ2UgYW5kIGNsZWFuIHVwIG9wdGlvbnNcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCAkbW9kYWxQcm92aWRlci5vcHRpb25zLCBtb2RhbE9wdGlvbnMpO1xuICAgICAgICAgICAgbW9kYWxPcHRpb25zLnJlc29sdmUgPSBtb2RhbE9wdGlvbnMucmVzb2x2ZSB8fCB7fTtcblxuICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKCFtb2RhbE9wdGlvbnMudGVtcGxhdGUgJiYgIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSA9XG4gICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyldLmNvbmNhdChnZXRSZXNvbHZlUHJvbWlzZXMobW9kYWxPcHRpb25zLnJlc29sdmUpKSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBleGlzdGluZyBwcm9taXNlIGNoYWluLlxuICAgICAgICAgICAgLy8gVGhlbiBzd2l0Y2ggdG8gb3VyIG93biBjb21iaW5lZCBwcm9taXNlIGRlcGVuZGVuY3kgKHJlZ2FyZGxlc3Mgb2YgaG93IHRoZSBwcmV2aW91cyBtb2RhbCBmYXJlZCkuXG4gICAgICAgICAgICAvLyBUaGVuIGFkZCB0byAkbW9kYWxTdGFjayBhbmQgcmVzb2x2ZSBvcGVuZWQuXG4gICAgICAgICAgICAvLyBGaW5hbGx5IGNsZWFuIHVwIHRoZSBjaGFpbiB2YXJpYWJsZSBpZiBubyBzdWJzZXF1ZW50IG1vZGFsIGhhcyBvdmVyd3JpdHRlbiBpdC5cbiAgICAgICAgICAgIHZhciBzYW1lUHJvbWlzZTtcbiAgICAgICAgICAgIHNhbWVQcm9taXNlID0gcHJvbWlzZUNoYWluID0gJHEuYWxsKFtwcm9taXNlQ2hhaW5dKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHsgcmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U7IH0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZTsgfSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gcmVzb2x2ZVN1Y2Nlc3ModHBsQW5kVmFycykge1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSAobW9kYWxPcHRpb25zLnNjb3BlIHx8ICRyb290U2NvcGUpLiRuZXcoKTtcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7XG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcyA9IG1vZGFsSW5zdGFuY2UuZGlzbWlzcztcblxuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFtb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcygnJHVpYlVuc2NoZWR1bGVkRGVzdHJ1Y3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxMb2NhbHMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb2x2ZUl0ZXIgPSAxO1xuXG4gICAgICAgICAgICAgICAgLy9jb250cm9sbGVyc1xuICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kc2NvcGUgPSBtb2RhbFNjb3BlO1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kbW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobW9kYWxPcHRpb25zLnJlc29sdmUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybExvY2Fsc1trZXldID0gdHBsQW5kVmFyc1tyZXNvbHZlSXRlcisrXTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UgPSAkY29udHJvbGxlcihtb2RhbE9wdGlvbnMuY29udHJvbGxlciwgY3RybExvY2Fscyk7XG4gICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChjdHJsSW5zdGFuY2UsIG1vZGFsU2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZVttb2RhbE9wdGlvbnMuY29udHJvbGxlckFzXSA9IGN0cmxJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5vcGVuKG1vZGFsSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlOiBtb2RhbFNjb3BlLFxuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICByZW5kZXJEZWZlcnJlZDogbW9kYWxSZW5kZXJEZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRwbEFuZFZhcnNbMF0sXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb246IG1vZGFsT3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcDogbW9kYWxPcHRpb25zLmJhY2tkcm9wLFxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsT3B0aW9ucy5rZXlib2FyZCxcbiAgICAgICAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLFxuICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dDbGFzcyxcbiAgICAgICAgICAgICAgICAgIHdpbmRvd1RlbXBsYXRlVXJsOiBtb2RhbE9wdGlvbnMud2luZG93VGVtcGxhdGVVcmwsXG4gICAgICAgICAgICAgICAgICBzaXplOiBtb2RhbE9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICAgICAgICAgIG9wZW5lZENsYXNzOiBtb2RhbE9wdGlvbnMub3BlbmVkQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIHJlc29sdmVFcnJvcihyZWFzb24pIHtcbiAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgbW9kYWxSZXN1bHREZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VDaGFpbiA9PT0gc2FtZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlQ2hhaW4gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkbW9kYWw7XG4gICAgICAgIH1dXG4gICAgfTtcblxuICAgIHJldHVybiAkbW9kYWxQcm92aWRlcjtcbiAgfSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucGFnaW5hdGlvbicsIFtdKVxuLmNvbnRyb2xsZXIoJ1BhZ2luYXRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBzZXROdW1QYWdlcyA9ICRhdHRycy5udW1QYWdlcyA/ICRwYXJzZSgkYXR0cnMubnVtUGFnZXMpLmFzc2lnbiA6IGFuZ3VsYXIubm9vcDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGNvbmZpZykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICB9O1xuXG4gICAgaWYgKCRhdHRycy5pdGVtc1BlclBhZ2UpIHtcbiAgICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLml0ZW1zUGVyUGFnZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHNlbGYuaXRlbXNQZXJQYWdlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGNvbmZpZy5pdGVtc1BlclBhZ2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndG90YWxJdGVtcycsIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBzZWxmLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsUGFnZXMnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgc2V0TnVtUGFnZXMoJHNjb3BlLiRwYXJlbnQsIHZhbHVlKTsgLy8gUmVhZG9ubHkgdmFyaWFibGVcblxuICAgICAgaWYgKCAkc2NvcGUucGFnZSA+IHZhbHVlICkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0UGFnZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jYWxjdWxhdGVUb3RhbFBhZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRvdGFsUGFnZXMgPSB0aGlzLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gdGhpcy5pdGVtc1BlclBhZ2UpO1xuICAgIHJldHVybiBNYXRoLm1heCh0b3RhbFBhZ2VzIHx8IDAsIDEpO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnBhZ2UgPSBwYXJzZUludChuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIGV2dCkge1xuICAgIGlmIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIHZhciBjbGlja0FsbG93ZWQgPSAhJHNjb3BlLm5nRGlzYWJsZWQgfHwgIWV2dDtcbiAgICBpZiAoY2xpY2tBbGxvd2VkICYmICRzY29wZS5wYWdlICE9PSBwYWdlICYmIHBhZ2UgPiAwICYmIHBhZ2UgPD0gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgIGlmIChldnQgJiYgZXZ0LnRhcmdldCkge1xuICAgICAgICBldnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgIH1cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUocGFnZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuICRzY29wZVtrZXkgKyAnVGV4dCddIHx8IHNlbGYuY29uZmlnW2tleSArICdUZXh0J107XG4gIH07XG5cbiAgJHNjb3BlLm5vUHJldmlvdXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09IDE7XG4gIH07XG5cbiAgJHNjb3BlLm5vTmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gJHNjb3BlLnRvdGFsUGFnZXM7XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdwYWdpbmF0aW9uQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBib3VuZGFyeUxpbmtzOiBmYWxzZSxcbiAgZGlyZWN0aW9uTGlua3M6IHRydWUsXG4gIGZpcnN0VGV4dDogJ0ZpcnN0JyxcbiAgcHJldmlvdXNUZXh0OiAnUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQnLFxuICBsYXN0VGV4dDogJ0xhc3QnLFxuICByb3RhdGU6IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2luYXRpb24nLCBbJyRwYXJzZScsICdwYWdpbmF0aW9uQ29uZmlnJywgZnVuY3Rpb24oJHBhcnNlLCBwYWdpbmF0aW9uQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIGZpcnN0VGV4dDogJ0AnLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbGFzdFRleHQ6ICdAJyxcbiAgICAgIG5nRGlzYWJsZWQ6Jz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2luYXRpb24nLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnUGFnaW5hdGlvbkNvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ3BhZ2luYXRpb24nLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgLy8gU2V0dXAgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICB2YXIgbWF4U2l6ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heFNpemUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5tYXhTaXplKSA6IHBhZ2luYXRpb25Db25maWcubWF4U2l6ZSxcbiAgICAgICAgICByb3RhdGUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5yb3RhdGUpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5yb3RhdGUpIDogcGFnaW5hdGlvbkNvbmZpZy5yb3RhdGU7XG4gICAgICBzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuYm91bmRhcnlMaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogcGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAgICAgc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kaXJlY3Rpb25MaW5rcykgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgICAgIHBhZ2luYXRpb25DdHJsLmluaXQobmdNb2RlbEN0cmwsIHBhZ2luYXRpb25Db25maWcpO1xuXG4gICAgICBpZiAoYXR0cnMubWF4U2l6ZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMubWF4U2l6ZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgbWF4U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgcGFnaW5hdGlvbkN0cmwucmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICAgICAgZnVuY3Rpb24gbWFrZVBhZ2UobnVtYmVyLCB0ZXh0LCBpc0FjdGl2ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgYWN0aXZlOiBpc0FjdGl2ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQYWdlcyhjdXJyZW50UGFnZSwgdG90YWxQYWdlcykge1xuICAgICAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgICAgICAvLyBEZWZhdWx0IHBhZ2UgbGltaXRzXG4gICAgICAgIHZhciBzdGFydFBhZ2UgPSAxLCBlbmRQYWdlID0gdG90YWxQYWdlcztcbiAgICAgICAgdmFyIGlzTWF4U2l6ZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSAmJiBtYXhTaXplIDwgdG90YWxQYWdlcztcblxuICAgICAgICAvLyByZWNvbXB1dGUgaWYgbWF4U2l6ZVxuICAgICAgICBpZiAoaXNNYXhTaXplZCkge1xuICAgICAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgICAgIC8vIEN1cnJlbnQgcGFnZSBpcyBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgdmlzaWJsZSBvbmVzXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSBNYXRoLm1heChjdXJyZW50UGFnZSAtIE1hdGguZmxvb3IobWF4U2l6ZS8yKSwgMSk7XG4gICAgICAgICAgICBlbmRQYWdlICAgPSBzdGFydFBhZ2UgKyBtYXhTaXplIC0gMTtcblxuICAgICAgICAgICAgLy8gQWRqdXN0IGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgICAgICBpZiAoZW5kUGFnZSA+IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgICAgZW5kUGFnZSAgID0gdG90YWxQYWdlcztcbiAgICAgICAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIG1heFNpemUgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBWaXNpYmxlIHBhZ2VzIGFyZSBwYWdpbmF0ZWQgd2l0aCBtYXhTaXplXG4gICAgICAgICAgICBzdGFydFBhZ2UgPSAoKE1hdGguY2VpbChjdXJyZW50UGFnZSAvIG1heFNpemUpIC0gMSkgKiBtYXhTaXplKSArIDE7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBsYXN0IHBhZ2UgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgICAgIGVuZFBhZ2UgPSBNYXRoLm1pbihzdGFydFBhZ2UgKyBtYXhTaXplIC0gMSwgdG90YWxQYWdlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyIGxpbmtzXG4gICAgICAgIGZvciAodmFyIG51bWJlciA9IHN0YXJ0UGFnZTsgbnVtYmVyIDw9IGVuZFBhZ2U7IG51bWJlcisrKSB7XG4gICAgICAgICAgdmFyIHBhZ2UgPSBtYWtlUGFnZShudW1iZXIsIG51bWJlciwgbnVtYmVyID09PSBjdXJyZW50UGFnZSk7XG4gICAgICAgICAgcGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBsaW5rcyB0byBtb3ZlIGJldHdlZW4gcGFnZSBzZXRzXG4gICAgICAgIGlmIChpc01heFNpemVkICYmICEgcm90YXRlKSB7XG4gICAgICAgICAgaWYgKHN0YXJ0UGFnZSA+IDEpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1BhZ2VTZXQgPSBtYWtlUGFnZShzdGFydFBhZ2UgLSAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMudW5zaGlmdChwcmV2aW91c1BhZ2VTZXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbmRQYWdlIDwgdG90YWxQYWdlcykge1xuICAgICAgICAgICAgdmFyIG5leHRQYWdlU2V0ID0gbWFrZVBhZ2UoZW5kUGFnZSArIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy5wdXNoKG5leHRQYWdlU2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFnZXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IHBhZ2luYXRpb25DdHJsLnJlbmRlcjtcbiAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBvcmlnaW5hbFJlbmRlcigpO1xuICAgICAgICBpZiAoc2NvcGUucGFnZSA+IDAgJiYgc2NvcGUucGFnZSA8PSBzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgc2NvcGUucGFnZXMgPSBnZXRQYWdlcyhzY29wZS5wYWdlLCBzY29wZS50b3RhbFBhZ2VzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCdwYWdlckNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgcHJldmlvdXNUZXh0OiAnwqsgUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQgwrsnLFxuICBhbGlnbjogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgncGFnZXInLCBbJ3BhZ2VyQ29uZmlnJywgZnVuY3Rpb24ocGFnZXJDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbmdEaXNhYmxlZDogJz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3BhZ2VyJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdwYWdpbmF0aW9uJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sJztcbiAgICB9LFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHBhZ2luYXRpb25DdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcbiAgICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICBzY29wZS5hbGlnbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmFsaWduKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuYWxpZ24pIDogcGFnZXJDb25maWcuYWxpZ247XG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdlckNvbmZpZyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCB0b29sdGlwcywgYW5kIHNlbGVjdG9yIGRlbGVnYXRpb24uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudG9vbHRpcCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5iaW5kSHRtbCddKVxuXG4vKipcbiAqIFRoZSAkdG9vbHRpcCBzZXJ2aWNlIGNyZWF0ZXMgdG9vbHRpcC0gYW5kIHBvcG92ZXItbGlrZSBkaXJlY3RpdmVzIGFzIHdlbGwgYXNcbiAqIGhvdXNlcyBnbG9iYWwgb3B0aW9ucyBmb3IgdGhlbS5cbiAqL1xuLnByb3ZpZGVyKCckdG9vbHRpcCcsIGZ1bmN0aW9uKCkge1xuICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zIHRvb2x0aXAgYW5kIHBvcG92ZXIuXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwb3B1cERlbGF5OiAwLFxuICAgIHVzZUNvbnRlbnRFeHA6IGZhbHNlXG4gIH07XG5cbiAgLy8gRGVmYXVsdCBoaWRlIHRyaWdnZXJzIGZvciBlYWNoIHNob3cgdHJpZ2dlclxuICB2YXIgdHJpZ2dlck1hcCA9IHtcbiAgICAnbW91c2VlbnRlcic6ICdtb3VzZWxlYXZlJyxcbiAgICAnY2xpY2snOiAnY2xpY2snLFxuICAgICdmb2N1cyc6ICdibHVyJyxcbiAgICAnbm9uZSc6ICcnXG4gIH07XG5cbiAgLy8gVGhlIG9wdGlvbnMgc3BlY2lmaWVkIHRvIHRoZSBwcm92aWRlciBnbG9iYWxseS5cbiAgdmFyIGdsb2JhbE9wdGlvbnMgPSB7fTtcblxuICAvKipcbiAgICogYG9wdGlvbnMoe30pYCBhbGxvd3MgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2YgYWxsIHRvb2x0aXBzIGluIHRoZVxuICAgKiBhcHBsaWNhdGlvbi5cbiAgICpcbiAgICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoICdBcHAnLCBbJ3VpLmJvb3RzdHJhcC50b29sdGlwJ10sIGZ1bmN0aW9uKCAkdG9vbHRpcFByb3ZpZGVyICkge1xuICAgKiAgICAgLy8gcGxhY2UgdG9vbHRpcHMgbGVmdCBpbnN0ZWFkIG9mIHRvcCBieSBkZWZhdWx0XG4gICAqICAgICAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnMoIHsgcGxhY2VtZW50OiAnbGVmdCcgfSApO1xuICAgKiAgIH0pO1xuICAgKi9cblx0dGhpcy5vcHRpb25zID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHRhbmd1bGFyLmV4dGVuZChnbG9iYWxPcHRpb25zLCB2YWx1ZSk7XG5cdH07XG5cbiAgLyoqXG4gICAqIFRoaXMgYWxsb3dzIHlvdSB0byBleHRlbmQgdGhlIHNldCBvZiB0cmlnZ2VyIG1hcHBpbmdzIGF2YWlsYWJsZS4gRS5nLjpcbiAgICpcbiAgICogICAkdG9vbHRpcFByb3ZpZGVyLnNldFRyaWdnZXJzKCAnb3BlblRyaWdnZXInOiAnY2xvc2VUcmlnZ2VyJyApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzKHRyaWdnZXJzKSB7XG4gICAgYW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCwgdHJpZ2dlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlLWNhc2UuXG4gICAqL1xuICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpIHtcbiAgICB2YXIgcmVnZXhwID0gL1tBLVpdL2c7XG4gICAgdmFyIHNlcGFyYXRvciA9ICctJztcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLlxuICAgKiBUT0RPIHN1cHBvcnQgbXVsdGlwbGUgdHJpZ2dlcnNcbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckY29tcGlsZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHBvc2l0aW9uJywgJyRpbnRlcnBvbGF0ZScsICckcm9vdFNjb3BlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR3aW5kb3csICRjb21waWxlLCAkdGltZW91dCwgJGRvY3VtZW50LCAkcG9zaXRpb24sICRpbnRlcnBvbGF0ZSwgJHJvb3RTY29wZSwgJHBhcnNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwKHR5cGUsIHByZWZpeCwgZGVmYXVsdFRyaWdnZXJTaG93LCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBnbG9iYWxPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBzaG93IGFuZCBoaWRlIHRyaWdnZXJzLlxuICAgICAgICpcbiAgICAgICAqIElmIGEgdHJpZ2dlciBpcyBzdXBwbGllZCxcbiAgICAgICAqIGl0IGlzIHVzZWQgdG8gc2hvdyB0aGUgdG9vbHRpcDsgb3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRyaWdnZXJgXG4gICAgICAgKiBvcHRpb24gcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2Q7IGVsc2UgaXQgd2lsbFxuICAgICAgICogZGVmYXVsdCB0byB0aGUgdHJpZ2dlciBzdXBwbGllZCB0byB0aGlzIGRpcmVjdGl2ZSBmYWN0b3J5LlxuICAgICAgICpcbiAgICAgICAqIFRoZSBoaWRlIHRyaWdnZXIgaXMgYmFzZWQgb24gdGhlIHNob3cgdHJpZ2dlci4gSWYgdGhlIGB0cmlnZ2VyYCBvcHRpb25cbiAgICAgICAqIHdhcyBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZCwgaXQgd2lsbCB1c2UgdGhlXG4gICAgICAgKiBtYXBwZWQgdHJpZ2dlciBmcm9tIGB0cmlnZ2VyTWFwYCBvciB0aGUgcGFzc2VkIHRyaWdnZXIgaWYgdGhlIG1hcCBpc1xuICAgICAgICogdW5kZWZpbmVkOyBvdGhlcndpc2UsIGl0IHVzZXMgdGhlIGB0cmlnZ2VyTWFwYCB2YWx1ZSBvZiB0aGUgc2hvd1xuICAgICAgICogdHJpZ2dlcjsgZWxzZSBpdCB3aWxsIGp1c3QgdXNlIHRoZSBzaG93IHRyaWdnZXIuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFRyaWdnZXJzKHRyaWdnZXIpIHtcbiAgICAgICAgdmFyIHNob3cgPSAodHJpZ2dlciB8fCBvcHRpb25zLnRyaWdnZXIgfHwgZGVmYXVsdFRyaWdnZXJTaG93KS5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgaGlkZSA9IHNob3cubWFwKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlck1hcFt0cmlnZ2VyXSB8fCB0cmlnZ2VyO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaG93OiBzaG93LFxuICAgICAgICAgIGhpZGU6IGhpZGVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGl2ZU5hbWUgPSBzbmFrZV9jYXNlKHR5cGUpO1xuXG4gICAgICB2YXIgc3RhcnRTeW0gPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKTtcbiAgICAgIHZhciBlbmRTeW0gPSAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sKCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPVxuICAgICAgICAnPGRpdiAnKyBkaXJlY3RpdmVOYW1lICsnLXBvcHVwICcrXG4gICAgICAgICAgJ3RpdGxlPVwiJytzdGFydFN5bSsndGl0bGUnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAob3B0aW9ucy51c2VDb250ZW50RXhwID9cbiAgICAgICAgICAgICdjb250ZW50LWV4cD1cImNvbnRlbnRFeHAoKVwiICcgOlxuICAgICAgICAgICAgJ2NvbnRlbnQ9XCInK3N0YXJ0U3ltKydjb250ZW50JytlbmRTeW0rJ1wiICcpICtcbiAgICAgICAgICAncGxhY2VtZW50PVwiJytzdGFydFN5bSsncGxhY2VtZW50JytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgJ3BvcHVwLWNsYXNzPVwiJytzdGFydFN5bSsncG9wdXBDbGFzcycrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdhbmltYXRpb249XCJhbmltYXRpb25cIiAnK1xuICAgICAgICAgICdpcy1vcGVuPVwiaXNPcGVuXCInK1xuICAgICAgICAgICdvcmlnaW4tc2NvcGU9XCJvcmlnU2NvcGVcIiAnK1xuICAgICAgICAgICc+JytcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbSwgdEF0dHJzKSB7XG4gICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZXIgPSAkY29tcGlsZSggdGVtcGxhdGUgKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdG9vbHRpcEN0cmwpIHtcbiAgICAgICAgICAgIHZhciB0b29sdGlwO1xuICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZWRTY29wZTtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBwb3B1cFRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb25UaW1lb3V0O1xuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKG9wdGlvbnMuYXBwZW5kVG9Cb2R5KSA/IG9wdGlvbnMuYXBwZW5kVG9Cb2R5IDogZmFsc2U7XG4gICAgICAgICAgICB2YXIgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIGhhc0VuYWJsZUV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSk7XG4gICAgICAgICAgICB2YXIgdHRTY29wZSA9IHNjb3BlLiRuZXcodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGlzT3BlbkV4cCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgPyAkcGFyc2UoYXR0cnNbcHJlZml4ICsgJ0lzT3BlbiddKSA6IGZhbHNlO1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25Ub29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghdG9vbHRpcCkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHBvc2l0aW9uaW5nIGFuZCBib3ggc2l6ZSBmb3IgY29ycmVjdCB3aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcy5cbiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCB3aWR0aDogJ2F1dG8nLCBoZWlnaHQ6ICdhdXRvJyB9KTtcblxuICAgICAgICAgICAgICAgICAgdmFyIHR0Qm94ID0gJHBvc2l0aW9uLnBvc2l0aW9uKHRvb2x0aXApO1xuICAgICAgICAgICAgICAgICAgdmFyIHR0Q3NzID0gJHBvc2l0aW9uLnBvc2l0aW9uRWxlbWVudHMoZWxlbWVudCwgdG9vbHRpcCwgdHRTY29wZS5wbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICAgICAgICAgICAgICB0dENzcy50b3AgKz0gJ3B4JztcbiAgICAgICAgICAgICAgICAgIHR0Q3NzLmxlZnQgKz0gJ3B4JztcblxuICAgICAgICAgICAgICAgICAgdHRDc3Mud2lkdGggPSB0dEJveC53aWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICB0dENzcy5oZWlnaHQgPSB0dEJveC5oZWlnaHQgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgICAvLyBOb3cgc2V0IHRoZSBjYWxjdWxhdGVkIHBvc2l0aW9uaW5nIGFuZCBzaXplLlxuICAgICAgICAgICAgICAgICAgdG9vbHRpcC5jc3ModHRDc3MpO1xuXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXG4gICAgICAgICAgICB0dFNjb3BlLm9yaWdTY29wZSA9IHNjb3BlO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kKCkge1xuICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHByZXBhcmVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUucG9wdXBEZWxheSkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRvb2x0aXAgd2FzIGFscmVhZHkgc2NoZWR1bGVkIHRvIHBvcC11cC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgc2hvdyBpcyB0cmlnZ2VyZWQgbXVsdGlwbGUgdGltZXMgYmVmb3JlIGFueSBoaWRlIGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXBvcHVwVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gJHRpbWVvdXQoc2hvdywgdHRTY29wZS5wb3B1cERlbGF5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcEJpbmQgKCkge1xuICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCBwb3B1cCBlbGVtZW50LlxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgcmVtb3ZlIHRyYW5zaXRpb24sIHdlIG11c3QgY2FuY2VsIGl0LCBsZXN0IHRoZVxuICAgICAgICAgICAgICAvLyB0b29sdGlwIGJlIG15c3RlcmlvdXNseSByZW1vdmVkLlxuICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIERvbid0IHNob3cgZW1wdHkgdG9vbHRpcHMuXG4gICAgICAgICAgICAgIGlmICghKG9wdGlvbnMudXNlQ29udGVudEV4cCA/IHR0U2NvcGUuY29udGVudEV4cCgpIDogdHRTY29wZS5jb250ZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgLy8gQW5kIHNob3cgdGhlIHRvb2x0aXAuXG4gICAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKGlzT3BlbkV4cCkge1xuICAgICAgICAgICAgICAgIGlzT3BlbkV4cC5hc3NpZ24odHRTY29wZS5vcmlnU2NvcGUsIHR0U2NvcGUuaXNPcGVuKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgICAgdHRTY29wZS4kYXBwbHkoKTsgLy8gZGlnZXN0IHJlcXVpcmVkIGFzICRhcHBseSBpcyBub3QgY2FsbGVkXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IGRpc3BsYXk6ICdibG9jaycgfSk7XG5cbiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgIC8vIEZpcnN0IHRoaW5ncyBmaXJzdDogd2UgZG9uJ3Qgc2hvdyBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XG4gICAgICAgICAgICAgICAgaXNPcGVuRXhwLmFzc2lnbih0dFNjb3BlLm9yaWdTY29wZSwgdHRTY29wZS5pc09wZW4pO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy9pZiB0b29sdGlwIGlzIGdvaW5nIHRvIGJlIHNob3duIGFmdGVyIGRlbGF5LCB3ZSBtdXN0IGNhbmNlbCB0aGlzXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSBudWxsO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlXG4gICAgICAgICAgICAgIC8vIG5lZWQgdG8gd2FpdCBmb3IgaXQgdG8gZXhwaXJlIGJlZm9yZWhhbmQuXG4gICAgICAgICAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGEgcG9ydCBvZiB0aGUgdHJhbnNpdGlvbnMgbGlicmFyeS5cbiAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblRpbWVvdXQgPSAkdGltZW91dChyZW1vdmVUb29sdGlwLCA1MDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgLy8gVGhlcmUgY2FuIG9ubHkgYmUgb25lIHRvb2x0aXAgZWxlbWVudCBwZXIgZGlyZWN0aXZlIHNob3duIGF0IG9uY2UuXG4gICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZSA9IHR0U2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICB0b29sdGlwID0gdG9vbHRpcExpbmtlcih0b29sdGlwTGlua2VkU2NvcGUsIGZ1bmN0aW9uKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCh0b29sdGlwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZnRlcih0b29sdGlwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKCdjb250ZW50RXhwKCknLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghdmFsICYmIHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXJlcG9zaXRpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBMaW5rZWRTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwTGlua2VkU2NvcGUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICBwcmVwUG9wdXBDbGFzcygpO1xuICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgIHByZXBQb3B1cERlbGF5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR0U2NvcGUuY29udGVudEV4cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwoYXR0cnNbdHlwZV0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPYnNlcnZlIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudXNlQ29udGVudEV4cCkge1xuICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSh0eXBlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnQgPSB2YWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHBvcHVwVGltZW91dCAmJiB2YWwpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBwb3B1cFRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdUaXRsZScsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnRpdGxlID0gdmFsO1xuICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShwcmVmaXggKyAnUGxhY2VtZW50JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHByZXBQbGFjZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChpc09wZW5FeHApIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGlzT3BlbkV4cCwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCAhPT0gdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBvcHVwQ2xhc3MoKSB7XG4gICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBDbGFzcyA9IGF0dHJzW3ByZWZpeCArICdDbGFzcyddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwUGxhY2VtZW50KCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BsYWNlbWVudCddO1xuICAgICAgICAgICAgICB0dFNjb3BlLnBsYWNlbWVudCA9IGFuZ3VsYXIuaXNEZWZpbmVkKHZhbCkgPyB2YWwgOiBvcHRpb25zLnBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBvcHVwRGVsYXkoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnUG9wdXBEZWxheSddO1xuICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludCh2YWwsIDEwKTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cERlbGF5ID0gIWlzTmFOKGRlbGF5KSA/IGRlbGF5IDogb3B0aW9ucy5wb3B1cERlbGF5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdW5yZWdpc3RlclRyaWdnZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLnNob3cuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRyaWdnZXJzLmhpZGUuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51bmJpbmQodHJpZ2dlciwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwVHJpZ2dlcnMoKSB7XG4gICAgICAgICAgICAgIHZhciB2YWwgPSBhdHRyc1twcmVmaXggKyAnVHJpZ2dlciddO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcblxuICAgICAgICAgICAgICB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKHZhbCk7XG5cbiAgICAgICAgICAgICAgaWYgKHRyaWdnZXJzLnNob3cgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJzLnNob3cuZm9yRWFjaChmdW5jdGlvbih0cmlnZ2VyLCBpZHgpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIHJhdyBhZGRFdmVudExpc3RlbmVyIGR1ZSB0byBqcUxpdGUvalF1ZXJ5IGJ1ZyAtICM0MDYwXG4gICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gdHJpZ2dlcnMuaGlkZVtpZHhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2VyLCB0b2dnbGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKHRyaWdnZXIsIHNob3dUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2Vycy5oaWRlW2lkeF0sIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXBUcmlnZ2VycygpO1xuXG4gICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FuaW1hdGlvbiddKTtcbiAgICAgICAgICAgIHR0U2NvcGUuYW5pbWF0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYW5pbWF0aW9uKSA/ICEhYW5pbWF0aW9uIDogb3B0aW9ucy5hbmltYXRpb247XG5cbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQXBwZW5kVG9Cb2R5J10pO1xuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXBwZW5kVG9Cb2R5VmFsKSA/IGFwcGVuZFRvQm9keVZhbCA6IGFwcGVuZFRvQm9keTtcblxuICAgICAgICAgICAgLy8gaWYgYSB0b29sdGlwIGlzIGF0dGFjaGVkIHRvIDxib2R5PiB3ZSBuZWVkIHRvIHJlbW92ZSBpdCBvblxuICAgICAgICAgICAgLy8gbG9jYXRpb24gY2hhbmdlIGFzIGl0cyBwYXJlbnQgc2NvcGUgd2lsbCBwcm9iYWJseSBub3QgYmUgZGVzdHJveWVkXG4gICAgICAgICAgICAvLyBieSB0aGUgY2hhbmdlLlxuICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgICBzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiBjbG9zZVRvb2x0aXBPbkxvY2F0aW9uQ2hhbmdlU3VjY2VzcygpIHtcbiAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG9vbHRpcCBpcyBkZXN0cm95ZWQgYW5kIHJlbW92ZWQuXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gb25EZXN0cm95VG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3NpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB0dFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfV07XG59KVxuXG4vLyBUaGlzIGlzIG1vc3RseSBuZ0luY2x1ZGUgY29kZSBidXQgd2l0aCBhIGN1c3RvbSBzY29wZVxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZScsIFtcbiAgICAgICAgICckYW5pbWF0ZScsICckc2NlJywgJyRjb21waWxlJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLFxuZnVuY3Rpb24gKCRhbmltYXRlICwgICRzY2UgLCAgJGNvbXBpbGUgLCAgJHRlbXBsYXRlUmVxdWVzdCkge1xuICByZXR1cm4ge1xuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgdmFyIG9yaWdTY29wZSA9IHNjb3BlLiRldmFsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGVTY29wZSk7XG5cbiAgICAgIHZhciBjaGFuZ2VDb3VudGVyID0gMCxcbiAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICBwcmV2aW91c0VsZW1lbnQsXG4gICAgICAgIGN1cnJlbnRFbGVtZW50O1xuXG4gICAgICB2YXIgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKGF0dHJzLnRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUpLCBmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcblxuICAgICAgICBpZiAoc3JjKSB7XG4gICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxuICAgICAgICAgIC8vY29udGVudHMgYW5kIHNjb3BlIGNhbiBiZSBjbGVhbmVkIHVwLlxuICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Qoc3JjLCB0cnVlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgdmFyIG5ld1Njb3BlID0gb3JpZ1Njb3BlLiRuZXcoKTtcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICB2YXIgY2xvbmUgPSAkY29tcGlsZSh0ZW1wbGF0ZSkobmV3U2NvcGUsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIGVsZW0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjbG9uZTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnLCBzcmMpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xuICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4vKipcbiAqIE5vdGUgdGhhdCBpdCdzIGludGVudGlvbmFsIHRoYXQgdGhlc2UgY2xhc3NlcyBhcmUgKm5vdCogYXBwbGllZCB0aHJvdWdoICRhbmltYXRlLlxuICogVGhleSBtdXN0IG5vdCBiZSBhbmltYXRlZCBhcyB0aGV5J3JlIGV4cGVjdGVkIHRvIGJlIHByZXNlbnQgb24gdGhlIHRvb2x0aXAgb25cbiAqIGluaXRpYWxpemF0aW9uLlxuICovXG4uZGlyZWN0aXZlKCd0b29sdGlwQ2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoc2NvcGUucGxhY2VtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucGxhY2VtZW50KTtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZS5wb3B1cENsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucG9wdXBDbGFzcyk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUuYW5pbWF0aW9uKCkpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhhdHRycy50b29sdGlwQW5pbWF0aW9uQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcCcsIFsgJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicpO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcFRlbXBsYXRlJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcFRlbXBsYXRlJywgJ3Rvb2x0aXAnLCAnbW91c2VlbnRlcicsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndG9vbHRpcEh0bWwnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4vKlxuRGVwcmVjYXRlZFxuKi9cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi52YWx1ZSgndG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sVW5zYWZlJywgW1xuICAgICAgICAgICckdG9vbHRpcCcsICd0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCcsICckbG9nJyxcbmZ1bmN0aW9uKCR0b29sdGlwICwgIHRvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkICwgICRsb2cpIHtcbiAgaWYgKCF0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybigndG9vbHRpcC1odG1sLXVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHRvb2x0aXAtaHRtbCBvciB0b29sdGlwLXRlbXBsYXRlIGluc3RlYWQuJyk7XG4gIH1cbiAgcmV0dXJuICR0b29sdGlwKCd0b29sdGlwSHRtbFVuc2FmZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSggJ3VpLmJvb3RzdHJhcC5wb3BvdmVyJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddKVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJUZW1wbGF0ZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3BvcG92ZXJUZW1wbGF0ZScsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgncG9wb3Zlckh0bWxQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCB0aXRsZTogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVySHRtbCcsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVySHRtbCcsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlclBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB0aXRsZTogJ0AnLCBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCggJ3BvcG92ZXInLCAncG9wb3ZlcicsICdjbGljaycgKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wcm9ncmVzc2JhcicsIFtdKVxuXG4uY29uc3RhbnQoJ3Byb2dyZXNzQ29uZmlnJywge1xuICBhbmltYXRlOiB0cnVlLFxuICBtYXg6IDEwMFxufSlcblxuLnZhbHVlKCckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmYWxzZSlcblxuLmNvbnRyb2xsZXIoJ1Byb2dyZXNzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdwcm9ncmVzc0NvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBwcm9ncmVzc0NvbmZpZykge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBhbmltYXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFuaW1hdGUpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmFuaW1hdGUpIDogcHJvZ3Jlc3NDb25maWcuYW5pbWF0ZTtcblxuICB0aGlzLmJhcnMgPSBbXTtcbiAgJHNjb3BlLm1heCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5tYXgpID8gJHNjb3BlLm1heCA6IHByb2dyZXNzQ29uZmlnLm1heDtcblxuICB0aGlzLmFkZEJhciA9IGZ1bmN0aW9uKGJhciwgZWxlbWVudCkge1xuICAgIGlmICghYW5pbWF0ZSkge1xuICAgICAgZWxlbWVudC5jc3Moeyd0cmFuc2l0aW9uJzogJ25vbmUnfSk7XG4gICAgfVxuXG4gICAgdGhpcy5iYXJzLnB1c2goYmFyKTtcblxuICAgIGJhci5tYXggPSAkc2NvcGUubWF4O1xuXG4gICAgYmFyLiR3YXRjaCgndmFsdWUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpO1xuICAgIH0pO1xuXG4gICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIGJhci52YWx1ZSAvIGJhci5tYXgpLnRvRml4ZWQoMik7XG5cbiAgICAgIHZhciB0b3RhbFBlcmNlbnRhZ2UgPSBzZWxmLmJhcnMucmVkdWNlKGZ1bmN0aW9uKHRvdGFsLCBiYXIpIHtcbiAgICAgICAgcmV0dXJuIHRvdGFsICsgYmFyLnBlcmNlbnQ7XG4gICAgICB9LCAwKTtcblxuICAgICAgaWYgKHRvdGFsUGVyY2VudGFnZSA+IDEwMCkge1xuICAgICAgICBiYXIucGVyY2VudCAtPSB0b3RhbFBlcmNlbnRhZ2UgLSAxMDA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGJhci4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBlbGVtZW50ID0gbnVsbDtcbiAgICAgIHNlbGYucmVtb3ZlQmFyKGJhcik7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5yZW1vdmVCYXIgPSBmdW5jdGlvbihiYXIpIHtcbiAgICAgIHRoaXMuYmFycy5zcGxpY2UodGhpcy5iYXJzLmluZGV4T2YoYmFyKSwgMSk7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnbWF4JywgZnVuY3Rpb24obWF4KSB7XG4gICAgc2VsZi5iYXJzLmZvckVhY2goZnVuY3Rpb24oYmFyKSB7XG4gICAgICBiYXIubWF4ID0gJHNjb3BlLm1heDtcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUHJvZ3Jlc3MnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3VpYlByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzcycsIFsnJGxvZycsICckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmdW5jdGlvbigkbG9nLCAkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3Byb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4OiAnPT8nXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICAgICAgICAkbG9nLndhcm4oJ3Byb2dyZXNzIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLXByb2dyZXNzIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndWliQmFyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdedWliUHJvZ3Jlc3MnLFxuICAgIHNjb3BlOiB7XG4gICAgICB2YWx1ZTogJz0nLFxuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnYmFyJywgWyckbG9nJywgJyRwcm9ncmVzc1N1cHByZXNzV2FybmluZycsIGZ1bmN0aW9uKCRsb2csICRwcm9ncmVzc1N1cHByZXNzV2FybmluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXnByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIGlmICgkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiYXIgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB1aWItYmFyIGluc3RlYWQnKTtcbiAgICAgIH1cbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdwcm9ncmVzc2JhcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBjb250cm9sbGVyOiAnUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIG1heDogJz0/JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSkpO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKVxuXG4uY29uc3RhbnQoJ3JhdGluZ0NvbmZpZycsIHtcbiAgbWF4OiA1LFxuICBzdGF0ZU9uOiBudWxsLFxuICBzdGF0ZU9mZjogbnVsbCxcbiAgdGl0bGVzIDogWydvbmUnLCAndHdvJywgJ3RocmVlJywgJ2ZvdXInLCAnZml2ZSddXG59KVxuXG4uY29udHJvbGxlcignUmF0aW5nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdyYXRpbmdDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcmF0aW5nQ29uZmlnKSB7XG4gIHZhciBuZ01vZGVsQ3RybCAgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA8PCAwICE9PSB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zdGF0ZU9uID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT24pID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT24pIDogcmF0aW5nQ29uZmlnLnN0YXRlT247XG4gICAgdGhpcy5zdGF0ZU9mZiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9mZikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPZmYpIDogcmF0aW5nQ29uZmlnLnN0YXRlT2ZmO1xuICAgIHZhciB0bXBUaXRsZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMudGl0bGVzKSAgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMudGl0bGVzKSA6IHJhdGluZ0NvbmZpZy50aXRsZXMgOyAgICBcbiAgICB0aGlzLnRpdGxlcyA9IGFuZ3VsYXIuaXNBcnJheSh0bXBUaXRsZXMpICYmIHRtcFRpdGxlcy5sZW5ndGggPiAwID9cbiAgICAgIHRtcFRpdGxlcyA6IHJhdGluZ0NvbmZpZy50aXRsZXM7XG4gICAgXG4gICAgdmFyIHJhdGluZ1N0YXRlcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yYXRpbmdTdGF0ZXMpID9cbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDpcbiAgICAgIG5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcmF0aW5nQ29uZmlnLm1heCk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmLCB0aXRsZTogdGhpcy5nZXRUaXRsZShpKSB9LCBzdGF0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGVzO1xuICB9O1xuICBcbiAgdGhpcy5nZXRUaXRsZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGluZGV4ID49IHRoaXMudGl0bGVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudGl0bGVzW2luZGV4XTtcbiAgICB9XG4gIH07XG4gIFxuICAkc2NvcGUucmF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAkc2NvcGUucmFuZ2UubGVuZ3RoKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPT09IHZhbHVlID8gMCA6IHZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoISRzY29wZS5yZWFkb25seSkge1xuICAgICAgJHNjb3BlLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgICRzY29wZS5vbkhvdmVyKHt2YWx1ZTogdmFsdWV9KTtcbiAgfTtcblxuICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICRzY29wZS5vbkxlYXZlKCk7XG4gIH07XG5cbiAgJHNjb3BlLm9uS2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmICgvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3JhdGluZycsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsncmF0aW5nJywgJ25nTW9kZWwnXSxcbiAgICBzY29wZToge1xuICAgICAgcmVhZG9ubHk6ICc9PycsXG4gICAgICBvbkhvdmVyOiAnJicsXG4gICAgICBvbkxlYXZlOiAnJidcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdSYXRpbmdDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbCcsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcmF0aW5nQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgcmF0aW5nQ3RybC5pbml0KCBuZ01vZGVsQ3RybCApO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5cbi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFic1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQW5ndWxhckpTIHZlcnNpb24gb2YgdGhlIHRhYnMgZGlyZWN0aXZlLlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGFicycsIFtdKVxuXG4uY29udHJvbGxlcignVGFic2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24gVGFic2V0Q3RybCgkc2NvcGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzLFxuICAgICAgdGFicyA9IGN0cmwudGFicyA9ICRzY29wZS50YWJzID0gW107XG5cbiAgY3RybC5zZWxlY3QgPSBmdW5jdGlvbihzZWxlY3RlZFRhYikge1xuICAgIGFuZ3VsYXIuZm9yRWFjaCh0YWJzLCBmdW5jdGlvbih0YWIpIHtcbiAgICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYiAhPT0gc2VsZWN0ZWRUYWIpIHtcbiAgICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0YWIub25EZXNlbGVjdCgpO1xuICAgICAgICBzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxlY3RlZFRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIC8vIG9ubHkgY2FsbCBzZWxlY3QgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2FsbGVkXG4gICAgaWYgKCFzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQpIHtcbiAgICAgIHNlbGVjdGVkVGFiLm9uU2VsZWN0KCk7XG4gICAgICBzZWxlY3RlZFRhYi5zZWxlY3RDYWxsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLmFkZFRhYiA9IGZ1bmN0aW9uIGFkZFRhYih0YWIpIHtcbiAgICB0YWJzLnB1c2godGFiKTtcbiAgICAvLyB3ZSBjYW4ndCBydW4gdGhlIHNlbGVjdCBmdW5jdGlvbiBvbiB0aGUgZmlyc3QgdGFiXG4gICAgLy8gc2luY2UgdGhhdCB3b3VsZCBzZWxlY3QgaXQgdHdpY2VcbiAgICBpZiAodGFicy5sZW5ndGggPT09IDEgJiYgdGFiLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgIHRhYi5hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGFiLmFjdGl2ZSkge1xuICAgICAgY3RybC5zZWxlY3QodGFiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFiLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBjdHJsLnJlbW92ZVRhYiA9IGZ1bmN0aW9uIHJlbW92ZVRhYih0YWIpIHtcbiAgICB2YXIgaW5kZXggPSB0YWJzLmluZGV4T2YodGFiKTtcbiAgICAvL1NlbGVjdCBhIG5ldyB0YWIgaWYgdGhlIHRhYiB0byBiZSByZW1vdmVkIGlzIHNlbGVjdGVkIGFuZCBub3QgZGVzdHJveWVkXG4gICAgaWYgKHRhYi5hY3RpdmUgJiYgdGFicy5sZW5ndGggPiAxICYmICFkZXN0cm95ZWQpIHtcbiAgICAgIC8vSWYgdGhpcyBpcyB0aGUgbGFzdCB0YWIsIHNlbGVjdCB0aGUgcHJldmlvdXMgdGFiLiBlbHNlLCB0aGUgbmV4dCB0YWIuXG4gICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBpbmRleCA9PSB0YWJzLmxlbmd0aCAtIDEgPyBpbmRleCAtIDEgOiBpbmRleCArIDE7XG4gICAgICBjdHJsLnNlbGVjdCh0YWJzW25ld0FjdGl2ZUluZGV4XSk7XG4gICAgfVxuICAgIHRhYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcblxuICB2YXIgZGVzdHJveWVkO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gIH0pO1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUYWJzZXQgaXMgdGhlIG91dGVyIGNvbnRhaW5lciBmb3IgdGhlIHRhYnMgZGlyZWN0aXZlXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gdmVydGljYWwgV2hldGhlciBvciBub3QgdG8gdXNlIHZlcnRpY2FsIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICogQHBhcmFtIHtib29sZWFuPX0ganVzdGlmaWVkIFdoZXRoZXIgb3Igbm90IHRvIHVzZSBqdXN0aWZpZWQgc3R5bGluZyBmb3IgdGhlIHRhYnMuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPjxiPkZpcnN0PC9iPiBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDJcIj48aT5TZWNvbmQ8L2k+IENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPGhyIC8+XG4gICAgPHRhYnNldCB2ZXJ0aWNhbD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlZlcnRpY2FsIFRhYiAxXCI+PGI+Rmlyc3Q8L2I+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gVmVydGljYWwgQ29udGVudCE8L3RhYj5cbiAgICA8L3RhYnNldD5cbiAgICA8dGFic2V0IGp1c3RpZmllZD1cInRydWVcIj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBKdXN0aWZpZWQgQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIkp1c3RpZmllZCBUYWIgMlwiPjxpPlNlY29uZDwvaT4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFic2V0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6ICdUYWJzZXRDb250cm9sbGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgc2NvcGUudmVydGljYWwgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy52ZXJ0aWNhbCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLnZlcnRpY2FsKSA6IGZhbHNlO1xuICAgICAgc2NvcGUuanVzdGlmaWVkID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuanVzdGlmaWVkKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMuanVzdGlmaWVkKSA6IGZhbHNlO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYlxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBoZWFkaW5nIFRoZSB2aXNpYmxlIGhlYWRpbmcsIG9yIHRpdGxlLCBvZiB0aGUgdGFiLiBTZXQgSFRNTCBoZWFkaW5ncyB3aXRoIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZyB0YWJIZWFkaW5nfS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gc2VsZWN0IEFuIGV4cHJlc3Npb24gdG8gZXZhbHVhdGUgd2hlbiB0aGUgdGFiIGlzIHNlbGVjdGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGRpc2FibGVkIEEgYmluZGluZywgdGVsbGluZyB3aGV0aGVyIG9yIG5vdCB0aGlzIHRhYiBpcyBkaXNhYmxlZC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYSB0YWIgd2l0aCBhIGhlYWRpbmcgYW5kIGNvbnRlbnQuIE11c3QgYmUgcGxhY2VkIHdpdGhpbiBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFic2V0IHRhYnNldH0uXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRhYnNEZW1vQ3RybFwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzBdLmFjdGl2ZSA9IHRydWVcIj5cbiAgICAgICAgU2VsZWN0IGl0ZW0gMSwgdXNpbmcgYWN0aXZlIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc21hbGxcIiBuZy1jbGljaz1cIml0ZW1zWzFdLmRpc2FibGVkID0gIWl0ZW1zWzFdLmRpc2FibGVkXCI+XG4gICAgICAgIEVuYWJsZS9kaXNhYmxlIGl0ZW0gMiwgdXNpbmcgZGlzYWJsZWQgYmluZGluZ1xuICAgICAgPC9idXR0b24+XG4gICAgICA8YnIgLz5cbiAgICAgIDx0YWJzZXQ+XG4gICAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAxXCI+Rmlyc3QgVGFiPC90YWI+XG4gICAgICAgIDx0YWIgc2VsZWN0PVwiYWxlcnRNZSgpXCI+XG4gICAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1iZWxsXCI+PC9pPiBBbGVydCBtZSE8L3RhYi1oZWFkaW5nPlxuICAgICAgICAgIFNlY29uZCBUYWIsIHdpdGggYWxlcnQgY2FsbGJhY2sgYW5kIGh0bWwgaGVhZGluZyFcbiAgICAgICAgPC90YWI+XG4gICAgICAgIDx0YWIgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiXG4gICAgICAgICAgaGVhZGluZz1cInt7aXRlbS50aXRsZX19XCJcbiAgICAgICAgICBkaXNhYmxlZD1cIml0ZW0uZGlzYWJsZWRcIlxuICAgICAgICAgIGFjdGl2ZT1cIml0ZW0uYWN0aXZlXCI+XG4gICAgICAgICAge3tpdGVtLmNvbnRlbnR9fVxuICAgICAgICA8L3RhYj5cbiAgICAgIDwvdGFic2V0PlxuICAgIDwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICBmdW5jdGlvbiBUYWJzRGVtb0N0cmwoJHNjb3BlKSB7XG4gICAgICAkc2NvcGUuaXRlbXMgPSBbXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDFcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAwXCIgfSxcbiAgICAgICAgeyB0aXRsZTpcIkR5bmFtaWMgVGl0bGUgMlwiLCBjb250ZW50OlwiRHluYW1pYyBJdGVtIDFcIiwgZGlzYWJsZWQ6IHRydWUgfVxuICAgICAgXTtcblxuICAgICAgJHNjb3BlLmFsZXJ0TWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBhbGVydChcIllvdSd2ZSBzZWxlY3RlZCB0aGUgYWxlcnQgdGFiIVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH07XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJIZWFkaW5nXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gSFRNTCBoZWFkaW5nIGZvciBhIHtAbGluayB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiIHRhYn0uIE11c3QgYmUgcGxhY2VkIGFzIGEgY2hpbGQgb2YgYSB0YWIgZWxlbWVudC5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgPHRhYnNldD5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48Yj5IVE1MPC9iPiBpbiBteSB0aXRsZXM/ITwvdGFiLWhlYWRpbmc+XG4gICAgICAgIEFuZCBzb21lIGNvbnRlbnQsIHRvbyFcbiAgICAgIDwvdGFiPlxuICAgICAgPHRhYj5cbiAgICAgICAgPHRhYi1oZWFkaW5nPjxpIGNsYXNzPVwiaWNvbi1oZWFydFwiPjwvaT4gSWNvbiBoZWFkaW5nPyE/PC90YWItaGVhZGluZz5cbiAgICAgICAgVGhhdCdzIHJpZ2h0LlxuICAgICAgPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gIDwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndGFiJywgWyckcGFyc2UnLCAnJGxvZycsIGZ1bmN0aW9uKCRwYXJzZSwgJGxvZykge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdGFicy90YWIuaHRtbCcsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPT8nLFxuICAgICAgaGVhZGluZzogJ0AnLFxuICAgICAgb25TZWxlY3Q6ICcmc2VsZWN0JywgLy9UaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBpbiBjb250ZW50SGVhZGluZ1RyYW5zY2x1ZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmNlIGl0IGluc2VydHMgdGhlIHRhYidzIGNvbnRlbnQgaW50byB0aGUgZG9tXG4gICAgICBvbkRlc2VsZWN0OiAnJmRlc2VsZWN0J1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAvL0VtcHR5IGNvbnRyb2xsZXIgc28gb3RoZXIgZGlyZWN0aXZlcyBjYW4gcmVxdWlyZSBiZWluZyAndW5kZXInIGEgdGFiXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFic2V0Q3RybCwgdHJhbnNjbHVkZSkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdhY3RpdmUnLCBmdW5jdGlvbihhY3RpdmUpIHtcbiAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgIHRhYnNldEN0cmwuc2VsZWN0KHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBpZiAoYXR0cnMuZGlzYWJsZSkge1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZSksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGlzYWJsZWQgPSAhISB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIERlcHJlY2F0aW9uIHN1cHBvcnQgb2YgXCJkaXNhYmxlZFwiIHBhcmFtZXRlclxuICAgICAgLy8gZml4KHRhYik6IElFOSBkaXNhYmxlZCBhdHRyIHJlbmRlcnMgZ3JleSB0ZXh0IG9uIGVuYWJsZWQgdGFiICMyNjc3XG4gICAgICAvLyBUaGlzIGNvZGUgaXMgZHVwbGljYXRlZCBmcm9tIHRoZSBsaW5lcyBhYm92ZSB0byBtYWtlIGl0IGVhc3kgdG8gcmVtb3ZlIG9uY2VcbiAgICAgIC8vIHRoZSBmZWF0dXJlIGhhcyBiZWVuIGNvbXBsZXRlbHkgZGVwcmVjYXRlZFxuICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICRsb2cud2FybignVXNlIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBcImRpc2FibGVcIicpO1xuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoYXR0cnMuZGlzYWJsZWQpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5zZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzY29wZS5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRhYnNldEN0cmwuYWRkVGFiKHNjb3BlKTtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGFic2V0Q3RybC5yZW1vdmVUYWIoc2NvcGUpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vV2UgbmVlZCB0byB0cmFuc2NsdWRlIGxhdGVyLCBvbmNlIHRoZSBjb250ZW50IGNvbnRhaW5lciBpcyByZWFkeS5cbiAgICAgIC8vd2hlbiB0aGlzIGxpbmsgaGFwcGVucywgd2UncmUgaW5zaWRlIGEgdGFiIGhlYWRpbmcuXG4gICAgICBzY29wZS4kdHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGFiSGVhZGluZ1RyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFiJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycywgdGFiQ3RybCkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdoZWFkaW5nRWxlbWVudCcsIGZ1bmN0aW9uIHVwZGF0ZUhlYWRpbmdFbGVtZW50KGhlYWRpbmcpIHtcbiAgICAgICAgaWYgKGhlYWRpbmcpIHtcbiAgICAgICAgICBlbG0uaHRtbCgnJyk7XG4gICAgICAgICAgZWxtLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndGFiQ29udGVudFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedGFic2V0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykge1xuICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnRhYkNvbnRlbnRUcmFuc2NsdWRlKTtcblxuICAgICAgLy9Ob3cgb3VyIHRhYiBpcyByZWFkeSB0byBiZSB0cmFuc2NsdWRlZDogYm90aCB0aGUgdGFiIGhlYWRpbmcgYXJlYVxuICAgICAgLy9hbmQgdGhlIHRhYiBjb250ZW50IGFyZWEgYXJlIGxvYWRlZC4gIFRyYW5zY2x1ZGUgJ2VtIGJvdGguXG4gICAgICB0YWIuJHRyYW5zY2x1ZGVGbih0YWIuJHBhcmVudCwgZnVuY3Rpb24oY29udGVudHMpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbnRlbnRzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgaWYgKGlzVGFiSGVhZGluZyhub2RlKSkge1xuICAgICAgICAgICAgLy9MZXQgdGFiSGVhZGluZ1RyYW5zY2x1ZGUga25vdy5cbiAgICAgICAgICAgIHRhYi5oZWFkaW5nRWxlbWVudCA9IG5vZGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsbS5hcHBlbmQobm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBpc1RhYkhlYWRpbmcobm9kZSkge1xuICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgKFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ3RhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd4LXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2RhdGEtdGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3gtdGFiLWhlYWRpbmcnXG4gICAgKTtcbiAgfVxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGltZXBpY2tlcicsIFtdKVxuXG4uY29uc3RhbnQoJ3RpbWVwaWNrZXJDb25maWcnLCB7XG4gIGhvdXJTdGVwOiAxLFxuICBtaW51dGVTdGVwOiAxLFxuICBzaG93TWVyaWRpYW46IHRydWUsXG4gIG1lcmlkaWFuczogbnVsbCxcbiAgcmVhZG9ubHlJbnB1dDogZmFsc2UsXG4gIG1vdXNld2hlZWw6IHRydWUsXG4gIGFycm93a2V5czogdHJ1ZSxcbiAgc2hvd1NwaW5uZXJzOiB0cnVlXG59KVxuXG4uY29udHJvbGxlcignVGltZXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJyRsb2cnLCAnJGxvY2FsZScsICd0aW1lcGlja2VyQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsICRwYXJzZSwgJGxvZywgJGxvY2FsZSwgdGltZXBpY2tlckNvbmZpZykge1xuICB2YXIgc2VsZWN0ZWQgPSBuZXcgRGF0ZSgpLFxuICAgICAgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LCAvLyBudWxsTW9kZWxDdHJsXG4gICAgICBtZXJpZGlhbnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWVyaWRpYW5zKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpIDogdGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnMgfHwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgaW5wdXRzKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICByZXR1cm4gbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKG1vZGVsVmFsdWUpIDogbnVsbDtcbiAgICB9KTtcblxuICAgIHZhciBob3Vyc0lucHV0RWwgPSBpbnB1dHMuZXEoMCksXG4gICAgICAgIG1pbnV0ZXNJbnB1dEVsID0gaW5wdXRzLmVxKDEpO1xuXG4gICAgdmFyIG1vdXNld2hlZWwgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubW91c2V3aGVlbCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubW91c2V3aGVlbCkgOiB0aW1lcGlja2VyQ29uZmlnLm1vdXNld2hlZWw7XG4gICAgaWYgKG1vdXNld2hlZWwpIHtcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICAgIH1cblxuICAgIHZhciBhcnJvd2tleXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYXJyb3drZXlzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hcnJvd2tleXMpIDogdGltZXBpY2tlckNvbmZpZy5hcnJvd2tleXM7XG4gICAgaWYgKGFycm93a2V5cykge1xuICAgICAgdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpO1xuICAgIH1cblxuICAgICRzY29wZS5yZWFkb25seUlucHV0ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJlYWRvbmx5SW5wdXQpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnJlYWRvbmx5SW5wdXQpIDogdGltZXBpY2tlckNvbmZpZy5yZWFkb25seUlucHV0O1xuICAgIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMuaG91clN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaG91clN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbnV0ZVN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLm1pbnV0ZVN0ZXA7XG4gIGlmICgkYXR0cnMubWludXRlU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1pbnV0ZVN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbWludXRlU3RlcCA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWluO1xuICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICBtaW4gPSBpc05hTihkdCkgPyB1bmRlZmluZWQgOiBkdDtcbiAgfSk7XG5cbiAgdmFyIG1heDtcbiAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWF4KSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgbWF4ID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XG4gIH0pO1xuXG4gICRzY29wZS5ub0luY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBob3VyU3RlcCAqIDYwKTtcbiAgICByZXR1cm4gaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgKGluY3JlbWVudGVkU2VsZWN0ZWQgPCBzZWxlY3RlZCAmJiBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgbWluKTtcbiAgfTtcblxuICAkc2NvcGUubm9EZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLWhvdXJTdGVwICogNjApO1xuICAgIHJldHVybiBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICAoZGVjcmVtZW50ZWRTZWxlY3RlZCA+IHNlbGVjdGVkICYmIGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXgpO1xuICB9O1xuXG4gICRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5jcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZVN0ZXApO1xuICAgIHJldHVybiBpbmNyZW1lbnRlZFNlbGVjdGVkID4gbWF4IHx8XG4gICAgICAoaW5jcmVtZW50ZWRTZWxlY3RlZCA8IHNlbGVjdGVkICYmIGluY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4pO1xuICB9O1xuXG4gICRzY29wZS5ub0RlY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVjcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC1taW51dGVTdGVwKTtcbiAgICByZXR1cm4gZGVjcmVtZW50ZWRTZWxlY3RlZCA8IG1pbiB8fFxuICAgICAgKGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBzZWxlY3RlZCAmJiBkZWNyZW1lbnRlZFNlbGVjdGVkID4gbWF4KTtcbiAgfTtcblxuICAkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTMpIHtcbiAgICAgIHJldHVybiBhZGRNaW51dGVzKHNlbGVjdGVkLCAxMiAqIDYwKSA+IG1heDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC0xMiAqIDYwKSA8IG1pbjtcbiAgICB9XG4gIH07XG5cbiAgLy8gMTJIIC8gMjRIIG1vZGVcbiAgJHNjb3BlLnNob3dNZXJpZGlhbiA9IHRpbWVwaWNrZXJDb25maWcuc2hvd01lcmlkaWFuO1xuICBpZiAoJGF0dHJzLnNob3dNZXJpZGlhbikge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNob3dNZXJpZGlhbiksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAkc2NvcGUuc2hvd01lcmlkaWFuID0gISF2YWx1ZTtcblxuICAgICAgaWYgKG5nTW9kZWxDdHJsLiRlcnJvci50aW1lKSB7XG4gICAgICAgIC8vIEV2YWx1YXRlIGZyb20gdGVtcGxhdGVcbiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBHZXQgJHNjb3BlLmhvdXJzIGluIDI0SCBtb2RlIGlmIHZhbGlkXG4gIGZ1bmN0aW9uIGdldEhvdXJzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBob3VycyA9IHBhcnNlSW50KCRzY29wZS5ob3VycywgMTApO1xuICAgIHZhciB2YWxpZCA9ICRzY29wZS5zaG93TWVyaWRpYW4gPyAoaG91cnMgPiAwICYmIGhvdXJzIDwgMTMpIDogKGhvdXJzID49IDAgJiYgaG91cnMgPCAyNCk7XG4gICAgaWYgKCF2YWxpZCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoJHNjb3BlLnNob3dNZXJpZGlhbikge1xuICAgICAgaWYgKGhvdXJzID09PSAxMikge1xuICAgICAgICBob3VycyA9IDA7XG4gICAgICB9XG4gICAgICBpZiAoJHNjb3BlLm1lcmlkaWFuID09PSBtZXJpZGlhbnNbMV0pIHtcbiAgICAgICAgaG91cnMgPSBob3VycyArIDEyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaG91cnM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBtaW51dGVzID0gcGFyc2VJbnQoJHNjb3BlLm1pbnV0ZXMsIDEwKTtcbiAgICByZXR1cm4gKG1pbnV0ZXMgPj0gMCAmJiBtaW51dGVzIDwgNjApID8gbWludXRlcyA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZCh2YWx1ZSkge1xuICAgIHJldHVybiAoYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMikgPyAnMCcgKyB2YWx1ZSA6IHZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvLyBSZXNwb25kIG9uIG1vdXNld2hlZWwgc3BpblxuICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcbiAgICB2YXIgaXNTY3JvbGxpbmdVcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQpIHtcbiAgICAgICAgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgICAgIH1cbiAgICAgIC8vcGljayBjb3JyZWN0IGRlbHRhIHZhcmlhYmxlIGRlcGVuZGluZyBvbiBldmVudFxuICAgICAgdmFyIGRlbHRhID0gKGUud2hlZWxEZWx0YSkgPyBlLndoZWVsRGVsdGEgOiAtZS5kZWx0YVk7XG4gICAgICByZXR1cm4gKGUuZGV0YWlsIHx8IGRlbHRhID4gMCk7XG4gICAgfTtcblxuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudEhvdXJzKCkgOiAkc2NvcGUuZGVjcmVtZW50SG91cnMoKSk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKSA6ICRzY29wZS5kZWNyZW1lbnRNaW51dGVzKCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gIH07XG5cbiAgLy8gUmVzcG9uZCBvbiB1cC9kb3duIGFycm93a2V5c1xuICB0aGlzLnNldHVwQXJyb3drZXlFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMzgpIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50SG91cnMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmRlY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS53aGljaCA9PT0gMzgpIHsgLy8gdXBcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IDQwKSB7IC8vIGRvd25cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xuICAgIGlmICgkc2NvcGUucmVhZG9ubHlJbnB1dCkge1xuICAgICAgJHNjb3BlLnVwZGF0ZUhvdXJzID0gYW5ndWxhci5ub29wO1xuICAgICAgJHNjb3BlLnVwZGF0ZU1pbnV0ZXMgPSBhbmd1bGFyLm5vb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGludmFsaWRhdGUgPSBmdW5jdGlvbihpbnZhbGlkSG91cnMsIGludmFsaWRNaW51dGVzKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpO1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGludmFsaWRIb3VycykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRIb3VycyA9IGludmFsaWRIb3VycztcbiAgICAgIH1cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICBzZWxlY3RlZC5zZXRIb3Vycyhob3Vycyk7XG4gICAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICAgIGludmFsaWRhdGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaCgnaCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5ob3VycyA9IHBhZCgkc2NvcGUuaG91cnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgaG91cnMgPSBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobWludXRlcykgJiYgYW5ndWxhci5pc0RlZmluZWQoaG91cnMpKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldE1pbnV0ZXMobWludXRlcyk7XG4gICAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWZyZXNoKCdtJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnYmx1cicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghJHNjb3BlLmludmFsaWRNaW51dGVzICYmICRzY29wZS5taW51dGVzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCgkc2NvcGUubWludXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0ZSA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG5cbiAgICBpZiAoaXNOYU4oZGF0ZSkpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgICRsb2cuZXJyb3IoJ1RpbWVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGF0ZSkge1xuICAgICAgICBzZWxlY3RlZCA9IGRhdGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RlZCA8IG1pbiB8fCBzZWxlY3RlZCA+IG1heCkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFrZVZhbGlkKCk7XG4gICAgICB9XG4gICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBDYWxsIGludGVybmFsbHkgd2hlbiB3ZSBrbm93IHRoYXQgbW9kZWwgaXMgdmFsaWQuXG4gIGZ1bmN0aW9uIHJlZnJlc2goa2V5Ym9hcmRDaGFuZ2UpIHtcbiAgICBtYWtlVmFsaWQoKTtcbiAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5ldyBEYXRlKHNlbGVjdGVkKSk7XG4gICAgdXBkYXRlVGVtcGxhdGUoa2V5Ym9hcmRDaGFuZ2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVZhbGlkKCkge1xuICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIHRydWUpO1xuICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBmYWxzZTtcbiAgICAkc2NvcGUuaW52YWxpZE1pbnV0ZXMgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKSB7XG4gICAgdmFyIGhvdXJzID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSwgbWludXRlcyA9IHNlbGVjdGVkLmdldE1pbnV0ZXMoKTtcblxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XG4gICAgICBob3VycyA9IChob3VycyA9PT0gMCB8fCBob3VycyA9PT0gMTIpID8gMTIgOiBob3VycyAlIDEyOyAvLyBDb252ZXJ0IDI0IHRvIDEyIGhvdXIgc3lzdGVtXG4gICAgfVxuXG4gICAgJHNjb3BlLmhvdXJzID0ga2V5Ym9hcmRDaGFuZ2UgPT09ICdoJyA/IGhvdXJzIDogcGFkKGhvdXJzKTtcbiAgICBpZiAoa2V5Ym9hcmRDaGFuZ2UgIT09ICdtJykge1xuICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQobWludXRlcyk7XG4gICAgfVxuICAgICRzY29wZS5tZXJpZGlhbiA9IHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IG1lcmlkaWFuc1swXSA6IG1lcmlkaWFuc1sxXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgbWludXRlcyAqIDYwMDAwKTtcbiAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIG5ld0RhdGUuc2V0SG91cnMoZHQuZ2V0SG91cnMoKSwgZHQuZ2V0TWludXRlcygpKTtcbiAgICByZXR1cm4gbmV3RGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKG1pbnV0ZXMpIHtcbiAgICBzZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIG1pbnV0ZXMpO1xuICAgIHJlZnJlc2goKTtcbiAgfVxuXG4gICRzY29wZS5zaG93U3Bpbm5lcnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc2hvd1NwaW5uZXJzKSA/XG4gICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnNob3dTcGlubmVycykgOiB0aW1lcGlja2VyQ29uZmlnLnNob3dTcGlubmVycztcblxuICAkc2NvcGUuaW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKGhvdXJTdGVwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0RlY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKC1ob3VyU3RlcCAqIDYwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudE1pbnV0ZXMoKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQobWludXRlU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5kZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKC1taW51dGVTdGVwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbigpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgxMiAqIDYwICogKHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IDEgOiAtMSkpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0aW1lcGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVxdWlyZTogWyd0aW1lcGlja2VyJywgJz9ebmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6J1RpbWVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICd0aW1lcGlja2VyJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7fSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWwnO1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICB0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRyYW5zaXRpb24nLCBbXSlcblxuLnZhbHVlKCckdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCcsIGZhbHNlKVxuLyoqXG4gKiAkdHJhbnNpdGlvbiBzZXJ2aWNlIHByb3ZpZGVzIGEgY29uc2lzdGVudCBpbnRlcmZhY2UgdG8gdHJpZ2dlciBDU1MgMyB0cmFuc2l0aW9ucyBhbmQgdG8gYmUgaW5mb3JtZWQgd2hlbiB0aGV5IGNvbXBsZXRlLlxuICogQHBhcmFtICB7RE9NRWxlbWVudH0gZWxlbWVudCAgVGhlIERPTUVsZW1lbnQgdGhhdCB3aWxsIGJlIGFuaW1hdGVkLlxuICogQHBhcmFtICB7c3RyaW5nfG9iamVjdHxmdW5jdGlvbn0gdHJpZ2dlciAgVGhlIHRoaW5nIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBzdGFydDpcbiAqICAgLSBBcyBhIHN0cmluZywgaXQgcmVwcmVzZW50cyB0aGUgY3NzIGNsYXNzIHRvIGJlIGFkZGVkIHRvIHRoZSBlbGVtZW50LlxuICogICAtIEFzIGFuIG9iamVjdCwgaXQgcmVwcmVzZW50cyBhIGhhc2ggb2Ygc3R5bGUgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICogICAtIEFzIGEgZnVuY3Rpb24sIGl0IHJlcHJlc2VudHMgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdGhhdCB3aWxsIGNhdXNlIHRoZSB0cmFuc2l0aW9uIHRvIG9jY3VyLlxuICogQHJldHVybiB7UHJvbWlzZX0gIEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHRyYW5zaXRpb24gZmluaXNoZXMuXG4gKi9cbi5mYWN0b3J5KCckdHJhbnNpdGlvbicsIFtcbiAgICAgICAgJyRxJywgJyR0aW1lb3V0JywgJyRyb290U2NvcGUnLCAnJGxvZycsICckdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCcsXG5mdW5jdGlvbigkcSAsICAkdGltZW91dCAsICAkcm9vdFNjb3BlICwgICRsb2cgLCAgJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQpIHtcblxuICBpZiAoISR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgJGxvZy53YXJuKCckdHJhbnNpdGlvbiBpcyBub3cgZGVwcmVjYXRlZC4gVXNlICRhbmltYXRlIGZyb20gbmdBbmltYXRlIGluc3RlYWQuJyk7XG4gIH1cblxuICB2YXIgJHRyYW5zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCB0cmlnZ2VyLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgZW5kRXZlbnROYW1lID0gJHRyYW5zaXRpb25bb3B0aW9ucy5hbmltYXRpb24gPyAnYW5pbWF0aW9uRW5kRXZlbnROYW1lJyA6ICd0cmFuc2l0aW9uRW5kRXZlbnROYW1lJ107XG5cbiAgICB2YXIgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudW5iaW5kKGVuZEV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmIChlbmRFdmVudE5hbWUpIHtcbiAgICAgIGVsZW1lbnQuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBXcmFwIGluIGEgdGltZW91dCB0byBhbGxvdyB0aGUgYnJvd3NlciB0aW1lIHRvIHVwZGF0ZSB0aGUgRE9NIGJlZm9yZSB0aGUgdHJhbnNpdGlvbiBpcyB0byBvY2N1clxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCBhbmd1bGFyLmlzU3RyaW5nKHRyaWdnZXIpICkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHRyaWdnZXIpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc0Z1bmN0aW9uKHRyaWdnZXIpICkge1xuICAgICAgICB0cmlnZ2VyKGVsZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmICggYW5ndWxhci5pc09iamVjdCh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5jc3ModHJpZ2dlcik7XG4gICAgICB9XG4gICAgICAvL0lmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0cmFuc2l0aW9ucywgaW5zdGFudGx5IHJlc29sdmVcbiAgICAgIGlmICggIWVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFkZCBvdXIgY3VzdG9tIGNhbmNlbCBmdW5jdGlvbiB0byB0aGUgcHJvbWlzZSB0aGF0IGlzIHJldHVybmVkXG4gICAgLy8gV2UgY2FuIGNhbGwgdGhpcyBpZiB3ZSBhcmUgYWJvdXQgdG8gcnVuIGEgbmV3IHRyYW5zaXRpb24sIHdoaWNoIHdlIGtub3cgd2lsbCBwcmV2ZW50IHRoaXMgdHJhbnNpdGlvbiBmcm9tIGVuZGluZyxcbiAgICAvLyBpLmUuIGl0IHdpbGwgdGhlcmVmb3JlIG5ldmVyIHJhaXNlIGEgdHJhbnNpdGlvbkVuZCBldmVudCBmb3IgdGhhdCB0cmFuc2l0aW9uXG4gICAgZGVmZXJyZWQucHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICggZW5kRXZlbnROYW1lICkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIGRlZmVycmVkLnJlamVjdCgnVHJhbnNpdGlvbiBjYW5jZWxsZWQnKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG5cbiAgLy8gV29yayBvdXQgdGhlIG5hbWUgb2YgdGhlIHRyYW5zaXRpb25FbmQgZXZlbnRcbiAgdmFyIHRyYW5zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYW5zJyk7XG4gIHZhciB0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnXG4gIH07XG4gIHZhciBhbmltYXRpb25FbmRFdmVudE5hbWVzID0ge1xuICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJyxcbiAgICAnT1RyYW5zaXRpb24nOiAnb0FuaW1hdGlvbkVuZCcsXG4gICAgJ3RyYW5zaXRpb24nOiAnYW5pbWF0aW9uZW5kJ1xuICB9O1xuICBmdW5jdGlvbiBmaW5kRW5kRXZlbnROYW1lKGVuZEV2ZW50TmFtZXMpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIGVuZEV2ZW50TmFtZXMpe1xuICAgICAgaWYgKHRyYW5zRWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBlbmRFdmVudE5hbWVzW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAkdHJhbnNpdGlvbi50cmFuc2l0aW9uRW5kRXZlbnROYW1lID0gZmluZEVuZEV2ZW50TmFtZSh0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyk7XG4gICR0cmFuc2l0aW9uLmFuaW1hdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUoYW5pbWF0aW9uRW5kRXZlbnROYW1lcyk7XG4gIHJldHVybiAkdHJhbnNpdGlvbjtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4vKipcbiAqIEEgaGVscGVyIHNlcnZpY2UgdGhhdCBjYW4gcGFyc2UgdHlwZWFoZWFkJ3Mgc3ludGF4IChzdHJpbmcgcHJvdmlkZWQgYnkgdXNlcnMpXG4gKiBFeHRyYWN0ZWQgdG8gYSBzZXBhcmF0ZSBzZXJ2aWNlIGZvciBlYXNlIG9mIHVuaXQgdGVzdGluZ1xuICovXG4gIC5mYWN0b3J5KCd0eXBlYWhlYWRQYXJzZXInLCBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuXG4gIC8vICAgICAgICAgICAgICAgICAgICAgIDAwMDAwMTExMDAwMDAwMDAwMDAwMDIyMjAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMzMzMzMwMDAwMDAwMDAwMDQ0MDAwXG4gIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcblxuICByZXR1cm4ge1xuICAgIHBhcnNlOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgdmFyIG1hdGNoID0gaW5wdXQubWF0Y2goVFlQRUFIRUFEX1JFR0VYUCk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRXhwZWN0ZWQgdHlwZWFoZWFkIHNwZWNpZmljYXRpb24gaW4gZm9ybSBvZiBcIl9tb2RlbFZhbHVlXyAoYXMgX2xhYmVsXyk/IGZvciBfaXRlbV8gaW4gX2NvbGxlY3Rpb25fXCInICtcbiAgICAgICAgICAgICcgYnV0IGdvdCBcIicgKyBpbnB1dCArICdcIi4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbU5hbWU6bWF0Y2hbM10sXG4gICAgICAgIHNvdXJjZTokcGFyc2UobWF0Y2hbNF0pLFxuICAgICAgICB2aWV3TWFwcGVyOiRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSksXG4gICAgICAgIG1vZGVsTWFwcGVyOiRwYXJzZShtYXRjaFsxXSlcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJHEnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICckcG9zaXRpb24nLCAndHlwZWFoZWFkUGFyc2VyJyxcbiAgICBmdW5jdGlvbigkY29tcGlsZSwgJHBhcnNlLCAkcSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHdpbmRvdywgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCB0eXBlYWhlYWRQYXJzZXIpIHtcbiAgICB2YXIgSE9UX0tFWVMgPSBbOSwgMTMsIDI3LCAzOCwgNDBdO1xuICAgIHZhciBldmVudERlYm91bmNlVGltZSA9IDIwMDtcblxuICAgIHJldHVybiB7XG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9uZ01vZGVsT3B0aW9ucyddLFxuICAgICAgbGluazogZnVuY3Rpb24ob3JpZ2luYWxTY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXTtcbiAgICAgICAgdmFyIG5nTW9kZWxPcHRpb25zID0gY3RybHNbMV07XG4gICAgICAgIC8vU1VQUE9SVEVEIEFUVFJJQlVURVMgKE9QVElPTlMpXG5cbiAgICAgICAgLy9taW5pbWFsIG5vIG9mIGNoYXJhY3RlcnMgdGhhdCBuZWVkcyB0byBiZSBlbnRlcmVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICAgICAgdmFyIG1pbkxlbmd0aCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKTtcbiAgICAgICAgaWYgKCFtaW5MZW5ndGggJiYgbWluTGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgbWluTGVuZ3RoID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbWluaW1hbCB3YWl0IHRpbWUgYWZ0ZXIgbGFzdCBjaGFyYWN0ZXIgdHlwZWQgYmVmb3JlIHR5cGVhaGVhZCBraWNrcy1pblxuICAgICAgICB2YXIgd2FpdFRpbWUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFdhaXRNcykgfHwgMDtcblxuICAgICAgICAvL3Nob3VsZCBpdCByZXN0cmljdCBtb2RlbCB2YWx1ZXMgdG8gdGhlIG9uZXMgc2VsZWN0ZWQgZnJvbSB0aGUgcG9wdXAgb25seT9cbiAgICAgICAgdmFyIGlzRWRpdGFibGUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlKSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgbWF0Y2hlcyBhcmUgYmVpbmcgcmV0cmlldmVkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHZhciBpc0xvYWRpbmdTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICAvL2EgY2FsbGJhY2sgZXhlY3V0ZWQgd2hlbiBhIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICAgIHZhciBvblNlbGVjdENhbGxiYWNrID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZE9uU2VsZWN0KTtcblxuICAgICAgICAvL3Nob3VsZCBpdCBzZWxlY3QgaGlnaGxpZ2h0ZWQgcG9wdXAgdmFsdWUgd2hlbiBsb3NpbmcgZm9jdXM/XG4gICAgICAgIHZhciBpc1NlbGVjdE9uQmx1ciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFNlbGVjdE9uQmx1cikgOiBmYWxzZTtcblxuICAgICAgICAvL2JpbmRpbmcgdG8gYSB2YXJpYWJsZSB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSB3ZXJlIG5vIHJlc3VsdHMgYWZ0ZXIgdGhlIHF1ZXJ5IGlzIGNvbXBsZXRlZFxuICAgICAgICB2YXIgaXNOb1Jlc3VsdHNTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTm9SZXN1bHRzKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgICAgIHZhciBpbnB1dEZvcm1hdHRlciA9IGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyID8gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZElucHV0Rm9ybWF0dGVyKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gIGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlO1xuXG4gICAgICAgIHZhciBmb2N1c0ZpcnN0ID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRGb2N1c0ZpcnN0KSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLy9JZiBpbnB1dCBtYXRjaGVzIGFuIGl0ZW0gb2YgdGhlIGxpc3QgZXhhY3RseSwgc2VsZWN0IGl0IGF1dG9tYXRpY2FsbHlcbiAgICAgICAgdmFyIHNlbGVjdE9uRXhhY3QgPSBhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0ID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0KSA6IGZhbHNlO1xuXG4gICAgICAgIC8vSU5URVJOQUwgVkFSSUFCTEVTXG5cbiAgICAgICAgLy9tb2RlbCBzZXR0ZXIgZXhlY3V0ZWQgdXBvbiBtYXRjaCBzZWxlY3Rpb25cbiAgICAgICAgdmFyIHBhcnNlZE1vZGVsID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpO1xuICAgICAgICB2YXIgaW52b2tlTW9kZWxTZXR0ZXIgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCArICcoJCQkcCknKTtcbiAgICAgICAgdmFyICRzZXRNb2RlbFZhbHVlID0gZnVuY3Rpb24oc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwYXJzZWRNb2RlbChvcmlnaW5hbFNjb3BlKSkgJiZcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zICYmIG5nTW9kZWxPcHRpb25zLiRvcHRpb25zICYmIG5nTW9kZWxPcHRpb25zLiRvcHRpb25zLmdldHRlclNldHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZU1vZGVsU2V0dGVyKHNjb3BlLCB7JCQkcDogbmV3VmFsdWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZE1vZGVsLmFzc2lnbihzY29wZSwgbmV3VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL2V4cHJlc3Npb25zIHVzZWQgYnkgdHlwZWFoZWFkXG4gICAgICAgIHZhciBwYXJzZXJSZXN1bHQgPSB0eXBlYWhlYWRQYXJzZXIucGFyc2UoYXR0cnMudHlwZWFoZWFkKTtcblxuICAgICAgICB2YXIgaGFzRm9jdXM7XG5cbiAgICAgICAgLy9Vc2VkIHRvIGF2b2lkIGJ1ZyBpbiBpT1Mgd2VidmlldyB3aGVyZSBpT1Mga2V5Ym9hcmQgZG9lcyBub3QgZmlyZVxuICAgICAgICAvL21vdXNlZG93biAmIG1vdXNldXAgZXZlbnRzXG4gICAgICAgIC8vSXNzdWUgIzM2OTlcbiAgICAgICAgdmFyIHNlbGVjdGVkO1xuXG4gICAgICAgIC8vY3JlYXRlIGEgY2hpbGQgc2NvcGUgZm9yIHRoZSB0eXBlYWhlYWQgZGlyZWN0aXZlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIHNjb3BlXG4gICAgICAgIC8vd2l0aCB0eXBlYWhlYWQtc3BlY2lmaWMgZGF0YSAobWF0Y2hlcywgcXVlcnkgZXRjLilcbiAgICAgICAgdmFyIHNjb3BlID0gb3JpZ2luYWxTY29wZS4kbmV3KCk7XG4gICAgICAgIHZhciBvZmZEZXN0cm95ID0gb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG5cdFx0XHQgICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBvZmZEZXN0cm95KTtcblxuICAgICAgICAvLyBXQUktQVJJQVxuICAgICAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICAgICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgICAnYXJpYS1hdXRvY29tcGxldGUnOiAnbGlzdCcsXG4gICAgICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICAgICAnYXJpYS1vd25zJzogcG9wdXBJZFxuICAgICAgICB9KTtcblxuICAgICAgICAvL3BvcC11cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBtYXRjaGVzXG4gICAgICAgIHZhciBwb3BVcEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHR5cGVhaGVhZC1wb3B1cD48L2Rpdj4nKTtcbiAgICAgICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgICAgICBpZDogcG9wdXBJZCxcbiAgICAgICAgICBtYXRjaGVzOiAnbWF0Y2hlcycsXG4gICAgICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgICAgICBzZWxlY3Q6ICdzZWxlY3QoYWN0aXZlSWR4KScsXG4gICAgICAgICAgJ21vdmUtaW4tcHJvZ3Jlc3MnOiAnbW92ZUluUHJvZ3Jlc3MnLFxuICAgICAgICAgIHF1ZXJ5OiAncXVlcnknLFxuICAgICAgICAgIHBvc2l0aW9uOiAncG9zaXRpb24nXG4gICAgICAgIH0pO1xuICAgICAgICAvL2N1c3RvbSBpdGVtIHRlbXBsYXRlXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICBwb3BVcEVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRQb3B1cFRlbXBsYXRlVXJsKSkge1xuICAgICAgICAgIHBvcFVwRWwuYXR0cigncG9wdXAtdGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzZXRNYXRjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2NvcGUubWF0Y2hlcyA9IFtdO1xuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IC0xO1xuICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0TWF0Y2hJZCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSW5kaWNhdGUgdGhhdCB0aGUgc3BlY2lmaWVkIG1hdGNoIGlzIHRoZSBhY3RpdmUgKHByZS1zZWxlY3RlZCkgaXRlbSBpbiB0aGUgbGlzdCBvd25lZCBieSB0aGlzIHR5cGVhaGVhZC5cbiAgICAgICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlSWR4JywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsIGdldE1hdGNoSWQoaW5kZXgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBpbnB1dElzRXhhY3RNYXRjaCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gaW5kZXggJiYgaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWUudG9VcHBlckNhc2UoKSA9PT0gc2NvcGUubWF0Y2hlc1tpbmRleF0ubGFiZWwudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1hdGNoZXNBc3luYyA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICB2YXIgbG9jYWxzID0geyR2aWV3VmFsdWU6IGlucHV0VmFsdWV9O1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgJHEud2hlbihwYXJzZXJSZXN1bHQuc291cmNlKG9yaWdpbmFsU2NvcGUsIGxvY2FscykpLnRoZW4oZnVuY3Rpb24obWF0Y2hlcykge1xuICAgICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCBzZXZlcmFsIGFzeW5jIHF1ZXJpZXMgd2VyZSBpbiBwcm9ncmVzcyBpZiBhIHVzZXIgd2VyZSB0eXBpbmcgZmFzdFxuICAgICAgICAgICAgLy9idXQgd2UgYXJlIGludGVyZXN0ZWQgb25seSBpbiByZXNwb25zZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZpZXcgdmFsdWVcbiAgICAgICAgICAgIHZhciBvbkN1cnJlbnRSZXF1ZXN0ID0gKGlucHV0VmFsdWUgPT09IG1vZGVsQ3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0ICYmIGhhc0ZvY3VzKSB7XG4gICAgICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gZm9jdXNGaXJzdCA/IDAgOiAtMTtcbiAgICAgICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICAgICAgLy90cmFuc2Zvcm0gbGFiZWxzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1hdGNoZXNbaV07XG4gICAgICAgICAgICAgICAgICBzY29wZS5tYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKHNjb3BlLCBsb2NhbHMpLFxuICAgICAgICAgICAgICAgICAgICBtb2RlbDogbWF0Y2hlc1tpXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUucXVlcnkgPSBpbnB1dFZhbHVlO1xuICAgICAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcbiAgICAgICAgICAgICAgICAvL3dpdGggbWF0Y2hlcyBhcyBhIHBvcC11cCBtaWdodCBiZSBhYnNvbHV0ZS1wb3NpdGlvbmVkIGFuZCBwb3NpdGlvbiBvZiBhbiBpbnB1dCBtaWdodCBoYXZlIGNoYW5nZWQgb24gYSBwYWdlXG4gICAgICAgICAgICAgICAgLy9kdWUgdG8gb3RoZXIgZWxlbWVudHMgYmVpbmcgcmVuZGVyZWRcbiAgICAgICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vU2VsZWN0IHRoZSBzaW5nbGUgcmVtYWluaW5nIG9wdGlvbiBpZiB1c2VyIGlucHV0IG1hdGNoZXNcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0T25FeGFjdCAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMSAmJiBpbnB1dElzRXhhY3RNYXRjaChpbnB1dFZhbHVlLCAwKSkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgaXNMb2FkaW5nU2V0dGVyKG9yaWdpbmFsU2NvcGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGJpbmQgZXZlbnRzIG9ubHkgaWYgYXBwZW5kVG9Cb2R5IHBhcmFtcyBleGlzdCAtIHBlcmZvcm1hbmNlIGZlYXR1cmVcbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKCdyZXNpemUnLCBmaXJlUmVjYWxjdWxhdGluZyk7XG4gICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5iaW5kKCdzY3JvbGwnLCBmaXJlUmVjYWxjdWxhdGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWNsYXJlIHRoZSB0aW1lb3V0IHByb21pc2UgdmFyIG91dHNpZGUgdGhlIGZ1bmN0aW9uIHNjb3BlIHNvIHRoYXQgc3RhY2tlZCBjYWxscyBjYW4gYmUgY2FuY2VsbGVkIGxhdGVyXG4gICAgICAgIHZhciB0aW1lb3V0RXZlbnRQcm9taXNlO1xuXG4gICAgICAgIC8vIERlZmF1bHQgcHJvZ3Jlc3MgdHlwZVxuICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVSZWNhbGN1bGF0aW5nKCkge1xuICAgICAgICAgIGlmICghc2NvcGUubW92ZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHNjb3BlLm1vdmVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDYW5jZWwgcHJldmlvdXMgdGltZW91dFxuICAgICAgICAgIGlmICh0aW1lb3V0RXZlbnRQcm9taXNlKSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dEV2ZW50UHJvbWlzZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVib3VuY2VkIGV4ZWN1dGluZyByZWNhbGN1bGF0ZSBhZnRlciBldmVudHMgZmlyZWRcbiAgICAgICAgICB0aW1lb3V0RXZlbnRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBpZiBwb3B1cCBpcyB2aXNpYmxlXG4gICAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVjYWxjdWxhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH0sIGV2ZW50RGVib3VuY2VUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlY2FsY3VsYXRlIGFjdHVhbCBwb3NpdGlvbiBhbmQgc2V0IG5ldyB2YWx1ZXMgdG8gc2NvcGVcbiAgICAgICAgLy8gYWZ0ZXIgZGlnZXN0IGxvb3AgaXMgcG9wdXAgaW4gcmlnaHQgcG9zaXRpb25cbiAgICAgICAgZnVuY3Rpb24gcmVjYWxjdWxhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbiA9IGFwcGVuZFRvQm9keSA/ICRwb3NpdGlvbi5vZmZzZXQoZWxlbWVudCkgOiAkcG9zaXRpb24ucG9zaXRpb24oZWxlbWVudCk7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24udG9wICs9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAvL3dlIG5lZWQgdG8gcHJvcGFnYXRlIHVzZXIncyBxdWVyeSBzbyB3ZSBjYW4gaGlnbGlnaHQgbWF0Y2hlc1xuICAgICAgICBzY29wZS5xdWVyeSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvL0RlY2xhcmUgdGhlIHRpbWVvdXQgcHJvbWlzZSB2YXIgb3V0c2lkZSB0aGUgZnVuY3Rpb24gc2NvcGUgc28gdGhhdCBzdGFja2VkIGNhbGxzIGNhbiBiZSBjYW5jZWxsZWQgbGF0ZXJcbiAgICAgICAgdmFyIHRpbWVvdXRQcm9taXNlO1xuXG4gICAgICAgIHZhciBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0ID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIHRpbWVvdXRQcm9taXNlID0gJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfSwgd2FpdFRpbWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjYW5jZWxQcmV2aW91c1RpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGltZW91dFByb21pc2UpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTVxuICAgICAgICAvLyRwYXJzZXJzIGtpY2staW4gb24gYWxsIHRoZSBjaGFuZ2VzIGNvbWluZyBmcm9tIHRoZSB2aWV3IGFzIHdlbGwgYXMgbWFudWFsbHkgdHJpZ2dlcmVkIGJ5ICRzZXRWaWV3VmFsdWVcbiAgICAgICAgbW9kZWxDdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgICAgIGhhc0ZvY3VzID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChtaW5MZW5ndGggPT09IDAgfHwgaW5wdXRWYWx1ZSAmJiBpbnB1dFZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh3YWl0VGltZSA+IDApIHtcbiAgICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICAgIHNjaGVkdWxlU2VhcmNoV2l0aFRpbWVvdXQoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICBjYW5jZWxQcmV2aW91c1RpbWVvdXQoKTtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgIC8vIFJlc2V0IGluIGNhc2UgdXNlciBoYWQgdHlwZWQgc29tZXRoaW5nIHByZXZpb3VzbHkuXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICAgICAgdmFyIGNhbmRpZGF0ZVZpZXdWYWx1ZSwgZW1wdHlWaWV3VmFsdWU7XG4gICAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuXG4gICAgICAgICAgLy8gVGhlIHZhbGlkaXR5IG1heSBiZSBzZXQgdG8gZmFsc2UgdmlhICRwYXJzZXJzIChzZWUgYWJvdmUpIGlmXG4gICAgICAgICAgLy8gdGhlIG1vZGVsIGlzIHJlc3RyaWN0ZWQgdG8gc2VsZWN0ZWQgdmFsdWVzLiBJZiB0aGUgbW9kZWxcbiAgICAgICAgICAvLyBpcyBzZXQgbWFudWFsbHkgaXQgaXMgY29uc2lkZXJlZCB0byBiZSB2YWxpZC5cbiAgICAgICAgICBpZiAoIWlzRWRpdGFibGUpIHtcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlucHV0Rm9ybWF0dGVyKSB7XG4gICAgICAgICAgICBsb2NhbHMuJG1vZGVsID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2l0IG1pZ2h0IGhhcHBlbiB0aGF0IHdlIGRvbid0IGhhdmUgZW5vdWdoIGluZm8gdG8gcHJvcGVybHkgcmVuZGVyIGlucHV0IHZhbHVlXG4gICAgICAgICAgICAvL3dlIG5lZWQgdG8gY2hlY2sgZm9yIHRoaXMgc2l0dWF0aW9uIGFuZCBzaW1wbHkgcmV0dXJuIG1vZGVsIHZhbHVlIGlmIHdlIGNhbid0IGFwcGx5IGN1c3RvbSBmb3JtYXR0aW5nXG4gICAgICAgICAgICBsb2NhbHNbcGFyc2VyUmVzdWx0Lml0ZW1OYW1lXSA9IG1vZGVsVmFsdWU7XG4gICAgICAgICAgICBjYW5kaWRhdGVWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBlbXB0eVZpZXdWYWx1ZSA9IHBhcnNlclJlc3VsdC52aWV3TWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGVWaWV3VmFsdWUhPT0gZW1wdHlWaWV3VmFsdWUgPyBjYW5kaWRhdGVWaWV3VmFsdWUgOiBtb2RlbFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oYWN0aXZlSWR4KSB7XG4gICAgICAgICAgLy9jYWxsZWQgZnJvbSB3aXRoaW4gdGhlICRkaWdlc3QoKSBjeWNsZVxuICAgICAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgICAgICB2YXIgbW9kZWwsIGl0ZW07XG5cbiAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsO1xuICAgICAgICAgIG1vZGVsID0gcGFyc2VyUmVzdWx0Lm1vZGVsTWFwcGVyKG9yaWdpbmFsU2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgJHNldE1vZGVsVmFsdWUob3JpZ2luYWxTY29wZSwgbW9kZWwpO1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgncGFyc2UnLCB0cnVlKTtcblxuICAgICAgICAgIG9uU2VsZWN0Q2FsbGJhY2sob3JpZ2luYWxTY29wZSwge1xuICAgICAgICAgICAgJGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAkbW9kZWw6IG1vZGVsLFxuICAgICAgICAgICAgJGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgICAgIC8vcmV0dXJuIGZvY3VzIHRvIHRoZSBpbnB1dCBlbGVtZW50IGlmIGEgbWF0Y2ggd2FzIHNlbGVjdGVkIHZpYSBhIG1vdXNlIGNsaWNrIGV2ZW50XG4gICAgICAgICAgLy8gdXNlIHRpbWVvdXQgdG8gYXZvaWQgJHJvb3RTY29wZTppbnByb2cgZXJyb3JcbiAgICAgICAgICBpZiAoc2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgZWxlbWVudFswXS5mb2N1cygpOyB9LCAwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vYmluZCBrZXlib2FyZCBldmVudHM6IGFycm93cyB1cCgzOCkgLyBkb3duKDQwKSwgZW50ZXIoMTMpIGFuZCB0YWIoOSksIGVzYygyNylcbiAgICAgICAgZWxlbWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgLy90eXBlYWhlYWQgaXMgb3BlbiBhbmQgYW4gXCJpbnRlcmVzdGluZ1wiIGtleSB3YXMgcHJlc3NlZFxuICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMCB8fCBIT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaWYgdGhlcmUncyBub3RoaW5nIHNlbGVjdGVkIChpLmUuIGZvY3VzRmlyc3QpIGFuZCBlbnRlciBvciB0YWIgaXMgaGl0LCBjbGVhciB0aGUgcmVzdWx0c1xuICAgICAgICAgIGlmIChzY29wZS5hY3RpdmVJZHggPT09IC0xICYmIChldnQud2hpY2ggPT09IDkgfHwgZXZ0LndoaWNoID09PSAxMykpIHtcbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gNDApIHtcbiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggKyAxKSAlIHNjb3BlLm1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDM4KSB7XG4gICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ID4gMCA/IHNjb3BlLmFjdGl2ZUlkeCA6IHNjb3BlLm1hdGNoZXMubGVuZ3RoKSAtIDE7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGV2dC53aGljaCA9PT0gMTMgfHwgZXZ0LndoaWNoID09PSA5KSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGlzU2VsZWN0T25CbHVyICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICYmIHNjb3BlLmFjdGl2ZUlkeCAhPT0gLTEgJiYgIXNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhc0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gS2VlcCByZWZlcmVuY2UgdG8gY2xpY2sgaGFuZGxlciB0byB1bmJpbmQgaXQuXG4gICAgICAgIHZhciBkaXNtaXNzQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgLy8gSXNzdWUgIzM5NzNcbiAgICAgICAgICAvLyBGaXJlZm94IHRyZWF0cyByaWdodCBjbGljayBhcyBhIGNsaWNrIG9uIGRvY3VtZW50XG4gICAgICAgICAgaWYgKGVsZW1lbnRbMF0gIT09IGV2dC50YXJnZXQgJiYgZXZ0LndoaWNoICE9PSAzICYmIHNjb3BlLm1hdGNoZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG5cbiAgICAgICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkaXNtaXNzQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFByZXZlbnQgalF1ZXJ5IGNhY2hlIG1lbW9yeSBsZWFrXG4gICAgICAgICAgcG9wVXBFbC5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyICRwb3B1cCA9ICRjb21waWxlKHBvcFVwRWwpKHNjb3BlKTtcblxuICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoJHBvcHVwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmFmdGVyKCRwb3B1cCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgbWF0Y2hlczogJz0nLFxuICAgICAgICBxdWVyeTogJz0nLFxuICAgICAgICBhY3RpdmU6ICc9JyxcbiAgICAgICAgcG9zaXRpb246ICcmJyxcbiAgICAgICAgbW92ZUluUHJvZ3Jlc3M6ICc9JyxcbiAgICAgICAgc2VsZWN0OiAnJidcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHJldHVybiBhdHRycy5wb3B1cFRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBzY29wZS50ZW1wbGF0ZVVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5tYXRjaGVzLmxlbmd0aCA+IDA7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihtYXRjaElkeCkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5hY3RpdmUgPT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RNYXRjaCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCkge1xuICAgICAgICAgIHNjb3BlLnNlbGVjdCh7YWN0aXZlSWR4OmFjdGl2ZUlkeH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmRpcmVjdGl2ZSgndHlwZWFoZWFkTWF0Y2gnLCBbJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHRlbXBsYXRlUmVxdWVzdCwgJGNvbXBpbGUsICRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnPScsXG4gICAgICAgIG1hdGNoOiAnPScsXG4gICAgICAgIHF1ZXJ5OiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgdHBsVXJsID0gJHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KSB8fCAndGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1tYXRjaC5odG1sJztcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdCh0cGxVcmwpLnRoZW4oZnVuY3Rpb24odHBsQ29udGVudCkge1xuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aChjbG9uZWRFbGVtZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmZpbHRlcigndHlwZWFoZWFkSGlnaGxpZ2h0JywgWyckc2NlJywgJyRpbmplY3RvcicsICckbG9nJywgZnVuY3Rpb24oJHNjZSwgJGluamVjdG9yLCAkbG9nKSB7XG4gICAgdmFyIGlzU2FuaXRpemVQcmVzZW50O1xuICAgIGlzU2FuaXRpemVQcmVzZW50ID0gJGluamVjdG9yLmhhcygnJHNhbml0aXplJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdleHAocXVlcnlUb0VzY2FwZSkge1xuICAgICAgLy8gUmVnZXg6IGNhcHR1cmUgdGhlIHdob2xlIHF1ZXJ5IHN0cmluZyBhbmQgcmVwbGFjZSBpdCB3aXRoIHRoZSBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgdG8gbWF0Y2hcbiAgICAgIC8vIHRoZSByZXN1bHRzLCBmb3IgZXhhbXBsZSBpZiB0aGUgY2FwdHVyZSBpcyBcImFcIiB0aGUgcmVzdWx0IHdpbGwgYmUgXFxhXG4gICAgICByZXR1cm4gcXVlcnlUb0VzY2FwZS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgJ1xcXFwkMScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zSHRtbChtYXRjaEl0ZW0pIHtcbiAgICAgIHJldHVybiAvPC4qPi9nLnRlc3QobWF0Y2hJdGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24obWF0Y2hJdGVtLCBxdWVyeSkge1xuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCAmJiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSkge1xuICAgICAgICAkbG9nLndhcm4oJ1Vuc2FmZSB1c2Ugb2YgdHlwZWFoZWFkIHBsZWFzZSB1c2UgbmdTYW5pdGl6ZScpOyAvLyBXYXJuIHRoZSB1c2VyIGFib3V0IHRoZSBkYW5nZXJcbiAgICAgIH1cbiAgICAgIG1hdGNoSXRlbSA9IHF1ZXJ5PyAoJycgKyBtYXRjaEl0ZW0pLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVSZWdleHAocXVlcnkpLCAnZ2knKSwgJzxzdHJvbmc+JCY8L3N0cm9uZz4nKSA6IG1hdGNoSXRlbTsgLy8gUmVwbGFjZXMgdGhlIGNhcHR1cmUgc3RyaW5nIHdpdGggYSB0aGUgc2FtZSBzdHJpbmcgaW5zaWRlIG9mIGEgXCJzdHJvbmdcIiB0YWdcbiAgICAgIGlmICghaXNTYW5pdGl6ZVByZXNlbnQpIHtcbiAgICAgICAgbWF0Y2hJdGVtID0gJHNjZS50cnVzdEFzSHRtbChtYXRjaEl0ZW0pOyAvLyBJZiAkc2FuaXRpemUgaXMgbm90IHByZXNlbnQgd2UgcGFjayB0aGUgc3RyaW5nIGluIGEgJHNjZSBvYmplY3QgZm9yIHRoZSBuZy1iaW5kLWh0bWwgZGlyZWN0aXZlXG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hJdGVtO1xuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsIHt7cGFuZWxDbGFzcyB8fCAncGFuZWwtZGVmYXVsdCd9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiBuZy1rZXlwcmVzcz1cXFwidG9nZ2xlT3BlbigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGg0IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGEgaHJlZiB0YWJpbmRleD1cXFwiMFxcXCIgY2xhc3M9XFxcImFjY29yZGlvbi10b2dnbGVcXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVPcGVuKClcXFwiIGFjY29yZGlvbi10cmFuc2NsdWRlPVxcXCJoZWFkaW5nXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwieyd0ZXh0LW11dGVkJzogaXNEaXNhYmxlZH1cXFwiPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCIgICAgPC9oND5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtY29sbGFwc2UgY29sbGFwc2VcXFwiIGNvbGxhcHNlPVxcXCIhaXNPcGVuXFxcIj5cXG5cIiArXG4gICAgXCJcdCAgPGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBhbmVsLWdyb3VwXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiYWxlcnRcXFwiIG5nLWNsYXNzPVxcXCJbJ2FsZXJ0LScgKyAodHlwZSB8fCAnd2FybmluZycpLCBjbG9zZWFibGUgPyAnYWxlcnQtZGlzbWlzc2libGUnIDogbnVsbF1cXFwiIHJvbGU9XFxcImFsZXJ0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGJ1dHRvbiBuZy1zaG93PVxcXCJjbG9zZWFibGVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5DbG9zZTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIixcbiAgICBcIjxkaXYgbmctbW91c2VlbnRlcj1cXFwicGF1c2UoKVxcXCIgbmctbW91c2VsZWF2ZT1cXFwicGxheSgpXFxcIiBjbGFzcz1cXFwiY2Fyb3VzZWxcXFwiIG5nLXN3aXBlLXJpZ2h0PVxcXCJwcmV2KClcXFwiIG5nLXN3aXBlLWxlZnQ9XFxcIm5leHQoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxvbCBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5kaWNhdG9yc1xcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwic2xpZGUgaW4gc2xpZGVzIHwgb3JkZXJCeTppbmRleE9mU2xpZGUgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoc2xpZGUpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChzbGlkZSlcXFwiPjwvbGk+XFxuXCIgK1xuICAgIFwiICAgIDwvb2w+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImNhcm91c2VsLWlubmVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwibGVmdCBjYXJvdXNlbC1jb250cm9sXFxcIiBuZy1jbGljaz1cXFwicHJldigpXFxcIiBuZy1zaG93PVxcXCJzbGlkZXMubGVuZ3RoID4gMVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIiAgICA8YSBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLWNsYXNzPVxcXCJ7XFxuXCIgK1xuICAgIFwiICAgICdhY3RpdmUnOiBhY3RpdmVcXG5cIiArXG4gICAgXCIgIH1cXFwiIGNsYXNzPVxcXCJpdGVtIHRleHQtY2VudGVyXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRheXBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwiZGF5XFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9kYXlwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8bW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC9tb250aHBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx5ZWFycGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC95ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcInt7Ojo1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1tdXRlZCc6IGR0LnNlY29uZGFyeSwgJ3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOjEwMCU7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctaWY9XFxcImlzT3BlblxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24udG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQrJ3B4J31cXFwiIG5nLWtleWRvd249XFxcImtleWRvd24oJGV2ZW50KVxcXCIgbmctY2xpY2s9XFxcIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCI+XFxuXCIgK1xuICAgIFwiXHQ8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLWlmPVxcXCJzaG93QnV0dG9uQmFyXFxcIiBzdHlsZT1cXFwicGFkZGluZzoxMHB4IDlweCAycHhcXFwiPlxcblwiICtcbiAgICBcIlx0XHQ8c3BhbiBjbGFzcz1cXFwiYnRuLWdyb3VwIHB1bGwtbGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KCd0b2RheScpXFxcIiBuZy1kaXNhYmxlZD1cXFwiaXNEaXNhYmxlZCgndG9kYXknKVxcXCI+e3sgZ2V0VGV4dCgnY3VycmVudCcpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QobnVsbClcXFwiPnt7IGdldFRleHQoJ2NsZWFyJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdFx0PC9zcGFuPlxcblwiICtcbiAgICBcIlx0XHQ8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPnt7IGdldFRleHQoJ2Nsb3NlJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCJcdDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcIjNcXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBzdHlsZT1cXFwid2lkdGg6MTAwJTtcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJhY2tkcm9wXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIiAgICAgbmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfVxcXCJcXG5cIiArXG4gICAgXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcbiAgICBcIjxkaXYgbW9kYWwtcmVuZGVyPVxcXCJ7eyRpc1JlbmRlcmVkfX1cXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgcm9sZT1cXFwiZGlhbG9nXFxcIiBjbGFzcz1cXFwibW9kYWxcXFwiXFxuXCIgK1xuICAgIFwiICAgIG1vZGFsLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIlx0bmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNTAgKyBpbmRleCoxMCwgZGlzcGxheTogJ2Jsb2NrJ31cXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIiBuZy1jbGFzcz1cXFwic2l6ZSA/ICdtb2RhbC0nICsgc2l6ZSA6ICcnXFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIiBtb2RhbC10cmFuc2NsdWRlPjwvZGl2PjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2VyLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnZXJcXFwiPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZCwgcHJldmlvdXM6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkLCBuZXh0OiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwicGFnaW5hdGlvblxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tZmlyc3RcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UoMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ2ZpcnN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1wcmV2XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctcmVwZWF0PVxcXCJwYWdlIGluIHBhZ2VzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IHBhZ2UuYWN0aXZlLGRpc2FibGVkOiBuZ0Rpc2FibGVkJiYhcGFnZS5hY3RpdmV9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1wYWdlXFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UubnVtYmVyLCAkZXZlbnQpXFxcIj57e3BhZ2UudGV4dH19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6ZGlyZWN0aW9uTGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbmV4dFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctaWY9XFxcIjo6Ym91bmRhcnlMaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWR9XFxcIiBjbGFzcz1cXFwicGFnaW5hdGlvbi1sYXN0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHRvdGFsUGFnZXMsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdsYXN0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZC1odG1sPVxcXCJjb250ZW50RXhwKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgYmluZC1odG1sLXVuc2FmZT1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIiBuZy1iaW5kPVxcXCJjb250ZW50XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiXFxuXCIgK1xuICAgIFwiICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicG9wb3ZlclxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInRpdGxlXFxcIiBuZy1pZj1cXFwidGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlPVxcXCJjb250ZW50RXhwKClcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzc2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiAwO1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsXG4gICAgXCI8c3BhbiBuZy1tb3VzZWxlYXZlPVxcXCJyZXNldCgpXFxcIiBuZy1rZXlkb3duPVxcXCJvbktleWRvd24oJGV2ZW50KVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIHJvbGU9XFxcInNsaWRlclxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3tyYW5nZS5sZW5ndGh9fVxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHNwYW4gbmctcmVwZWF0LXN0YXJ0PVxcXCJyIGluIHJhbmdlIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcInNyLW9ubHlcXFwiPih7eyAkaW5kZXggPCB2YWx1ZSA/ICcqJyA6ICcgJyB9fSk8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIG5nLXJlcGVhdC1lbmQgbmctbW91c2VlbnRlcj1cXFwiZW50ZXIoJGluZGV4ICsgMSlcXFwiIG5nLWNsaWNrPVxcXCJyYXRlKCRpbmRleCArIDEpXFxcIiBjbGFzcz1cXFwiZ2x5cGhpY29uXFxcIiBuZy1jbGFzcz1cXFwiJGluZGV4IDwgdmFsdWUgJiYgKHIuc3RhdGVPbiB8fCAnZ2x5cGhpY29uLXN0YXInKSB8fCAoci5zdGF0ZU9mZiB8fCAnZ2x5cGhpY29uLXN0YXItZW1wdHknKVxcXCIgbmctYXR0ci10aXRsZT1cXFwie3tyLnRpdGxlfX1cXFwiID48L2k+XFxuXCIgK1xuICAgIFwiPC9zcGFuPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFxuICAgIFwiPGxpIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0KClcXFwiIHRhYi1oZWFkaW5nLXRyYW5zY2x1ZGU+e3toZWFkaW5nfX08L2E+XFxuXCIgK1xuICAgIFwiPC9saT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICA8dWwgY2xhc3M9XFxcIm5hdiBuYXYte3t0eXBlIHx8ICd0YWJzJ319XFxcIiBuZy1jbGFzcz1cXFwieyduYXYtc3RhY2tlZCc6IHZlcnRpY2FsLCAnbmF2LWp1c3RpZmllZCc6IGp1c3RpZmllZH1cXFwiIG5nLXRyYW5zY2x1ZGU+PC91bD5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRhYi1jb250ZW50XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwidGFiLXBhbmVcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLXJlcGVhdD1cXFwidGFiIGluIHRhYnNcXFwiIFxcblwiICtcbiAgICBcIiAgICAgICAgIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiB0YWIuYWN0aXZlfVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICB0YWItY29udGVudC10cmFuc2NsdWRlPVxcXCJ0YWJcXFwiPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXG4gICAgXCI8dGFibGU+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXBcXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudE1pbnV0ZXMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9JbmNyZW1lbnRNaW51dGVzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZEhvdXJzfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwiaG91cnNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlSG91cnMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD46PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRNaW51dGVzfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwibWludXRlc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLXJlYWRvbmx5PVxcXCI6OnJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9Ub2dnbGVNZXJpZGlhbigpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCB0ZXh0LWNlbnRlclxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1lcmlkaWFuKClcXFwiPnt7bWVyaWRpYW59fTwvYnV0dG9uPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIG5nLXNob3c9XFxcIjo6c2hvd1NwaW5uZXJzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vRGVjcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50TWludXRlcygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0RlY3JlbWVudE1pbnV0ZXMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93blxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFxuICAgIFwiPGEgaHJlZiB0YWJpbmRleD1cXFwiLTFcXFwiIG5nLWJpbmQtaHRtbD1cXFwibWF0Y2gubGFiZWwgfCB0eXBlYWhlYWRIaWdobGlnaHQ6cXVlcnlcXFwiPjwvYT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLXNob3c9XFxcImlzT3BlbigpICYmICFtb3ZlSW5Qcm9ncmVzc1xcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uKCkudG9wKydweCcsIGxlZnQ6IHBvc2l0aW9uKCkubGVmdCsncHgnfVxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IGJsb2NrO1xcXCIgcm9sZT1cXFwibGlzdGJveFxcXCIgYXJpYS1oaWRkZW49XFxcInt7IWlzT3BlbigpfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctcmVwZWF0PVxcXCJtYXRjaCBpbiBtYXRjaGVzIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKCRpbmRleCkgfVxcXCIgbmctbW91c2VlbnRlcj1cXFwic2VsZWN0QWN0aXZlKCRpbmRleClcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3RNYXRjaCgkaW5kZXgpXFxcIiByb2xlPVxcXCJvcHRpb25cXFwiIGlkPVxcXCJ7ezo6bWF0Y2guaWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IHR5cGVhaGVhZC1tYXRjaCBpbmRleD1cXFwiJGluZGV4XFxcIiBtYXRjaD1cXFwibWF0Y2hcXFwiIHF1ZXJ5PVxcXCJxdWVyeVxcXCIgdGVtcGxhdGUtdXJsPVxcXCJ0ZW1wbGF0ZVVybFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG4hYW5ndWxhci4kJGNzcCgpICYmIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnaGVhZCcpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4ubmctYW5pbWF0ZS5pdGVtOm5vdCgubGVmdCk6bm90KC5yaWdodCl7LXdlYmtpdC10cmFuc2l0aW9uOjBzIGVhc2UtaW4tb3V0IGxlZnQ7dHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0fTwvc3R5bGU+Jyk7XG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW1wicmlzZXZpc2lvbi5jb21tb24uaTE4blwiXSlcbiAgICAuZGlyZWN0aXZlKFwid2lkZ2V0QnV0dG9uVG9vbGJhclwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBzYXZlOiBcIiZcIixcbiAgICAgICAgICBjYW5jZWw6IFwiJlwiLFxuICAgICAgICAgIGRpc2FibGVTYXZlOiBcIiZcIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyL3dpZGdldC1idXR0b24tdG9vbGJhci5odG1sXCIpXG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVsbC1yaWdodFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJzYXZlXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwic2F2ZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGlzYWJsZVNhdmUoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5zYXZlXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtY2hlY2sgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIGlkPVxcXCJjYW5jZWxcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJjYW5jZWwoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS10aW1lcyBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsIFtcInVpLmJvb3RzdHJhcFwiXSlcbiAgICAuZGlyZWN0aXZlKFwicnZUb29sdGlwXCIsIFtmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJBXCIsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtcXVlc3Rpb24tY2lyY2xlXCIpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoXCJmYS1sZ1wiKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIiwgW1xuICAgIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICAgIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIlxuICBdKVxuICAgIC5kaXJlY3RpdmUoXCJ1cmxGaWVsZFwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBcIiRsb2dcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHJlcXVpcmU6IFwiP25nTW9kZWxcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICB1cmw6IFwiPVwiLFxuICAgICAgICAgIGhpZGVMYWJlbDogXCJAXCIsXG4gICAgICAgICAgZmlsZVR5cGU6IFwiQFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci91cmwtZmllbGQvdXJsLWZpZWxkLmh0bWxcIiksXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcblxuICAgICAgICAgIGZ1bmN0aW9uIGhhc1ZhbGlkRXh0ZW5zaW9uKHVybCwgZmlsZVR5cGUpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0VXJsID0gdXJsLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnM7XG5cbiAgICAgICAgICAgIHN3aXRjaChmaWxlVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLmpwZ1wiLCBcIi5qcGVnXCIsIFwiLnBuZ1wiLCBcIi5ibXBcIiwgXCIuc3ZnXCIsIFwiLmdpZlwiXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtcIi53ZWJtXCIsIFwiLm1wNFwiLCBcIi5vZ3ZcIiwgXCIub2dnXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4dGVuc2lvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRlc3RVcmwuaW5kZXhPZihleHRlbnNpb25zW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgVVJMIHBvaW50cyB0byBhIHZhbGlkIGltYWdlIGZpbGUuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdEltYWdlKCkge1xuICAgICAgICAgICAgaWYgKChzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikgJiYgKHNjb3BlLnVybCAhPT0gXCJ1bmRlZmluZWRcIikpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmZpbGVUeXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IHNjb3BlLmZpbGVUeXBlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHNjb3BlLnVybDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRlc3RVcmwodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB1cmxSZWdFeHAsXG4gICAgICAgICAgICAgIGlzVmFsaWQ7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgRGlzY3Vzc2lvblxuICAgICAgICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzc2ODQvaG93LXRvLXJlcGxhY2UtcGxhaW4tdXJscy13aXRoLWxpbmtzIzIxOTI1NDkxXG5cbiAgICAgICAgICAgICBVc2luZ1xuICAgICAgICAgICAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RwZXJpbmkvNzI5Mjk0XG4gICAgICAgICAgICAgUmVhc29uaW5nXG4gICAgICAgICAgICAgaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXggKi9cblxuICAgICAgICAgICAgdXJsUmVnRXhwID0gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldKy0/KSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSkpKD86OlxcZHsyLDV9KT8oPzpcXC9bXlxcc10qKT8kL2k7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgICAgICAgICAvLyBBZGQgaHR0cDovLyBpZiBubyBwcm90b2NvbCBwYXJhbWV0ZXIgZXhpc3RzXG4gICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcIjovL1wiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBcImh0dHA6Ly9cIiArIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpc1ZhbGlkID0gdXJsUmVnRXhwLnRlc3QodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCAmJiB0eXBlb2Ygc2NvcGUuZmlsZVR5cGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaXNWYWxpZCA9IGhhc1ZhbGlkRXh0ZW5zaW9uKHZhbHVlLCBzY29wZS5maWxlVHlwZSk7XG4gICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gXCJ1cmxcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgdGVzdEltYWdlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEJ5IGRlZmF1bHQgZW5mb3JjZSB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZG9WYWxpZGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAvLyBBIGZsYWcgdG8gc2V0IGlmIHRoZSB1c2VyIHR1cm5lZCBvZmYgdmFsaWRhdGlvblxuICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgLy8gVmFsaWRhdGlvbiBzdGF0ZVxuICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gXCJ1cmxcIjtcblxuICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gKHR5cGVvZiBhdHRycy5pbml0RW1wdHkgIT09IFwidW5kZWZpbmVkXCIpO1xuXG4gICAgICAgICAgc2NvcGUuYmx1ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoXCJ1cmxGaWVsZEJsdXJcIik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcInVybFwiLCBmdW5jdGlvbiAodXJsKSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSBcInVuZGVmaW5lZFwiICYmIHVybCAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgIGlmICh1cmwgIT09IFwiXCIgJiYgc2NvcGUuYWxsb3dJbml0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgYW4gZW1wdHkgXCJcIiB2YWx1ZSBub3cgZ2V0cyB2YWxpZGF0ZWRcbiAgICAgICAgICAgICAgICBzY29wZS5hbGxvd0luaXRFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmRvVmFsaWRhdGlvbiAmJiAhc2NvcGUuYWxsb3dJbml0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidmFsaWRcIiwgZnVuY3Rpb24gKHZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoY3RybCkge1xuICAgICAgICAgICAgICAkbG9nLmluZm8oXCJDYWxsaW5nICRzZXRWYWxpZGl0eSgpIG9uIHBhcmVudCBjb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eShcInZhbGlkXCIsIHZhbGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcImRvVmFsaWRhdGlvblwiLCBmdW5jdGlvbiAoZG9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICBpZih0eXBlb2Ygc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIGlmIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0ZXN0VXJsKHNjb3BlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgPlxcblwiICtcbiAgICBcIiAgPGxhYmVsIG5nLWlmPVxcXCIhaGlkZUxhYmVsXFxcIj57eyBcXFwidXJsLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZSB9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2PlxcblwiICtcbiAgICBcIiAgICA8aW5wdXQgbmFtZT1cXFwidXJsXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwidXJsXFxcIiBuZy1ibHVyPVxcXCJibHVyKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIHBsYWNlaG9sZGVyPVxcXCJodHRwOi8vXFxcIj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ3VybCdcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMudXJsXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICdpbWFnZSdcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMuaW1hZ2VcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ3ZpZGVvJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy52aWRlb1xcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgbmctc2hvdz1cXFwiZm9yY2VkVmFsaWQgfHwgIXZhbGlkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGxhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxpbnB1dCBuYW1lPVxcXCJ2YWxpZGF0ZS11cmxcXFwiIG5nLWNsaWNrPVxcXCJkb1ZhbGlkYXRpb24gPSAhZG9WYWxpZGF0aW9uXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgdmFsdWU9XFxcInZhbGlkYXRlLXVybFxcXCI+IHt7XFxcInVybC52YWxpZGF0ZS5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICA8L2xhYmVsPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xufVxuXG52YXIgY29uZmlnID0ge1xuICBTVE9SQUdFX0VOVjogXCJwcm9kXCJcbn07XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQud2ViLXBhZ2Uuc2V0dGluZ3NcIiwgW1xuICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCJcbl0pO1xuXG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBzZXR0aW5nc1NhdmVyLCBzZXR0aW5nc0dldHRlciwgc2V0dGluZ3NDbG9zZXIpIHtcblxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xuICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xuICAgICAgdmFyIHZhbCA9ICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdO1xuICAgICAgaWYoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgPSBhZGRpdGlvbmFsUGFyYW1zO1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImxvYWRBZGRpdGlvbmFsUGFyYW1zXCIsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHthbGVydCAoZXJyKTsgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxuICAgICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xuXG4gICAgICBzZXR0aW5nc1NhdmVyLnNhdmVTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0dGluZ3NDbG9zZXIuY2xvc2VTZXR0aW5ncygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldHRpbmdzLnBhcmFtcyA9IHNldHRpbmdzR2V0dGVyLmdldFBhcmFtcygpO1xuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcygpO1xuICB9XSlcblxuICAuZGlyZWN0aXZlKFwic2Nyb2xsT25BbGVydHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkFcIiwgLy9yZXN0cmljdHMgdG8gYXR0cmlidXRlc1xuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKFwiYWxlcnRzXCIsIGZ1bmN0aW9uIChuZXdBbGVydHMsIG9sZEFsZXJ0cykge1xuICAgICAgICAgIGlmKG5ld0FsZXJ0cy5sZW5ndGggPiAwICYmIG9sZEFsZXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcInN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcmlzZW1lZGlhbGlicmFyeS1cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxuICAuZmFjdG9yeShcImNvbW1vblNldHRpbmdzXCIsIFtcIiRsb2dcIiwgXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLFxuICAgIGZ1bmN0aW9uICgkbG9nLCBTVE9SQUdFX0ZJTEVfVVJMX0JBU0UsIFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGdldFN0b3JhZ2VVcmxEYXRhOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXG4gICAgICAgICAgc3RyLCBhcnIsIHBhcmFtcywgcGFpcjtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xuICAgICAgICAgIHZhciBwID0gc3RvcmFnZVVybC5zcGxpdChcInJpc2VtZWRpYWxpYnJhcnktXCIpO1xuXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICBzdHIgPSB1cmwuc3BsaXQoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKVsxXTtcbiAgICAgICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyLnNsaWNlKHN0ci5pbmRleE9mKFwiL1wiKSArIDEpKTtcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xuICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gYXJyLmxlbmd0aCA+IDAgPyBhcnIuam9pbihcIi9cIikgOiBcIlwiO1xuXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgZW5kaW5nIFwiL1wiIHRvIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgKz0gXCIvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFpclswXSA9PT0gXCJwcmVmaXhcIiAmJiB0eXBlb2YgcGFpclsxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwYWlyWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ2FkZ2V0c0FwaVwiLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuICR3aW5kb3cuZ2FkZ2V0cztcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgYWxsRm9udHMgPSBbXTtcblxuICAgIGZhY3RvcnkuZ2V0R29vZ2xlRm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gR2V0IGxpc3Qgb2YgR29vZ2xlIGZvbnRzIHNvcnRlZCBhbHBoYWJldGljYWxseS5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2elkmc29ydD1hbHBoYVwiLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgaWYgKHJlc3AuZGF0YSAmJiByZXNwLmRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgLy8gU2F2ZSBhbGwgR29vZ2xlIGZvbnRzLlxuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWxsRm9udHMucHVzaChyZXNwLmRhdGEuaXRlbXNbaV0uZmFtaWx5KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBsb2FkRm9udHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qIEZpbHRlciBsaXN0IG9mIGZvbnRzIHRvIG9ubHkgcmV0dXJuIHRob3NlIHRoYXQgYXJlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmYWN0b3J5LmdldEZvbnRzVXNlZCA9IGZ1bmN0aW9uKGZhbWlseUxpc3QpIHtcbiAgICAgIHZhciBmb250c1VzZWQgPSBbXTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKGFsbEZvbnRzLCBmdW5jdGlvbiAoZmFtaWx5KSB7XG4gICAgICAgIGlmIChmYW1pbHlMaXN0LmluZGV4T2YoZmFtaWx5KSAhPT0gLTEpIHtcbiAgICAgICAgICBmb250c1VzZWQucHVzaChmYW1pbHkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGZvbnRzVXNlZDtcbiAgICB9O1xuXG4gICAgLyogTG9hZCB0aGUgR29vZ2xlIGZvbnRzLiAqL1xuICAgIGZ1bmN0aW9uIGxvYWRGb250cygpIHtcbiAgICAgIHZhciBmYW1pbHkgPSBcIlwiLFxuICAgICAgICBmb250cyA9IFwiXCIsXG4gICAgICAgIHVybCA9IFwiXCIsXG4gICAgICAgIHVybHMgPSBbXSxcbiAgICAgICAgc3BhY2VzID0gZmFsc2UsXG4gICAgICAgIGZhbGxiYWNrID0gXCIsc2Fucy1zZXJpZjtcIixcbiAgICAgICAgZm9udEJhc2VVcmwgPSBcIi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1cIixcbiAgICAgICAgZXhjbHVkZSA9IFtcIkJ1ZGFcIiwgXCJDb2RhIENhcHRpb25cIiwgXCJPcGVuIFNhbnMgQ29uZGVuc2VkXCIsIFwiVW5pZnJha3R1ckNvb2tcIiwgXCJNb2xsZVwiXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxGb250cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmYW1pbHkgPSBhbGxGb250c1tpXTtcblxuICAgICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKGZhbWlseSkgPT09IC0xKSB7XG4gICAgICAgICAgdXJsID0gZm9udEJhc2VVcmwgKyBmYW1pbHk7XG5cbiAgICAgICAgICBhbmd1bGFyTG9hZC5sb2FkQ1NTKHVybCk7XG4gICAgICAgICAgdXJscy5wdXNoKHVybCk7XG5cbiAgICAgICAgICAvLyBjaGVjayBmb3Igc3BhY2VzIGluIGZhbWlseSBuYW1lXG4gICAgICAgICAgaWYgKC9cXHMvLnRlc3QoZmFtaWx5KSkge1xuICAgICAgICAgICAgc3BhY2VzID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc3BhY2VzKSB7XG4gICAgICAgICAgICAvLyB3cmFwIGZhbWlseSBuYW1lIGluIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPSdcIiArIGZhbWlseSArIFwiJ1wiICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9udHMgKz0gZmFtaWx5ICsgXCI9XCIgKyBmYW1pbHkgKyBmYWxsYmFjaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgZm9udHM6IGZvbnRzLCB1cmxzOiB1cmxzIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLnNlcnZpY2UoXCJpMThuTG9hZGVyXCIsIFtcIiR3aW5kb3dcIiwgXCIkcVwiLCBmdW5jdGlvbiAoJHdpbmRvdywgJHEpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgJHdpbmRvdy5pMThuLmluaXQoeyBcbiAgICAgIGZhbGxiYWNrTG5nOiBcImVuXCIsXG4gICAgICByZXNHZXRQYXRoOiBcImxvY2FsZXMvX19uc19fX19fbG5nX18uanNvblwiXG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93LmkxOG4pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiaW1hZ2VWYWxpZGF0b3JcIiwgW1wiJHFcIiwgZnVuY3Rpb24gKCRxKSB7XG4gICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAvLyBWZXJpZnkgdGhhdCBVUkwgaXMgYSB2YWxpZCBpbWFnZSBmaWxlLlxuICAgICAgaXNJbWFnZTogZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5zcmMgPSBzcmM7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NTYXZlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsIFwic2V0dGluZ3NQYXJzZXJcIixcbiAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYWRnZXRzQXBpLCBzZXR0aW5nc1BhcnNlcikge1xuXG4gICAgdGhpcy5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoc2V0dGluZ3MsIHZhbGlkYXRvcikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBhbGVydHMgPSBbXSwgc3RyID0gXCJcIjtcblxuICAgICAgc2V0dGluZ3MgPSBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpO1xuXG4gICAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICAgIGFsZXJ0cyA9IHZhbGlkYXRvcihzZXR0aW5ncyk7XG4gICAgICB9XG5cbiAgICAgIGlmKGFsZXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJWYWxpZGF0aW9uIGZhaWxlZC5cIiwgYWxlcnRzKTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHthbGVydHM6IGFsZXJ0c30pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2V0dGluZ3MucGFyYW1zLmhhc093blByb3BlcnR5KFwibGF5b3V0VVJMXCIpKSB7XG4gICAgICAgIC8vIGVuc3VyZSB0aGUgdXJsIGlzIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgICAgIHN0ciArPSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMICsgXCI/XCI7XG4gICAgICAgIC8vIGRlbGV0ZSB0aGlzIHByb3BlcnR5IHNvIGl0cyBub3QgaW5jbHVkZWQgYmVsb3cgaW4gZW5jb2RlUGFyYW1zIGNhbGxcbiAgICAgICAgZGVsZXRlIHNldHRpbmdzLnBhcmFtcy5sYXlvdXRVUkw7XG4gICAgICB9XG5cbiAgICAgIHN0ciArPSBzZXR0aW5nc1BhcnNlci5lbmNvZGVQYXJhbXMoc2V0dGluZ3MucGFyYW1zKTtcblxuICAgICAgdmFyIGFkZGl0aW9uYWxQYXJhbXNTdHIgPVxuICAgICAgICBzZXR0aW5nc1BhcnNlci5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zKHNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMpO1xuXG4gICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfc2F2ZVNldHRpbmdzXCIsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgJGxvZy5kZWJ1ZyhcImVuY29kZWQgc2V0dGluZ3NcIiwgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgICRsb2cuZGVidWcoXCJTZXR0aW5ncyBzYXZlZC4gXCIsIHNldHRpbmdzKTtcblxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9LCB7XG4gICAgICAgIHBhcmFtczogc3RyLFxuICAgICAgICBhZGRpdGlvbmFsUGFyYW1zOiBhZGRpdGlvbmFsUGFyYW1zU3RyXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgICAgdmFyIG5ld1NldHRpbmdzID0gYW5ndWxhci5jb3B5KHNldHRpbmdzKTtcblxuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5pZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuY29tcGFueUlkO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc1c7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLnJzSDtcblxuICAgICAgcmV0dXJuIG5ld1NldHRpbmdzO1xuICAgIH1cblxuICB9XSlcblxuICAuc2VydmljZShcInNldHRpbmdzR2V0dGVyXCIsIFtcIiRxXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcIiRsb2dcIiwgXCJzZXR0aW5nc1BhcnNlclwiLCBcIiR3aW5kb3dcIiwgXCJkZWZhdWx0U2V0dGluZ3NcIixcbiAgICBmdW5jdGlvbiAoJHEsIGdhZGdldHNBcGksICRsb2csIHNldHRpbmdzUGFyc2VyLCAkd2luZG93LCBkZWZhdWx0U2V0dGluZ3MpIHtcblxuICAgICAgdGhpcy5nZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMgPSBkZWZhdWx0U2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcyB8fCB7fTtcblxuICAgICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfZ2V0QWRkaXRpb25hbFBhcmFtc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc2V0dGluZ3NQYXJzZXIucGFyc2VBZGRpdGlvbmFsUGFyYW1zKHJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0ge307XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJGxvZy5kZWJ1ZyhcImdldEFkZGl0aW9uYWxQYXJhbXMgcmV0dXJucyBcIiwgcmVzdWx0KTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCQuZXh0ZW5kKHRydWUsIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zLCByZXN1bHQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmdldFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRQYXJhbXMgPSBkZWZhdWx0U2V0dGluZ3MucGFyYW1zIHx8IHt9O1xuICAgICAgICByZXR1cm4gYW5ndWxhci5leHRlbmQoZGVmYXVsdFBhcmFtcyxcbiAgICAgICAgICBzZXR0aW5nc1BhcnNlci5wYXJzZVBhcmFtcygkd2luZG93LmxvY2F0aW9uLnNlYXJjaCkpO1xuICAgICAgfTtcbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc1BhcnNlclwiLCBbZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucGFyc2VBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXNTdHIpIHtcbiAgICAgIGlmKGFkZGl0aW9uYWxQYXJhbXNTdHIpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYWRkaXRpb25hbFBhcmFtc1N0cik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmVuY29kZUFkZGl0aW9uYWxQYXJhbXMgPSBmdW5jdGlvbiAoYWRkaXRpb25hbFBhcmFtcykge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmVuY29kZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgIHZhciBzdHIgPSBbXTtcbiAgICAgIGZvcih2YXIgcCBpbiBwYXJhbXMpIHtcbiAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtc1twXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeShwYXJhbXNbcF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gcGFyYW1zW3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHIucHVzaChcInVwX1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KHApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyLmpvaW4oXCImXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzdHJpcFByZWZpeChuYW1lKSB7XG4gICAgICBpZihuYW1lLmluZGV4T2YoXCJ1cF9cIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuc2xpY2UoMyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wYXJzZVBhcmFtcyA9IGZ1bmN0aW9uIChwYXJhbXNTdHIpIHtcbiAgICAgIC8vZ2V0IHJpZCBvZiBwcmVjZWVkaW5nIFwiP1wiXG4gICAgICBpZihwYXJhbXNTdHJbMF0gPT09IFwiP1wiKSB7XG4gICAgICAgIHBhcmFtc1N0ciA9IHBhcmFtc1N0ci5zbGljZSgxKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIHZhciB2YXJzID0gcGFyYW1zU3RyLnNwbGl0KFwiJlwiKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICB2YXIgbmFtZSA9IHN0cmlwUHJlZml4KGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKSk7XG4gICAgICAgIC8vc2F2ZSBzZXR0aW5ncyBvbmx5IGlmIGl0IGhhcyB1cF8gcHJlZml4LiBJZ25vcmUgb3RoZXJ3aXNlXG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlc3VsdFtuYW1lXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICB9XSlcblxuICAuc2VydmljZShcInNldHRpbmdzQ2xvc2VyXCIsIFtcIiRxXCIsIFwiJGxvZ1wiLCBcImdhZGdldHNBcGlcIixcbiAgZnVuY3Rpb24gKCRxLCAkbG9nLCBnYWRnZXRzQXBpKSB7XG5cbiAgICB0aGlzLmNsb3NlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBnYWRnZXRzQXBpLnJwYy5jYWxsKFwiXCIsIFwicnNjbWRfY2xvc2VTZXR0aW5nc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICB9XSlcblxuICAudmFsdWUoXCJkZWZhdWx0U2V0dGluZ3NcIiwge30pO1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udmlzdWFsaXphdGlvblwiLCBbXSlcbiAgICAuZmFjdG9yeShcInZpc3VhbGl6YXRpb25BcGlcIiwgW1wiJHFcIiwgXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkcSwgJHdpbmRvdykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIGlmICghJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbikge1xuICAgICAgICAgICAgICAkd2luZG93Lmdvb2dsZS5zZXRPbkxvYWRDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQud2ViLXBhZ2Uuc2V0dGluZ3NcIilcbiAgLmNvbnRyb2xsZXIoXCJ3ZWJQYWdlU2V0dGluZ3NDb250cm9sbGVyXCIsIFtcIiRzY29wZVwiLFxuICAgIGZ1bmN0aW9uICgvKiRzY29wZSovKSB7XG5cbiAgICB9XSlcbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHtcbiAgICBwYXJhbXM6IHt9LFxuICAgIGFkZGl0aW9uYWxQYXJhbXM6IHtcbiAgICAgIHVybDogXCJcIlxuICAgIH1cbiAgfSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
