if("undefined"==typeof config){var config={};"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"))}var RiseVision=RiseVision||{};RiseVision.WebPage={},RiseVision.WebPage=function(e,t){"use strict";function n(){var t,n,o,i=e.getElementById("webpage-container"),a=e.getElementById("webpage-frame"),r=m.getInt("rsH")/m.getInt("rsW")*100,s=d.scrollHorizontal>0?d.scrollHorizontal:0,c=d.scrollVertical>0?d.scrollVertical:0,l=parseFloat(d.zoom);i&&a&&(t=i.getElementsByClassName("blocker")[0],i.style.visibility="hidden",0!==c&&(r+=c/m.getInt("rsW")*100),i.setAttribute("style","padding-bottom:"+r+"%"),t.style.display=d.interactive?"none":"block",a.setAttribute("scrolling",d.scrollbars?"yes":"no"),n="-ms-zoom:"+l+";-moz-transform: scale("+l+");-moz-transform-origin: 0 0;-o-transform: scale("+l+");-o-transform-origin: 0 0;-webkit-transform: scale("+l+");-webkit-transform-origin: 0 0;",n+="width: "+1/l*100+"%;height: "+1/l*100+"%;",a.setAttribute("style",n),(0!==s||0!==c)&&(o="margin: -"+c+"px 0 0 -"+s+"px;",a.setAttribute("style",n+o)))}function o(){var t=e.getElementById("webpage-frame"),n=e.getElementById("webpage-container"),i=/[?#&]/.test(f),a=Math.ceil(100*Math.random()),r=i?f+"&dummyVar="+a:f+"?dummyVar="+a;n&&t&&(t.onload=function(){t.onload=null,n.style.visibility="visible",d.refresh>0&&(p=setInterval(function(){o()},d.refresh))},t.setAttribute("src",r))}function i(){var t=e.getElementById("webpage-frame");d.refresh>0&&clearInterval(p),t&&(t.src="about:blank")}function a(){t.rpc.call("","rsevent_ready",null,m.getString("id"),!0,!0,!0,!0,!1)}function r(){f=d.url,-1===f.indexOf("://")&&(f="http://"+f),n(),a()}function s(){i()}function c(){o()}function l(){i()}function g(e){b=e}function u(e){m=new t.Prefs,d=e,y=new RiseVision.Common.Background(d,b),y.init(r)}var m=null,d={},f="",p=null,b=null,y=null;return{setCompanyId:g,setAdditionalParams:u,pause:s,play:c,stop:l}}(document,gadgets);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Background=function(e,t){"use strict";function n(){r=!0,a&&"function"==typeof a&&a()}function o(){var o=document.getElementById("background"),i=document.getElementById("backgroundStorage");document.body.style.background=e.background.color,o?e.background.useImage?(o.className=e.background.image.position,o.className=e.background.image.scale?o.className+" scale-to-fit":o.className,0===Object.keys(e.backgroundStorage).length?(o.style.backgroundImage="url("+e.background.image.url+")",n()):i?(i.addEventListener("rise-storage-response",function(e){o.style.backgroundImage="url("+e.detail[0]+")",n()}),i.setAttribute("folder",e.backgroundStorage.folder),i.setAttribute("fileName",e.backgroundStorage.fileName),i.setAttribute("companyId",t),i.go()):console.log("Missing element with id value of 'backgroundStorage'")):n():console.log("Missing element with id value of 'background'")}function i(e){r?e&&"function"==typeof e&&e():(e&&(a=e),o())}var a=null,r=!1;return{init:i}},function(e,t){"use strict";function n(){RiseVision.WebPage.play()}function o(){RiseVision.WebPage.pause()}function i(){RiseVision.WebPage.stop()}function a(e,t){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(t)&&t.length>0&&RiseVision.WebPage.setAdditionalParams(JSON.parse(t[0]))}function r(e,n){e&&"companyId"===e&&RiseVision.WebPage.setCompanyId(n),t.rpc.register("rsparam_set_"+c,a),t.rpc.call("","rsparam_get",null,c,["additionalParams"])}var s=new t.Prefs,c=s.getString("id");e.oncontextmenu=function(){return!1},c&&""!==c&&(t.rpc.register("rscmd_play_"+c,n),t.rpc.register("rscmd_pause_"+c,o),t.rpc.register("rscmd_stop_"+c,i),t.rpc.register("rsparam_set_"+c,r),t.rpc.call("","rsparam_get",null,c,"companyId"))}(window,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-41395348-11"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY29uZmlnIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiV2ViUGFnZSIsImRvY3VtZW50IiwiZ2FkZ2V0cyIsIl9jb25maWd1cmVQYWdlIiwiYmxvY2tlciIsInpvb21TdHlsZSIsIm1hcmdpblN0eWxlIiwiY29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJmcmFtZSIsImFzcGVjdFJhdGlvIiwiX3ByZWZzIiwiZ2V0SW50Iiwic2Nyb2xsSG9yaXpWYWwiLCJfYWRkaXRpb25hbFBhcmFtcyIsInNjcm9sbEhvcml6b250YWwiLCJzY3JvbGxWZXJ0VmFsIiwic2Nyb2xsVmVydGljYWwiLCJ6b29tIiwicGFyc2VGbG9hdCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJzZXRBdHRyaWJ1dGUiLCJkaXNwbGF5IiwiX2xvYWRGcmFtZSIsImhhc1BhcmFtcyIsInRlc3QiLCJfdXJsIiwicmFuZG9tTnVtIiwiTWF0aCIsImNlaWwiLCJyYW5kb20iLCJyZWZyZXNoVVJMIiwib25sb2FkIiwicmVmcmVzaCIsIl9pbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJfdW5sb2FkRnJhbWUiLCJjbGVhckludGVydmFsIiwic3JjIiwiX3JlYWR5IiwicnBjIiwiY2FsbCIsImdldFN0cmluZyIsIl9iYWNrZ3JvdW5kUmVhZHkiLCJ1cmwiLCJpbmRleE9mIiwicGF1c2UiLCJwbGF5Iiwic3RvcCIsInNldENvbXBhbnlJZCIsIl9jb21wYW55SWQiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwicGFyYW1zIiwiUHJlZnMiLCJfYmFja2dyb3VuZCIsIkNvbW1vbiIsIkJhY2tncm91bmQiLCJpbml0IiwiZGF0YSIsImNvbXBhbnlJZCIsIl9jYWxsYmFjayIsIl9jb25maWd1cmUiLCJiYWNrZ3JvdW5kIiwic3RvcmFnZSIsImJvZHkiLCJjb2xvciIsInVzZUltYWdlIiwiY2xhc3NOYW1lIiwiaW1hZ2UiLCJwb3NpdGlvbiIsInNjYWxlIiwiT2JqZWN0Iiwia2V5cyIsImJhY2tncm91bmRTdG9yYWdlIiwibGVuZ3RoIiwiYmFja2dyb3VuZEltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJkZXRhaWwiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImdvIiwiY29uc29sZSIsImxvZyIsImNiIiwid2luZG93IiwiYWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwibmFtZSIsInJlZ2lzdGVyIiwiaWQiLCJwcmVmcyIsIm9uY29udGV4dG1lbnUiLCJfZ2FxIiwicHVzaCIsImdhIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFFQSxHQUFzQixtQkFBWEEsUUFBd0IsQ0FDakMsR0FBSUEsVUFJbUIsb0JBQVpDLFdBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHVEQUMzQkEsU0FBUyxnQkFBaUIsU0FFN0JGLFFBQVFDLE9BQU8sb0RBQ1pFLE1BQU0sZ0JBQWlCLDBGQU05QixHQUFJQyxZQUFhQSxjQUNqQkEsWUFBV0MsV0FFWEQsV0FBV0MsUUFBVSxTQUFXQyxFQUFVQyxHQUV4QyxZQWNBLFNBQVNDLEtBQ1AsR0FRRUMsR0FBU0MsRUFBV0MsRUFSbEJDLEVBQVlOLEVBQVNPLGVBQWUscUJBQ3RDQyxFQUFRUixFQUFTTyxlQUFlLGlCQUNoQ0UsRUFBZ0JDLEVBQU9DLE9BQU8sT0FBU0QsRUFBT0MsT0FBTyxPQUFVLElBQy9EQyxFQUFrQkMsRUFBa0JDLGlCQUFtQixFQUNuREQsRUFBa0JDLGlCQUFtQixFQUN6Q0MsRUFBaUJGLEVBQWtCRyxlQUFpQixFQUNoREgsRUFBa0JHLGVBQWlCLEVBQ3ZDQyxFQUFPQyxXQUFXTCxFQUFrQkksS0FHbENYLElBQWFFLElBQ2ZMLEVBQVVHLEVBQVVhLHVCQUF1QixXQUFXLEdBR3REYixFQUFVYyxNQUFNQyxXQUFhLFNBR1AsSUFBbEJOLElBRUZOLEdBQWdCTSxFQUFnQkwsRUFBT0MsT0FBTyxPQUFVLEtBRTFETCxFQUFVZ0IsYUFBYSxRQUFTLGtCQUFvQmIsRUFBYyxLQUdsRU4sRUFBUWlCLE1BQU1HLFFBQVdWLEVBQTZCLFlBQUksT0FBUyxRQUNuRUwsRUFBTWMsYUFBYSxZQUNoQlQsRUFBNEIsV0FBSSxNQUFRLE1BRzNDVCxFQUFZLFlBQWNhLEVBQU8sMEJBQ0pBLEVBQU8sb0RBRVRBLEVBQU8sdURBRUZBLEVBQU8sbUNBR3ZDYixHQUFhLFVBQWMsRUFBSWEsRUFBUSxJQUFPLGFBQy9CLEVBQUlBLEVBQVEsSUFBTyxLQUdsQ1QsRUFBTWMsYUFBYSxRQUFTbEIsSUFFTCxJQUFuQlEsR0FBMEMsSUFBbEJHLEtBRTFCVixFQUFjLFlBQW1CVSxFQUFnQixXQUMvQ0gsRUFBaUIsTUFJbkJKLEVBQU1jLGFBQWEsUUFBU2xCLEVBQVlDLEtBSzlDLFFBQVNtQixLQUNQLEdBQUloQixHQUFRUixFQUFTTyxlQUFlLGlCQUNsQ0QsRUFBWU4sRUFBU08sZUFBZSxxQkFDcENrQixFQUFZLFFBQVFDLEtBQUtDLEdBQ3pCQyxFQUFZQyxLQUFLQyxLQUFxQixJQUFoQkQsS0FBS0UsVUFDM0JDLEVBQWFQLEVBQ1RFLEVBQU8sYUFBZUMsRUFDdEJELEVBQU8sYUFBZUMsQ0FFeEJ0QixJQUFhRSxJQUNmQSxFQUFNeUIsT0FBUyxXQUNiekIsRUFBTXlCLE9BQVMsS0FHZjNCLEVBQVVjLE1BQU1DLFdBQWEsVUFHekJSLEVBQWtCcUIsUUFBVSxJQUM5QkMsRUFBY0MsWUFBWSxXQUN4QlosS0FDQ1gsRUFBa0JxQixXQUl6QjFCLEVBQU1jLGFBQWEsTUFBT1UsSUFJOUIsUUFBU0ssS0FDUCxHQUFJN0IsR0FBUVIsRUFBU08sZUFBZSxnQkFFaENNLEdBQWtCcUIsUUFBVSxHQUM5QkksY0FBY0gsR0FHWjNCLElBQ0ZBLEVBQU0rQixJQUFNLGVBS2hCLFFBQVNDLEtBQ1B2QyxFQUFRd0MsSUFBSUMsS0FBSyxHQUFJLGdCQUFpQixLQUFNaEMsRUFBT2lDLFVBQVUsT0FDM0QsR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUc1QixRQUFTQyxLQUVQakIsRUFBT2QsRUFBa0JnQyxJQUdHLEtBQXhCbEIsRUFBS21CLFFBQVEsU0FDZm5CLEVBQU8sVUFBWUEsR0FHckJ6QixJQUNBc0MsSUFPRixRQUFTTyxLQUNQVixJQUdGLFFBQVNXLEtBQ1B4QixJQUdGLFFBQVN5QixLQUNQWixJQUdGLFFBQVNhLEdBQWFyRCxHQUNwQnNELEVBQWF0RCxFQUdmLFFBQVN1RCxHQUFvQkMsR0FDM0IzQyxFQUFTLEdBQUlULEdBQVFxRCxNQUNyQnpDLEVBQW9Cd0MsRUFHcEJFLEVBQWMsR0FBSXpELFlBQVcwRCxPQUFPQyxXQUFXNUMsRUFBbUJzQyxHQUNsRUksRUFBWUcsS0FBS2QsR0F4Sm5CLEdBQUlsQyxHQUFTLEtBQ1hHLEtBQ0FjLEVBQU8sR0FDUFEsRUFBYyxLQUNkZ0IsRUFBYSxLQUNiSSxFQUFjLElBc0poQixRQUNFTCxhQUFjQSxFQUNkRSxvQkFBcUJBLEVBQ3JCTCxNQUFPQSxFQUNQQyxLQUFNQSxFQUNOQyxLQUFNQSxJQUdQakQsU0FBVUMsUUFFYixJQUFJSCxZQUFhQSxjQUNqQkEsWUFBVzBELE9BQVMxRCxXQUFXMEQsV0FFL0IxRCxXQUFXMEQsT0FBT0MsV0FBYSxTQUFVRSxFQUFNQyxHQUM3QyxZQVFBLFNBQVNoQixLQUNQSixHQUFTLEVBRUxxQixHQUFrQyxrQkFBZEEsSUFDdEJBLElBSUosUUFBU0MsS0FDUCxHQUFJQyxHQUFhL0QsU0FBU08sZUFBZSxjQUN2Q3lELEVBQVVoRSxTQUFTTyxlQUFlLG9CQUdwQ1AsVUFBU2lFLEtBQUs3QyxNQUFNMkMsV0FBYUosRUFBS0ksV0FBV0csTUFFN0NILEVBQ0VKLEVBQUtJLFdBQVdJLFVBQ2xCSixFQUFXSyxVQUFZVCxFQUFLSSxXQUFXTSxNQUFNQyxTQUM3Q1AsRUFBV0ssVUFBWVQsRUFBS0ksV0FBV00sTUFBTUUsTUFBUVIsRUFBV0ssVUFBWSxnQkFDeEVMLEVBQVdLLFVBRW9DLElBQS9DSSxPQUFPQyxLQUFLZCxFQUFLZSxtQkFBbUJDLFFBQ3RDWixFQUFXM0MsTUFBTXdELGdCQUFrQixPQUFTakIsRUFBS0ksV0FBV00sTUFBTXhCLElBQU0sSUFDeEVELEtBRUlvQixHQUVGQSxFQUFRYSxpQkFBaUIsd0JBQXlCLFNBQVNDLEdBQ3pEZixFQUFXM0MsTUFBTXdELGdCQUFrQixPQUFTRSxFQUFFQyxPQUFPLEdBQUssSUFDMURuQyxNQUdGb0IsRUFBUTFDLGFBQWEsU0FBVXFDLEVBQUtlLGtCQUFrQk0sUUFDdERoQixFQUFRMUMsYUFBYSxXQUFZcUMsRUFBS2Usa0JBQWtCTyxVQUN4RGpCLEVBQVExQyxhQUFhLFlBQWFzQyxHQUNsQ0ksRUFBUWtCLE1BRVJDLFFBQVFDLElBQUkseURBSWhCeEMsSUFHRnVDLFFBQVFDLElBQUksaURBT2hCLFFBQVMxQixHQUFLMkIsR0FDUDdDLEVBT002QyxHQUFvQixrQkFBUEEsSUFDdEJBLEtBUElBLElBQ0Z4QixFQUFZd0IsR0FHZHZCLEtBL0RKLEdBQUlELEdBQVksS0FDZHJCLEdBQVMsQ0FxRVgsUUFDRWtCLEtBQVFBLElBTVosU0FBVzRCLEVBQVFyRixHQUNqQixZQVVBLFNBQVMrQyxLQUNQbEQsV0FBV0MsUUFBUWlELE9BR3JCLFFBQVNELEtBQ1BqRCxXQUFXQyxRQUFRZ0QsUUFHckIsUUFBU0UsS0FDUG5ELFdBQVdDLFFBQVFrRCxPQUdyQixRQUFTc0MsR0FBaUJDLEVBQU9DLEdBQzNCQyxNQUFNQyxRQUFRSCxJQUFVQSxFQUFNYixPQUFTLEdBQWtCLHFCQUFiYSxFQUFNLElBQ2hERSxNQUFNQyxRQUFRRixJQUFXQSxFQUFPZCxPQUFTLEdBQzNDN0UsV0FBV0MsUUFBUXFELG9CQUFvQndDLEtBQUtDLE1BQU1KLEVBQU8sS0FLL0QsUUFBUzdCLEdBQVVrQyxFQUFNakcsR0FDbkJpRyxHQUFpQixjQUFUQSxHQUNWaEcsV0FBV0MsUUFBUW1ELGFBQWFyRCxHQUdsQ0ksRUFBUXdDLElBQUlzRCxTQUFTLGVBQWlCQyxFQUFJVCxHQUMxQ3RGLEVBQVF3QyxJQUFJQyxLQUFLLEdBQUksY0FBZSxLQUFNc0QsR0FBSyxxQkFsQ2pELEdBQUlDLEdBQVEsR0FBSWhHLEdBQVFxRCxNQUN0QjBDLEVBQUtDLEVBQU10RCxVQUFVLEtBR3ZCMkMsR0FBT1ksY0FBZ0IsV0FDckIsT0FBTyxHQWdDTEYsR0FBYSxLQUFQQSxJQUNSL0YsRUFBUXdDLElBQUlzRCxTQUFTLGNBQWdCQyxFQUFJaEQsR0FDekMvQyxFQUFRd0MsSUFBSXNELFNBQVMsZUFBaUJDLEVBQUlqRCxHQUMxQzlDLEVBQVF3QyxJQUFJc0QsU0FBUyxjQUFnQkMsRUFBSS9DLEdBQ3pDaEQsRUFBUXdDLElBQUlzRCxTQUFTLGVBQWlCQyxFQUFJcEMsR0FFMUMzRCxFQUFRd0MsSUFBSUMsS0FBSyxHQUFJLGNBQWUsS0FBTXNELEVBQUksZUFHL0NWLE9BQVFyRixRQUtYLElBQUlrRyxNQUFPQSxRQUVYQSxNQUFLQyxNQUFNLGNBQWUsbUJBQzFCRCxLQUFLQyxNQUFNLG1CQUVYLFdBQ0UsR0FBSUMsR0FBS3JHLFNBQVNzRyxjQUFjLFNBQVdELEdBQUdFLEtBQU8sa0JBQW1CRixFQUFHRyxPQUFRLEVBQ25GSCxFQUFHOUQsS0FBTyxVQUFZdkMsU0FBU3lHLFNBQVNDLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUkzRyxTQUFTNEcscUJBQXFCLFVBQVUsRUFBSUQsR0FBRUUsV0FBV0MsYUFBYVQsRUFBSU0iLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBjb25maWc6IHRydWUgKi9cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBjb25maWcgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICAvLyB2YXJpYWJsZXMgZ28gaGVyZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImNvbXBvbmVudHMvcnYtY29tbW9uLWkxOG4vZGlzdC9sb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc3RvcmFnZS1zZWxlY3Rvci5jb25maWdcIilcbiAgICAgIC52YWx1ZShcIlNUT1JBR0VfTU9EQUxcIiwgXCJodHRwOi8vc3RvcmFnZS5yaXNldmlzaW9uLmNvbS9+cnZpL3N0b3JhZ2UtY2xpZW50LXJ2YS10ZXN0L3N0b3JhZ2UtbW9kYWwuaHRtbCMvZmlsZXMvXCIpO1xuICB9XG59XG5cbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uV2ViUGFnZSA9IHt9O1xuXG5SaXNlVmlzaW9uLldlYlBhZ2UgPSAoZnVuY3Rpb24gKGRvY3VtZW50LCBnYWRnZXRzKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLy8gcHJpdmF0ZSB2YXJpYWJsZXNcbiAgdmFyIF9wcmVmcyA9IG51bGwsXG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSB7fSxcbiAgICBfdXJsID0gXCJcIixcbiAgICBfaW50ZXJ2YWxJZCA9IG51bGwsXG4gICAgX2NvbXBhbnlJZCA9IG51bGwsXG4gICAgX2JhY2tncm91bmQgPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgZnVuY3Rpb24gX2NvbmZpZ3VyZVBhZ2UoKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2VicGFnZS1jb250YWluZXJcIiksXG4gICAgICBmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2VicGFnZS1mcmFtZVwiKSxcbiAgICAgIGFzcGVjdFJhdGlvID0gIChfcHJlZnMuZ2V0SW50KFwicnNIXCIpIC8gX3ByZWZzLmdldEludChcInJzV1wiKSkgKiAxMDAsXG4gICAgICBzY3JvbGxIb3JpelZhbCA9IChfYWRkaXRpb25hbFBhcmFtcy5zY3JvbGxIb3Jpem9udGFsID4gMCkgP1xuICAgICAgICAgIF9hZGRpdGlvbmFsUGFyYW1zLnNjcm9sbEhvcml6b250YWwgOiAwLFxuICAgICAgc2Nyb2xsVmVydFZhbCA9IChfYWRkaXRpb25hbFBhcmFtcy5zY3JvbGxWZXJ0aWNhbCA+IDApID9cbiAgICAgICAgICBfYWRkaXRpb25hbFBhcmFtcy5zY3JvbGxWZXJ0aWNhbCA6IDAsXG4gICAgICB6b29tID0gcGFyc2VGbG9hdChfYWRkaXRpb25hbFBhcmFtcy56b29tKSxcbiAgICAgIGJsb2NrZXIsIHpvb21TdHlsZSwgbWFyZ2luU3R5bGU7XG5cbiAgICBpZiAoY29udGFpbmVyICYmIGZyYW1lKSB7XG4gICAgICBibG9ja2VyID0gY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJibG9ja2VyXCIpWzBdO1xuXG4gICAgICAvLyBIaWRpbmcgaWZyYW1lIGNvbnRhaW5lciwgdmlzaWJsZSB3aGVuIHRoZSBpZnJhbWUgc3VjY2Vzc2Z1bGx5IGxvYWRzXG4gICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cbiAgICAgIC8vIHNldCB0aGUgcGFkZGluZy1ib3R0b20gd2l0aCB0aGUgYXNwZWN0IHJhdGlvICUgKHJlc3BvbnNpdmUpXG4gICAgICBpZiAoc2Nyb2xsVmVydFZhbCAhPT0gMCkge1xuICAgICAgICAvLyByZWNhbGN1bGF0ZSBhc3BlY3QgcmF0aW9cbiAgICAgICAgYXNwZWN0UmF0aW8gKz0gKHNjcm9sbFZlcnRWYWwgLyBfcHJlZnMuZ2V0SW50KFwicnNXXCIpKSAqIDEwMDtcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcInBhZGRpbmctYm90dG9tOlwiICsgYXNwZWN0UmF0aW8gKyBcIiVcIik7XG5cbiAgICAgIC8vIENvbmZpZ3VyZSBpbnRlcmFjdGl2aXR5IG9mIGlmcmFtZVxuICAgICAgYmxvY2tlci5zdHlsZS5kaXNwbGF5ID0gKF9hZGRpdGlvbmFsUGFyYW1zLmludGVyYWN0aXZlKSA/IFwibm9uZVwiIDogXCJibG9ja1wiO1xuICAgICAgZnJhbWUuc2V0QXR0cmlidXRlKFwic2Nyb2xsaW5nXCIsXG4gICAgICAgIChfYWRkaXRpb25hbFBhcmFtcy5zY3JvbGxiYXJzKSA/IFwieWVzXCIgOiBcIm5vXCIpO1xuXG4gICAgICAvLyBDb25maWd1cmUgdGhlIHpvb20gKHNjYWxlKSBzdHlsaW5nXG4gICAgICB6b29tU3R5bGUgPSBcIi1tcy16b29tOlwiICsgem9vbSArIFwiO1wiICtcbiAgICAgICAgXCItbW96LXRyYW5zZm9ybTogc2NhbGUoXCIgKyB6b29tICsgXCIpO1wiICtcbiAgICAgICAgXCItbW96LXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcIiArXG4gICAgICAgIFwiLW8tdHJhbnNmb3JtOiBzY2FsZShcIiArIHpvb20gKyBcIik7XCIgK1xuICAgICAgICBcIi1vLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcIiArXG4gICAgICAgIFwiLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKFwiICsgem9vbSArIFwiKTtcIiArXG4gICAgICAgIFwiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XCI7XG5cbiAgICAgIHpvb21TdHlsZSArPSBcIndpZHRoOiBcIiArICgoMSAvIHpvb20pICogMTAwKSArIFwiJTtcIiArXG4gICAgICBcImhlaWdodDogXCIgKyAoKDEgLyB6b29tKSAqIDEwMCkgKyBcIiU7XCI7XG5cbiAgICAgIC8vIEFwcGx5IHRoZSB6b29tIChzY2FsZSkgb24gdGhlIGlmcmFtZVxuICAgICAgZnJhbWUuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgem9vbVN0eWxlKTtcblxuICAgICAgaWYgKHNjcm9sbEhvcml6VmFsICE9PSAwIHx8IHNjcm9sbFZlcnRWYWwgIT09IDApIHtcbiAgICAgICAgLy8gQ29uZmlndXJlIHRoZSBtYXJnaW4gc3R5bGluZ1xuICAgICAgICBtYXJnaW5TdHlsZSA9IFwibWFyZ2luOiBcIiArIFwiLVwiICsgc2Nyb2xsVmVydFZhbCArIFwicHggMCAwIC1cIiArXG4gICAgICAgICAgc2Nyb2xsSG9yaXpWYWwgKyBcInB4O1wiO1xuXG4gICAgICAgIC8qIEFwcGx5IHRoZSBtYXJnaW4gc3R5bGluZyBvbiB0aGUgaWZyYW1lIHdoaWxlIG1haW50YWluaW5nXG4gICAgICAgICB0aGUgem9vbSBzdHlsaW5nICovXG4gICAgICAgIGZyYW1lLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHpvb21TdHlsZSArIG1hcmdpblN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfbG9hZEZyYW1lKCkge1xuICAgIHZhciBmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2VicGFnZS1mcmFtZVwiKSxcbiAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2VicGFnZS1jb250YWluZXJcIiksXG4gICAgICBoYXNQYXJhbXMgPSAvWz8jJl0vLnRlc3QoX3VybCksXG4gICAgICByYW5kb21OdW0gPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDEwMCksXG4gICAgICByZWZyZXNoVVJMID0gaGFzUGFyYW1zID9cbiAgICAgICAgICBfdXJsICsgXCImZHVtbXlWYXI9XCIgKyByYW5kb21OdW0gOlxuICAgICAgICAgIF91cmwgKyBcIj9kdW1teVZhcj1cIiArIHJhbmRvbU51bTtcblxuICAgIGlmIChjb250YWluZXIgJiYgZnJhbWUpIHtcbiAgICAgIGZyYW1lLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnJhbWUub25sb2FkID0gbnVsbDtcblxuICAgICAgICAvLyBTaG93IHRoZSBpZnJhbWUgY29udGFpbmVyXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgLy8gUnVuIHNldEludGVydmFsIHRvIHJlbG9hZCBwYWdlIGJhc2VkIG9uIHRoZSBkYXRhIHJlZnJlc2ggdmFsdWVcbiAgICAgICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnJlZnJlc2ggPiAwKSB7XG4gICAgICAgICAgX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfbG9hZEZyYW1lKCk7XG4gICAgICAgICAgfSwgX2FkZGl0aW9uYWxQYXJhbXMucmVmcmVzaCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZyYW1lLnNldEF0dHJpYnV0ZShcInNyY1wiLCByZWZyZXNoVVJMKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfdW5sb2FkRnJhbWUoKSB7XG4gICAgdmFyIGZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWJwYWdlLWZyYW1lXCIpO1xuXG4gICAgaWYgKF9hZGRpdGlvbmFsUGFyYW1zLnJlZnJlc2ggPiAwKSB7XG4gICAgICBjbGVhckludGVydmFsKF9pbnRlcnZhbElkKTtcbiAgICB9XG5cbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIGZyYW1lLnNyYyA9IFwiYWJvdXQ6YmxhbmtcIjtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIF9yZWFkeSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9yZWFkeVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksXG4gICAgICB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfYmFja2dyb3VuZFJlYWR5KCkge1xuICAgIC8vIENvbmZpZ3VyZSB0aGUgdmFsdWUgZm9yIF91cmxcbiAgICBfdXJsID0gX2FkZGl0aW9uYWxQYXJhbXMudXJsO1xuXG4gICAgLy8gQWRkIGh0dHA6Ly8gaWYgbm8gcHJvdG9jb2wgcGFyYW1ldGVyIGV4aXN0c1xuICAgIGlmIChfdXJsLmluZGV4T2YoXCI6Ly9cIikgPT09IC0xKSB7XG4gICAgICBfdXJsID0gXCJodHRwOi8vXCIgKyBfdXJsO1xuICAgIH1cblxuICAgIF9jb25maWd1cmVQYWdlKCk7XG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3VubG9hZEZyYW1lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIF9sb2FkRnJhbWUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgX3VubG9hZEZyYW1lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRDb21wYW55SWQodmFsdWUpIHtcbiAgICBfY29tcGFueUlkID0gdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKHBhcmFtcykge1xuICAgIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCk7XG4gICAgX2FkZGl0aW9uYWxQYXJhbXMgPSBwYXJhbXM7XG5cbiAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIEJhY2tncm91bmQgaW5zdGFuY2VcbiAgICBfYmFja2dyb3VuZCA9IG5ldyBSaXNlVmlzaW9uLkNvbW1vbi5CYWNrZ3JvdW5kKF9hZGRpdGlvbmFsUGFyYW1zLCBfY29tcGFueUlkKTtcbiAgICBfYmFja2dyb3VuZC5pbml0KF9iYWNrZ3JvdW5kUmVhZHkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRDb21wYW55SWQ6IHNldENvbXBhbnlJZCxcbiAgICBzZXRBZGRpdGlvbmFsUGFyYW1zOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIHBhdXNlOiBwYXVzZSxcbiAgICBwbGF5OiBwbGF5LFxuICAgIHN0b3A6IHN0b3BcbiAgfTtcblxufSkoZG9jdW1lbnQsIGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5CYWNrZ3JvdW5kID0gZnVuY3Rpb24gKGRhdGEsIGNvbXBhbnlJZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2NhbGxiYWNrID0gbnVsbCxcbiAgICBfcmVhZHkgPSBmYWxzZTtcblxuICAvKlxuICAgKiBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIF9iYWNrZ3JvdW5kUmVhZHkoKSB7XG4gICAgX3JlYWR5ID0gdHJ1ZTtcblxuICAgIGlmIChfY2FsbGJhY2sgJiYgdHlwZW9mIF9jYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBfY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY29uZmlndXJlKCkge1xuICAgIHZhciBiYWNrZ3JvdW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrZ3JvdW5kXCIpLFxuICAgICAgc3RvcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja2dyb3VuZFN0b3JhZ2VcIik7XG5cbiAgICAvLyBzZXQgdGhlIGRvY3VtZW50IGJhY2tncm91bmRcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBkYXRhLmJhY2tncm91bmQuY29sb3I7XG5cbiAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgaWYgKGRhdGEuYmFja2dyb3VuZC51c2VJbWFnZSkge1xuICAgICAgICBiYWNrZ3JvdW5kLmNsYXNzTmFtZSA9IGRhdGEuYmFja2dyb3VuZC5pbWFnZS5wb3NpdGlvbjtcbiAgICAgICAgYmFja2dyb3VuZC5jbGFzc05hbWUgPSBkYXRhLmJhY2tncm91bmQuaW1hZ2Uuc2NhbGUgPyBiYWNrZ3JvdW5kLmNsYXNzTmFtZSArIFwiIHNjYWxlLXRvLWZpdFwiXG4gICAgICAgICAgOiBiYWNrZ3JvdW5kLmNsYXNzTmFtZTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGF0YS5iYWNrZ3JvdW5kU3RvcmFnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgYmFja2dyb3VuZC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGRhdGEuYmFja2dyb3VuZC5pbWFnZS51cmwgKyBcIilcIjtcbiAgICAgICAgICBfYmFja2dyb3VuZFJlYWR5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2UpIHtcbiAgICAgICAgICAgIC8vIFJpc2UgU3RvcmFnZVxuICAgICAgICAgICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGUuZGV0YWlsWzBdICsgXCIpXCI7XG4gICAgICAgICAgICAgIF9iYWNrZ3JvdW5kUmVhZHkoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBkYXRhLmJhY2tncm91bmRTdG9yYWdlLmZvbGRlcik7XG4gICAgICAgICAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVOYW1lXCIsIGRhdGEuYmFja2dyb3VuZFN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgICAgICAgICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgY29tcGFueUlkKTtcbiAgICAgICAgICAgIHN0b3JhZ2UuZ28oKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJNaXNzaW5nIGVsZW1lbnQgd2l0aCBpZCB2YWx1ZSBvZiAnYmFja2dyb3VuZFN0b3JhZ2UnXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2JhY2tncm91bmRSZWFkeSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk1pc3NpbmcgZWxlbWVudCB3aXRoIGlkIHZhbHVlIG9mICdiYWNrZ3JvdW5kJ1wiKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoY2IpIHtcbiAgICBpZiAoIV9yZWFkeSkge1xuICAgICAgaWYgKGNiKSB7XG4gICAgICAgIF9jYWxsYmFjayA9IGNiO1xuICAgICAgfVxuXG4gICAgICBfY29uZmlndXJlKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBSaXNlVmlzaW9uLCBnYWRnZXRzICovXG5cbihmdW5jdGlvbiAod2luZG93LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAvLyBEaXNhYmxlIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSlcbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgUmlzZVZpc2lvbi5XZWJQYWdlLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIFJpc2VWaXNpb24uV2ViUGFnZS5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLldlYlBhZ2Uuc3RvcCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkaXRpb25hbFBhcmFtcyhuYW1lcywgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgbmFtZXNbMF0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIFJpc2VWaXNpb24uV2ViUGFnZS5zZXRBZGRpdGlvbmFsUGFyYW1zKEpTT04ucGFyc2UodmFsdWVzWzBdKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGFueUlkKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKG5hbWUgJiYgbmFtZSA9PT0gXCJjb21wYW55SWRcIikge1xuICAgICAgUmlzZVZpc2lvbi5XZWJQYWdlLnNldENvbXBhbnlJZCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICB9XG5cbiAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfcGF1c2VfXCIgKyBpZCwgcGF1c2UpO1xuICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcbiAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbXBhbnlJZCk7XG5cbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFwiY29tcGFueUlkXCIpO1xuICB9XG5cbn0pKHdpbmRvdywgZ2FkZ2V0cyk7XG5cblxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTQxMzk1MzQ4LTExJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==